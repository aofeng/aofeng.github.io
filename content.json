{"meta":{"title":"聂勇的个人网站","subtitle":"0与1构筑世界，程序员创造时代","description":"l软件 架构 设计 编程 Java Python Nodejs","author":"聂勇","url":"http://aofeng.github.io"},"pages":[],"posts":[{"title":"MySQL5.5-将字符集从utf8升级为utf8mb4","slug":"MySQL5-5-将字符集从utf8升级为utf8mb4","date":"2016-01-04T12:08:44.000Z","updated":"2016-11-06T12:06:15.000Z","comments":true,"path":"2016/01/04/MySQL5-5-将字符集从utf8升级为utf8mb4/","link":"","permalink":"http://aofeng.github.io/2016/01/04/MySQL5-5-将字符集从utf8升级为utf8mb4/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x4E00;&#x3001;&#x5347;&#x7EA7;&#x524D; &#x4E8C;&#x3001;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6; &#x4E09;&#x3001;&#x5347;&#x7EA7;&#x540E; MySQL&#x9ED8;&#x8BA4;&#x7684;utf8&#x53EA;&#x652F;&#x6301;&#x4E09;&#x5B57;&#x8282;&#x5B57;&#x7B26;&#xFF0C;&#x4E0D;&#x652F;&#x6301;Emoji&#x8868;&#x60C5;&#x7B26;&#xFF08;&#x56DB;&#x5B57;&#x8282;&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x56DB;&#x5B57;&#x8282;&#x7684;&#x5B57;&#x7B26;&#x5199;&#x5165;&#x4F1A;&#x62A5;&#x9519;&#x3002;&#x4ECE;MySQL 5.5&#x5F00;&#x59CB;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;utf8mb4&#xFF0C;&#x652F;&#x6301;&#x56DB;&#x5B57;&#x8282;&#x7684;&#x5B57;&#x7B26;&#x3002;&#x8BB8;&#x591A;&#x4F7F;&#x7528;iphone&#x7684;&#x7528;&#x6237;&#x6765;&#x5728;&#x586B;&#x5199;&#x6635;&#x79F0;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x52A0;&#x5165;Emoji&#x8868;&#x60C5;&#x7B26;&#xFF0C;&#x5982;&#x679C;MySQL&#x6CA1;&#x6709;&#x4F7F;&#x7528;utf8mb4&#x5B57;&#x7B26;&#x96C6;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x6635;&#x79F0;&#x4FE1;&#x606F;&#x5C31;&#x65E0;&#x6CD5;&#x5199;&#x5165;&#x3002; &#x4E00;&#x3001;&#x5347;&#x7EA7;&#x524D;1mysql&gt; SHOW VARIABLES LIKE &apos;character_set%&apos;; Variable_name Value character_set_client utf8 character_set_connection utf8 character_set_database utf8 character_set_filesystem binary character_set_results utf8 character_set_server utf8 character_set_system utf8 character_sets_dir /home/sdkserver/local/mysql-5.5.43/share/charsets/ 8 rows in set (0.00 sec) 1mysql&gt; SHOW VARIABLES LIKE &apos;collation%&apos;; Variable_name Value collation_connection utf8_general_ci collation_database utf8_unicode_ci collation_server utf8_unicode_ci 3 rows in set (0.00 sec) &#x4E8C;&#x3001;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6253;&#x5F00;MySQL&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5C06;&#x5B57;&#x7B26;&#x96C6;&#x7684;&#x914D;&#x7F6E;&#x4FEE;&#x6539;&#x6210;&#x5982;&#x4E0B;&#xFF1A;1234567891011[client] default-character-set = utf8mb4[mysql] default-character-set = utf8mb4[mysqld] character-set-client-handshake = FALSEcharacter-set-server = utf8mb4collation-server = utf8mb4_general_ciinit_connect=&apos;SET NAMES utf8mb4&apos; &#x4E09;&#x3001;&#x5347;&#x7EA7;&#x540E;1mysql&gt; SHOW VARIABLES LIKE &apos;character_set%&apos;; Variable_name Value character_set_client utf8mb4 character_set_connection utf8mb4 character_set_database utf8mb4 character_set_filesystem binary character_set_results utf8mb4 character_set_server utf8mb4 character_set_system utf8 character_sets_dir /home/nieyong/local/mysql-5.5.43/share/charsets/ 8 rows in set (0.00 sec) 1mysql&gt; SHOW VARIABLES LIKE &apos;collation%&apos;; Variable_name Value collation_connection utf8mb4_general_ci collation_database utf8mb4_general_ci collation_server utf8mb4_general_ci 3 rows in set (0.00 sec)","categories":[{"name":"数据库","slug":"数据库","permalink":"http://aofeng.github.io/categories/数据库/"},{"name":"MySQL","slug":"数据库/MySQL","permalink":"http://aofeng.github.io/categories/数据库/MySQL/"}],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://aofeng.github.io/tags/mysql/"},{"name":"数据库","slug":"数据库","permalink":"http://aofeng.github.io/tags/数据库/"}],"keywords":[{"name":"数据库","slug":"数据库","permalink":"http://aofeng.github.io/categories/数据库/"},{"name":"MySQL","slug":"数据库/MySQL","permalink":"http://aofeng.github.io/categories/数据库/MySQL/"}]},{"title":"Gson-自定义反序列化","slug":"Gson-自定义反序列化","date":"2015-08-17T12:21:12.000Z","updated":"2016-11-06T12:06:07.000Z","comments":true,"path":"2015/08/17/Gson-自定义反序列化/","link":"","permalink":"http://aofeng.github.io/2015/08/17/Gson-自定义反序列化/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x4E00;&#x3001;&#x9700;&#x6C42; &#x4E8C;&#x3001;&#x5B9E;&#x73B0; 1&#x3001;&#x81EA;&#x5B9A;&#x4E49;&#x53CD;&#x5E8F;&#x5217;&#x5316; 2&#x3001;&#x6CE8;&#x518C;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x53CD;&#x5E8F;&#x5217;&#x5316; &#x4E09;&#x3001;&#x53C2;&#x8003;&#x8D44;&#x6599; &#x4E0A;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x300A;Gson&#x6559;&#x7A0B;-&#x81EA;&#x5B9A;&#x4E49;&#x5E8F;&#x5217;&#x5316;&#x300B;&#x4ECB;&#x7ECD;&#x4E86;&#x4F7F;&#x7528;Gson&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x5E8F;&#x5217;&#x5316;&#x6EE1;&#x8DB3;&#x4E00;&#x4E9B;&#x4E1A;&#x52A1;&#x573A;&#x666F;&#x4E0B;&#x7684;&#x9700;&#x6C42;&#x3002;&#x540C;&#x6837;&#x7684;&#xFF0C;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#xFF08;JSON&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x6362;&#x6210;Java&#x5BF9;&#x8C61;&#xFF09;&#x4E5F;&#x9700;&#x8981;&#x81EA;&#x5B9A;&#x4E49;&#xFF0C;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x4E0E;&#x5E8F;&#x5217;&#x5316;&#x4E00;&#x6837;&#xFF0C;&#x4E24;&#x6B65;&#x641E;&#x5B9A;&#xFF1A; &#x5B9E;&#x73B0;JsonDeserializer&#x63A5;&#x53E3;&#x3002; &#x6CE8;&#x518C;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x5B9E;&#x73B0;&#x3002; &#x4E00;&#x3001;&#x9700;&#x6C42;1&#x3001;&#x6709;&#x5982;&#x4E0B;JSON&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x9700;&#x8981;&#x8F6C;&#x6362;&#x6210;Person&#x5BF9;&#x8C61;&#x3002; {&#x201C;PersonName&#x201D;:&#x201D;aofeng&#x201D;,&#x201D;PersonAge&#x201D;:32} 2&#x3001;Person&#x6709;&#x4E24;&#x4E2A;&#x5C5E;&#x6027;&#xFF1A;name&#x548C;age&#xFF0C;&#x70B9;&#x51FB;&#x67E5;&#x770B;&#x6E90;&#x4EE3;&#x7801;&#x3002; &#x4E8C;&#x3001;&#x5B9E;&#x73B0;1&#x3001;&#x81EA;&#x5B9A;&#x4E49;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x5B9E;&#x73B0;JsonDeserializer&#x63A5;&#x53E3;&#x7684;deserialize&#x65B9;&#x6CD5;&#xFF1A;123456789101112131415public static class PersonDeserializer implements JsonDeserializer&lt;Person&gt; { @Override public Person deserialize(JsonElement jsonEle, Type type, JsonDeserializationContext context) throws JsonParseException { JsonObject jo = jsonEle.getAsJsonObject(); String name = jo.get(&quot;PersonName&quot;).getAsString(); int age = jo.get(&quot;PersonAge&quot;).getAsInt(); Person obj = new Person(name, age); return obj; } } 2&#x3001;&#x6CE8;&#x518C;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;GsonBuilder&#xFF0C;&#x4F7F;&#x7528;registerTypeAdapter&#x65B9;&#x6CD5;&#x6CE8;&#x518C;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x5E8F;&#x5217;&#x5316;&#x5B9E;&#x73B0;&#xFF0C;&#x7136;&#x540E;&#x751F;&#x6210;Gson&#x5BF9;&#x8C61;&#x6765;&#x8FDB;&#x884C;&#x5E8F;&#x5217;&#x5316;&#x3002;123456789public static void main(String[] args) { GsonBuilder builder = new GsonBuilder(); builder.registerTypeAdapter(Person.class, new PersonDeserializer()); Gson gson = builder.create(); String json = &quot;{\\&quot;PersonName\\&quot;:\\&quot;aofeng\\&quot;,\\&quot;PersonAge\\&quot;:32}&quot;; Person obj = gson.fromJson(json, Person.class); System.out.println(obj);} &#x8FD0;&#x884C;&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#xFF0C;&#x8F93;&#x51FA;&#x4FE1;&#x606F;&#x5982;&#x4E0B;: Person [name=aofeng, age=32] &#x9644;&#xFF1A;&#x5B8C;&#x6574;&#x7684;&#x6E90;&#x4EE3;&#x7801; &#x4E09;&#x3001;&#x53C2;&#x8003;&#x8D44;&#x6599; Gson Offical Site Gson User Guide","categories":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"Java","slug":"编程/Java","permalink":"http://aofeng.github.io/categories/编程/Java/"}],"tags":[{"name":"java","slug":"java","permalink":"http://aofeng.github.io/tags/java/"},{"name":"gson","slug":"gson","permalink":"http://aofeng.github.io/tags/gson/"},{"name":"json","slug":"json","permalink":"http://aofeng.github.io/tags/json/"},{"name":"serialize","slug":"serialize","permalink":"http://aofeng.github.io/tags/serialize/"},{"name":"序列化","slug":"序列化","permalink":"http://aofeng.github.io/tags/序列化/"}],"keywords":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"Java","slug":"编程/Java","permalink":"http://aofeng.github.io/categories/编程/Java/"}]},{"title":"Gson-自定义序列化","slug":"Gson-自定义序列化","date":"2015-08-14T12:13:56.000Z","updated":"2016-11-06T12:06:11.000Z","comments":true,"path":"2015/08/14/Gson-自定义序列化/","link":"","permalink":"http://aofeng.github.io/2015/08/14/Gson-自定义序列化/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x4E00;&#x3001;&#x9700;&#x6C42; &#x4E8C;&#x3001;&#x5B9E;&#x73B0; 1&#x3001;&#x81EA;&#x5B9A;&#x4E49;&#x5E8F;&#x5217;&#x5316; 2&#x3001;&#x6CE8;&#x518C;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x5E8F;&#x5217;&#x5316; &#x4E09;&#x3001;&#x53C2;&#x8003;&#x8D44;&#x6599; &#x4E0A;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x300A;Gson&#x6559;&#x7A0B;-&#x5E8F;&#x5217;&#x5316;&#x4E0E;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x57FA;&#x7840;&#x64CD;&#x4F5C;&#x300B;&#x4ECB;&#x7ECD;&#x4E86;Gson&#x7684;&#x7279;&#x6027;&#x548C;&#x57FA;&#x672C;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x3002;&#x5982;&#x679C;&#x78B0;&#x4E0A;&#x4E00;&#x4E9B;&#x7279;&#x6B8A;&#x7684;&#x4F7F;&#x7528;&#x573A;&#x666F;&#xFF1A; &#x51FA;&#x751F;&#x65E5;&#x671F;&#x5B58;&#x50A8;&#x7684;&#x662F;&#x6BEB;&#x79D2;&#x6570;&#xFF0C;&#x4F46;&#x8F93;&#x51FA;JSON&#x65F6;&#x9700;&#x8981;&#x662F;&#x5E74;&#x6708;&#x65E5;&#x7684;&#x683C;&#x5F0F;&#xFF1B; &#x6709;&#x4E9B;&#x5B57;&#x6BB5;&#x4E0D;&#x60F3;&#x8F93;&#x51FA;&#xFF1B; &#x8F93;&#x51FA;&#x7684;&#x5B57;&#x6BB5;&#x540D;&#x4E0E;&#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x5B57;&#x6BB5;&#x540D;&#x4E0D;&#x76F8;&#x540C;&#x3002; &#x600E;&#x4E48;&#x529E;&#x5462;&#xFF1F;Gson&#x63D0;&#x4F9B;&#x4E86;&#x81EA;&#x5B9A;&#x4E49;&#x5E8F;&#x5217;&#x5316;&#x548C;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#xFF0C;&#x5E76;&#x4E14;&#x5B9E;&#x73B0;&#x4E5F;&#x975E;&#x5E38;&#x7B80;&#x5355;&#xFF0C;&#x4E24;&#x6B65;&#x641E;&#x5B9A;&#xFF1A; &#x5B9E;&#x73B0;JsonSerializer&#x63A5;&#x53E3;&#x3002; &#x6CE8;&#x518C;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x5E8F;&#x5217;&#x5316;&#x5B9E;&#x73B0;&#x3002; &#x4E00;&#x3001;&#x9700;&#x6C42;1&#x3001;&#x4E00;&#x4E2A;POJO&#x7C7B;&#xFF1A;Person&#xFF0C;&#x6709;&#x4E24;&#x4E2A;&#x5C5E;&#x6027;&#xFF1A;name&#x548C;age&#x3002;&#x6E90;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#x3002;2&#x3001;&#x5E8F;&#x5217;&#x5316;&#x6210;JSON&#x5B57;&#x7B26;&#x4E32;&#x65F6;&#xFF0C;name&#x5B57;&#x6BB5;&#x540D;&#x8F93;&#x51FA;&#x4E3A;PersonName&#xFF0C;age&#x5B57;&#x6BB5;&#x540D;&#x8F93;&#x51FA;&#x4E3A;PersonAge&#x3002;123456789101112131415161718192021222324252627282930313233343536373839404142/** ** * &#x7B80;&#x5355;&#x7684;Java&#x5BF9;&#x8C61;&#x3002; * * @author &lt;a href=&quot;mailto:aofengblog@163.com&quot;&gt;&#x8042;&#x52C7;&lt;/a&gt; */public class Person { private String name; private int age; public Person() { // nothing } public Person(String name, int age) { this.name = name; this.age = age; } public String getName() { return name; } public void setName(String name) { this.name = name; } public int getAge() { return age; } public void setAge(int age) { this.age = age; } @Override public String toString() { return &quot;Person [name=&quot; + name + &quot;, age=&quot; + age + &quot;]&quot;; }} &#x4E8C;&#x3001;&#x5B9E;&#x73B0;1&#x3001;&#x81EA;&#x5B9A;&#x4E49;&#x5E8F;&#x5217;&#x5316;&#x5B9E;&#x73B0;JsonSerializer&#x63A5;&#x53E3;&#x7684;serialize&#x65B9;&#x6CD5;&#xFF0C;&#x60F3;&#x600E;&#x4E48;&#x5F04;&#x90FD;&#x53EF;&#x4EE5;&#x968F;&#x5FC3;&#x6240;&#x6B32; :)12345678910111213public class PersonSerializer implements JsonSerializer&lt;Person&gt; { @Override public JsonElement serialize(Person obj, Type type, JsonSerializationContext context) { JsonObject jo = new JsonObject(); jo.addProperty(&quot;PersonName&quot;, obj.getName()); jo.addProperty(&quot;PersonAge&quot;, obj.getAge()); return jo; }} 2&#x3001;&#x6CE8;&#x518C;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x5E8F;&#x5217;&#x5316;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;GsonBuilder&#xFF0C;&#x4F7F;&#x7528;registerTypeAdapter&#x65B9;&#x6CD5;&#x6CE8;&#x518C;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x5E8F;&#x5217;&#x5316;&#x5B9E;&#x73B0;&#xFF0C;&#x7136;&#x540E;&#x751F;&#x6210;Gson&#x5BF9;&#x8C61;&#x6765;&#x8FDB;&#x884C;&#x5E8F;&#x5217;&#x5316;&#x3002;12345678public static void main(String[] args) { GsonBuilder builder = new GsonBuilder(); builder.registerTypeAdapter(Person.class, new PersonSerializer()); Gson gson = builder.create(); Person obj = new Person(&quot;aofeng&quot;, 32); System.out.println( gson.toJson(obj) );} &#x8FD0;&#x884C;&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#xFF0C;&#x8F93;&#x51FA;&#x4FE1;&#x606F;&#x5982;&#x4E0B;: {&#x201C;PersonName&#x201D;:&#x201D;aofeng&#x201D;,&#x201D;PersonAge&#x201D;:32} &#x9644;&#xFF1A;&#x5B8C;&#x6574;&#x7684;&#x6E90;&#x4EE3;&#x7801; &#x4E09;&#x3001;&#x53C2;&#x8003;&#x8D44;&#x6599; Gson Offical Site Gson User Guide","categories":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"Java","slug":"编程/Java","permalink":"http://aofeng.github.io/categories/编程/Java/"}],"tags":[{"name":"java","slug":"java","permalink":"http://aofeng.github.io/tags/java/"},{"name":"gson","slug":"gson","permalink":"http://aofeng.github.io/tags/gson/"},{"name":"json","slug":"json","permalink":"http://aofeng.github.io/tags/json/"},{"name":"serialize","slug":"serialize","permalink":"http://aofeng.github.io/tags/serialize/"},{"name":"序列化","slug":"序列化","permalink":"http://aofeng.github.io/tags/序列化/"}],"keywords":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"Java","slug":"编程/Java","permalink":"http://aofeng.github.io/categories/编程/Java/"}]},{"title":"Gson-序列化与反序列化基础操作","slug":"Gson-序列化与反序列化基础操作","date":"2015-08-12T11:57:18.000Z","updated":"2016-11-06T12:06:02.000Z","comments":true,"path":"2015/08/12/Gson-序列化与反序列化基础操作/","link":"","permalink":"http://aofeng.github.io/2015/08/12/Gson-序列化与反序列化基础操作/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x4E00;&#x3001;&#x666E;&#x901A;&#x5BF9;&#x8C61;&#xFF08;POJO&#xFF09; &#x4E8C;&#x3001;&#x6570;&#x7EC4; 1&#x3001;&#x5E8F;&#x5217;&#x5316; 2&#x3001;&#x53CD;&#x5E8F;&#x5217;&#x5316; &#x4E09;&#x3001;&#x96C6;&#x5408;&#x7C7B; 1&#x3001;&#x5E8F;&#x5217;&#x5316; 2&#x3001;&#x53CD;&#x5E8F;&#x5217;&#x5316; &#x56DB;&#x3001;&#x53C2;&#x8003;&#x8D44;&#x6599; Gson&#x662F;&#x4F17;&#x591A;&#x5F00;&#x6E90;JSON&#x7C7B;&#x5E93;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#xFF0C;&#x4F7F;&#x7528;&#x975E;&#x5E38;&#x7B80;&#x5355;&#xFF0C;&#x4F7F;&#x7528;toJson&#x548C;fromJson&#x65B9;&#x6CD5;&#x53EF;&#x5C06;JSON&#x5B57;&#x7B26;&#x4E32;&#x548C;Java&#x5BF9;&#x8C61;&#x76F8;&#x4E92;&#x8F6C;&#x6362;&#xFF0C;&#x4E3B;&#x8981;&#x7684;&#x7279;&#x6027;&#x6709;&#xFF1A; &#x5168;&#x9762;&#x652F;&#x6301;&#x6CDB;&#x578B;&#x3002; Java&#x5BF9;&#x8C61;&#x4E0D;&#x9700;&#x8981;&#x5728;&#x6E90;&#x4EE3;&#x7801;&#x4E2D;&#x589E;&#x52A0;&#x6CE8;&#x89E3;&#x5C31;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x8F6C;&#x6362;&#x3002; &#x8F6C;&#x6362;&#x65F6;&#x4F7F;&#x7528;Java&#x5BF9;&#x8C61;&#x7684;&#x5B57;&#x6BB5;&#xFF0C;&#x800C;&#x975E;setter&#x548C;getter&#x65B9;&#x6CD5;&#x3002; &#x53EF;&#x81EA;&#x5B9A;&#x4E49;&#x5E8F;&#x5217;&#x5316;&#x548C;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x6EE1;&#x8DB3;&#x4E2A;&#x6027;&#x5316;&#x9700;&#x6C42;&#xFF0C;&#x751A;&#x81F3;&#x7F16;&#x5199;&#x81EA;&#x5DF1;&#x7684;TypeAdapter&#x6539;&#x53D8;&#x5E95;&#x5C42;&#x7684;&#x89E3;&#x6790;&#x3002; &#x4E0B;&#x9762;&#xFF0C;&#x901A;&#x8FC7;&#x51E0;&#x6BB5;&#x4EE3;&#x7801;&#x5C55;&#x793A;Gson&#x5982;&#x4F55;&#x5C06;Java&#x4E2D;&#x5E38;&#x7528;&#x7684;POJO&#x3001;&#x6570;&#x7EC4;&#x548C;&#x96C6;&#x5408;&#x5E8F;&#x5217;&#x5316;&#x6210;JSON&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5E76;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x3002; &#x4E00;&#x3001;&#x666E;&#x901A;&#x5BF9;&#x8C61;&#xFF08;POJO&#xFF09;1&#x3001;&#x4E00;&#x4E2A;POJO&#x7C7B;&#xFF1A;Person&#xFF0C;&#x6709;&#x4E24;&#x4E2A;&#x5C5E;&#x6027;&#xFF1A;name&#x548C;age&#x3002;&#x6E90;&#x4EE3;&#x7801;&#x6587;&#x4EF6;123456789101112131415161718192021222324252627282930313233343536373839404142/** ** * &#x7B80;&#x5355;&#x7684;Java&#x5BF9;&#x8C61;&#x3002; * * @author &lt;a href=&quot;mailto:aofengblog@163.com&quot;&gt;&#x8042;&#x52C7;&lt;/a&gt; */public class Person { private String name; private int age; public Person() { // nothing } public Person(String name, int age) { this.name = name; this.age = age; } public String getName() { return name; } public void setName(String name) { this.name = name; } public int getAge() { return age; } public void setAge(int age) { this.age = age; } @Override public String toString() { return &quot;Person [name=&quot; + name + &quot;, age=&quot; + age + &quot;]&quot;; }} 2&#x3001;&#x5BF9;Person&#x8FDB;&#x884C;&#x5E8F;&#x5217;&#x5316;&#x4E0E;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x3002;&#x6E90;&#x4EE3;&#x7801;&#x6587;&#x4EF6;1234567891011121314151617181920212223242526272829303132333435/** * Java&#x7B80;&#x5355;&#x5BF9;&#x8C61;&#x7684;&#x5E8F;&#x5217;&#x5316;&#x4E0E;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x3002; * * @author &lt;a href=&quot;mailto:aofengblog@163.com&quot;&gt;&#x8042;&#x52C7;&lt;/a&gt; */public class SimpleObjectSerialize { /** * &#x5E8F;&#x5217;&#x5316;&#xFF1A;&#x5C06;Java&#x5BF9;&#x8C61;&#x8F6C;&#x6362;&#x6210;JSON&#x5B57;&#x7B26;&#x4E32;&#x3002; */ public void serialize(Person person) { Gson gson = new Gson(); System.out.println( gson.toJson(person) ); } /** * &#x53CD;&#x5E8F;&#x5217;&#x5316;&#xFF1A;&#x5C06;JSON&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x6362;&#x6210;Java&#x5BF9;&#x8C61;&#x3002; */ public void deserialize(String json) { Gson gson = new Gson(); Person person = gson.fromJson(json, Person.class); System.out.println( person ); } public static void main(String[] args) { SimpleObjectSerialize ss = new SimpleObjectSerialize(); Person person = new Person(&quot;NieYong&quot;, 33); ss.serialize(person); String json = &quot; {\\&quot;name\\&quot;:\\&quot;AoFeng\\&quot;,\\&quot;age\\&quot;:32}&quot;; ss.deserialize(json); }} &#x8FD0;&#x884C;SimpleObjectSerialize&#xFF0C;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;&#x5982;&#x4E0B;&#x4FE1;&#x606F;&#xFF1A; {&#x201C;name&#x201D;:&#x201D;NieYong&#x201D;,&#x201D;age&#x201D;:33}Person [name=AoFeng, age=32] &#x4E8C;&#x3001;&#x6570;&#x7EC4;1&#x3001;&#x5E8F;&#x5217;&#x5316;&#x5C06;&#x6574;&#x578B;&#x5BF9;&#x8C61;&#x6570;&#x7EC4;&#x3001;&#x5B57;&#x7B26;&#x4E32;&#x6570;&#x7EC4;&#x548C;&#x5BF9;&#x8C61;&#x6570;&#x7EC4;&#x5E8F;&#x5217;&#x5316;&#x6210;JSON&#x5B57;&#x7B26;&#x4E32;&#x3002;&#x6E90;&#x4EE3;&#x7801;&#x6587;&#x4EF6;12345678910111213141516171819202122232425262728293031323334353637/** * &#x6570;&#x7EC4;&#x7684;&#x5E8F;&#x5217;&#x5316;&#x4E0E;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x3002; * * @author &lt;a href=&quot;mailto:aofengblog@163.com&quot;&gt;&#x8042;&#x52C7;&lt;/a&gt; */public class ArraySerialize { public void serialize(Object[] arr) { Gson gson = new Gson(); System.out.println( gson.toJson(arr) ); } public static void main(String[] args) { ArraySerialize as = new ArraySerialize(); // &#x6574;&#x578B;&#x5BF9;&#x8C61;&#x6570;&#x7EC4; Integer[] intArr = new Integer[3]; intArr[0] = 9; intArr[1] = 7; intArr[2] = 5; as.serialize(intArr); // &#x5B57;&#x7B26;&#x4E32;&#x6570;&#x7EC4; String[] names = new String[3]; names[0] = &quot;&#x5F20;&#x4E09;&quot;; names[1] = &quot;&#x674E;&#x56DB;&quot;; names[2] = &quot;&#x738B;&#x4E94;&quot;; as.serialize(names); // &#x5BF9;&#x8C61;&#x6570;&#x7EC4; Person[] persons = new Person[2]; persons[0] = new Person(&quot;&#x5C0F;&#x660E;&quot;, 10); persons[1] = new Person(&quot;&#x9A6C;&#x4E3D;&quot;, 9); as.serialize(persons); }} &#x8FD0;&#x884C;ArraySerialize&#xFF0C;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;&#x5982;&#x4E0B;&#x4FE1;&#x606F;&#xFF1A; [9,7,5][&#x201C;&#x5F20;&#x4E09;&#x201D;,&#x201D;&#x674E;&#x56DB;&#x201D;,&#x201D;&#x738B;&#x4E94;&#x201D;][{&#x201C;name&#x201D;:&#x201D;&#x5C0F;&#x660E;&#x201D;,&#x201D;age&#x201D;:10},{&#x201C;name&#x201D;:&#x201D;&#x9A6C;&#x4E3D;&#x201D;,&#x201D;age&#x201D;:9}] 2&#x3001;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x5C06;JSON&#x5B57;&#x7B26;&#x4E32;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x6210;&#x6574;&#x578B;&#x5BF9;&#x8C61;&#x6570;&#x7EC4;&#x3001;&#x5B57;&#x7B26;&#x4E32;&#x6570;&#x7EC4;&#x548C;&#x5BF9;&#x8C61;&#x6570;&#x7EC4;&#x3002;&#x6E90;&#x4EE3;&#x7801;&#x6587;&#x4EF6;1234567891011121314151617181920212223242526272829303132333435363738394041/** * &#x6570;&#x7EC4;&#x7684;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x3002; * * @author &lt;a href=&quot;mailto:aofengblog@163.com&quot;&gt;&#x8042;&#x52C7;&lt;/a&gt; */public class ArrayDeserialize { public &lt;T&gt; T deserialize(String json, Class&lt;T&gt; claz) { Gson gson = new Gson(); return gson.fromJson(json, claz); } public static void main(String[] args) { ArrayDeserialize ad = new ArrayDeserialize(); // &#x6574;&#x578B;&#x6570;&#x7EC4; String intArrJson = &quot;[9,7,5]&quot;; int[] intArr = ad.deserialize(intArrJson, int[].class); System.out.println(&quot;---------- &#x6574;&#x578B;&#x6570;&#x7EC4; ----------&quot;); for (int i : intArr) { System.out.println(i); } // &#x5B57;&#x7B26;&#x4E32;&#x6570;&#x7EC4; String strArrJson = &quot;[\\&quot;&#x5F20;&#x4E09;\\&quot;,\\&quot;&#x674E;&#x56DB;\\&quot;,\\&quot;&#x738B;&#x4E94;\\&quot;]&quot;; String[] strArr = ad.deserialize(strArrJson, String[].class); System.out.println(&quot;---------- &#x5B57;&#x7B26;&#x4E32;&#x6570;&#x7EC4; ----------&quot;); for (String str : strArr) { System.out.println(str); } // &#x5BF9;&#x8C61;&#x6570;&#x7EC4; String objArrJson = &quot;[{\\&quot;name\\&quot;:\\&quot;&#x5C0F;&#x660E;\\&quot;,\\&quot;age\\&quot;:10},{\\&quot;name\\&quot;:\\&quot;&#x9A6C;&#x4E3D;\\&quot;,\\&quot;age\\&quot;:9}]&quot;; Person[] objArr = ad.deserialize(objArrJson, Person[].class); System.out.println(&quot;---------- &#x5BF9;&#x8C61;&#x6570;&#x7EC4; ----------&quot;); for (Person person : objArr) { System.out.println(person); } }} &#x8FD0;&#x884C;ArrayDeserialize&#xFF0C;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;&#x5982;&#x4E0B;&#x4FE1;&#x606F;&#xFF1A; &#x2014;&#x2014;&#x2014;- &#x6574;&#x578B;&#x6570;&#x7EC4; &#x2014;&#x2014;&#x2014;-975&#x2014;&#x2014;&#x2014;- &#x5B57;&#x7B26;&#x4E32;&#x6570;&#x7EC4; &#x2014;&#x2014;&#x2014;-&#x5F20;&#x4E09;&#x674E;&#x56DB;&#x738B;&#x4E94;&#x2014;&#x2014;&#x2014;- &#x5BF9;&#x8C61;&#x6570;&#x7EC4; &#x2014;&#x2014;&#x2014;-Person [name=&#x5C0F;&#x660E;, age=10]Person [name=&#x9A6C;&#x4E3D;, age=9] &#x4E09;&#x3001;&#x96C6;&#x5408;&#x7C7B;1&#x3001;&#x5E8F;&#x5217;&#x5316;&#x5C06;List&#x3001;Set&#x548C;Map&#x5E8F;&#x5217;&#x5316;&#x6210;JSON&#x5B57;&#x7B26;&#x4E32;&#x3002;&#x6E90;&#x4EE3;&#x7801;&#x6587;&#x4EF6;123456789101112131415161718192021222324252627282930313233343536373839404142/** * &#x96C6;&#x5408;&#x7684;&#x5E8F;&#x5217;&#x5316;&#x3002; * * @author &lt;a href=&quot;mailto:aofengblog@163.com&quot;&gt;&#x8042;&#x52C7;&lt;/a&gt; */public class CollectionsSerialize { public void serialize(Collection&lt;?&gt; c) { Gson gson = new Gson(); System.out.println( gson.toJson(c) ); } public void serialize(Map&lt;?, ?&gt; map) { Gson gson = new Gson(); System.out.println( gson.toJson(map) ); } public static void main(String[] args) { CollectionsSerialize cs = new CollectionsSerialize(); // &#x6574;&#x578B;List List&lt;Integer&gt; intList = new ArrayList&lt;Integer&gt;(); intList.add(9); intList.add(8); intList.add(0); cs.serialize(intList); // &#x5B57;&#x7B26;&#x4E32;Set Set&lt;String&gt; strSet = new HashSet&lt;String&gt;(); strSet.add(&quot;Hello&quot;); strSet.add(&quot;World&quot;); strSet.add(&quot;Best&quot;); cs.serialize(strSet); // Map Map&lt;String, Person&gt; objMap = new HashMap&lt;String, Person&gt;(); objMap.put(&quot;marry&quot;, new Person(&quot;&#x9A6C;&#x4E3D;&quot;, 20)); objMap.put(&quot;xiaomin&quot;, new Person(&quot;&#x5C0F;&#x660E;&quot;, 21)); cs.serialize(objMap); }} &#x8FD0;&#x884C;CollectionsSerialize&#xFF0C;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;&#x5982;&#x4E0B;&#x4FE1;&#x606F;&#xFF1A; [9,8,0][&#x201C;Best&#x201D;,&#x201D;World&#x201D;,&#x201D;Hello&#x201D;]{&#x201C;xiaomin&#x201D;:{&#x201C;name&#x201D;:&#x201D;&#x5C0F;&#x660E;&#x201D;,&#x201D;age&#x201D;:21},&#x201D;marry&#x201D;:{&#x201C;name&#x201D;:&#x201D;&#x9A6C;&#x4E3D;&#x201D;,&#x201D;age&#x201D;:20}} 2&#x3001;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x5C06;JSON&#x5B57;&#x7B26;&#x4E32;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x6210;List&#x3001;Set&#x548C;Map&#x5BF9;&#x8C61;&#x3002;&#x6E90;&#x4EE3;&#x7801;&#x6587;&#x4EF6;1234567891011121314151617181920212223242526272829303132333435363738394041424344/** * &#x96C6;&#x5408;&#x7684;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x3002; * * @author &lt;a href=&quot;mailto:aofengblog@163.com&quot;&gt;&#x8042;&#x52C7;&lt;/a&gt; */public class CollectionDeserialize { public &lt;T&gt; T deserialize(String json, Type type) { Gson gson = new Gson(); return gson.fromJson(json, type); } public static void main(String[] args) { CollectionDeserialize cd = new CollectionDeserialize(); //&#x6574;&#x578B;List String intListJson = &quot;[9,8,0]&quot;; List&lt;Integer&gt; intList = cd.deserialize( intListJson, new TypeToken&lt;List&lt;Integer&gt;&gt;(){}.getType() ); System.out.println(&quot;---------- &#x6574;&#x578B;List ----------&quot;); for (Integer obj : intList) { System.out.println(obj); } // &#x5B57;&#x7B26;&#x4E32;Set String strSetJson = &quot;[\\&quot;Best\\&quot;,\\&quot;World\\&quot;,\\&quot;Hello\\&quot;]&quot;; Set&lt;String&gt; strSet = cd.deserialize( strSetJson, new TypeToken&lt;Set&lt;String&gt;&gt;(){}.getType() ); System.out.println(&quot;---------- &#x5B57;&#x7B26;&#x4E32;Set ----------&quot;); for (String str : strSet) { System.out.println(str); } // Map String objMapJson = &quot;{\\&quot;xiaomin\\&quot;:{\\&quot;name\\&quot;:\\&quot;&#x5C0F;&#x660E;\\&quot;,\\&quot;age\\&quot;:21},\\&quot;marry\\&quot;:{\\&quot;name\\&quot;:\\&quot;&#x9A6C;&#x4E3D;\\&quot;,\\&quot;age\\&quot;:20}}&quot;; Map&lt;String, Person&gt; objMap = cd.deserialize( objMapJson, new TypeToken&lt;Map&lt;String, Person&gt;&gt;(){}.getType() ); System.out.println(&quot;---------- Map ----------&quot;); for (Entry&lt;String, Person&gt; entry : objMap.entrySet()) { System.out.println(entry); } }} &#x8FD0;&#x884C;CollectionDeserialize&#xFF0C;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;&#x5982;&#x4E0B;&#x4FE1;&#x606F;&#xFF1A; &#x2014;&#x2014;&#x2014;- &#x6574;&#x578B;List &#x2014;&#x2014;&#x2014;-980&#x2014;&#x2014;&#x2014;- &#x5B57;&#x7B26;&#x4E32;Set &#x2014;&#x2014;&#x2014;-BestWorldHello&#x2014;&#x2014;&#x2014;- Map &#x2014;&#x2014;&#x2014;-xiaomin=Person [name=&#x5C0F;&#x660E;, age=21]marry=Person [name=&#x9A6C;&#x4E3D;, age=20] &#x56DB;&#x3001;&#x53C2;&#x8003;&#x8D44;&#x6599; Gson Offical Site Gson User Guide","categories":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"Java","slug":"编程/Java","permalink":"http://aofeng.github.io/categories/编程/Java/"}],"tags":[{"name":"java","slug":"java","permalink":"http://aofeng.github.io/tags/java/"},{"name":"gson","slug":"gson","permalink":"http://aofeng.github.io/tags/gson/"},{"name":"json","slug":"json","permalink":"http://aofeng.github.io/tags/json/"},{"name":"serialize","slug":"serialize","permalink":"http://aofeng.github.io/tags/serialize/"},{"name":"序列化","slug":"序列化","permalink":"http://aofeng.github.io/tags/序列化/"}],"keywords":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"Java","slug":"编程/Java","permalink":"http://aofeng.github.io/categories/编程/Java/"}]},{"title":"将项目从HG迁移至Git","slug":"将项目从HG迁移至Git","date":"2015-07-21T12:38:18.000Z","updated":"2016-11-06T12:05:35.000Z","comments":true,"path":"2015/07/21/将项目从HG迁移至Git/","link":"","permalink":"http://aofeng.github.io/2015/07/21/将项目从HG迁移至Git/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x4E00;&#x3001;&#x9884;&#x5907; &#x4E8C;&#x3001;&#x8FC1;&#x79FB;&#x8FC7;&#x7A0B; GIT&#x5BF9;&#x591A;&#x5206;&#x652F;&#x6709;&#x7740;&#x975E;&#x5E38;&#x597D;&#x7684;&#x652F;&#x6301;&#xFF0C;&#x56E2;&#x961F;&#x7684;&#x9879;&#x76EE;&#x9010;&#x6E10;&#x4ECE;HG&#x8FC1;&#x79FB;&#x81F3;GIT&#x3002;&#x8FC1;&#x79FB;&#x540E;&#xFF0C;&#x5982;&#x4F55;&#x80FD;&#x4FDD;&#x7559;&#x539F;&#x6765;HG&#x9879;&#x76EE;&#x4E2D;&#x7684;&#x63D0;&#x4EA4;&#x5386;&#x53F2;&#x548C;tag&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x5FC5;&#x987B;&#x8981;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#xFF0C;fast-export&#x6B63;&#x662F;&#x56E0;&#x6B64;&#x800C;&#x4EA7;&#x751F;&#x3002; &#x4E00;&#x3001;&#x9884;&#x5907; &#x9700;&#x8981;&#x8FC1;&#x79FB;&#x7684;HG&#x9879;&#x76EE;&#x672C;&#x5730;&#x8DEF;&#x5F84;&#xFF1A;/devdata/projects/game/threadpool-jws-merge &#x8FC1;&#x79FB;&#x7684;&#x76EE;&#x7684;GIT&#x4ED3;&#x5E93;&#xFF1A;git@git.aofeng.local:jws-module/threadpool.git &#x4E8C;&#x3001;&#x8FC1;&#x79FB;&#x8FC7;&#x7A0B;1&#x3001;&#x83B7;&#x53D6;fast-export&#x5DE5;&#x5177;&#x3002;12cd $OPEN_SOURCE_DIRgit clone git://repo.or.cz/fast-export.git &#x8BF4;&#x660E;&#xFF1A; $OPEN_SOURCE_DIR&#x4E3A;&#x5B58;&#x653E;&#x5F00;&#x6E90;&#x9879;&#x76EE;&#x7684;&#x76EE;&#x5F55; &#xFF0C;&#x5982;&#xFF1A;/devdata/projects/open_source/ 2&#x3001;&#x65B0;&#x5EFA;GIT&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x5E76;&#x521D;&#x59CB;&#x5316;&#x3002;12345cd $GIT_REPO_ROOTmkdir threadpool-jwscd threadpool-jwsgit init &#x8BF4;&#x660E;&#xFF1A; $GIT_REPO_ROOT&#x4E3A;&#x5B58;&#x653E;GIT&#x9879;&#x76EE;&#x7684;&#x76EE;&#x5F55; &#xFF0C;&#x5982;&#xFF1A;/devdata/projects/git/ 3&#x3001;&#x4F7F;&#x7528;fast-export&#x5C06;HG&#x9879;&#x76EE;&#x8F6C;&#x6362;&#x6210;GIT&#x9879;&#x76EE;&#x3002;1$OPEN_SOURCE_DIR/fast-export/hg-fast-export.sh -r &lt;HG&#x9879;&#x76EE;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x8DEF;&#x5F84;&gt; &#x8BF4;&#x660E;&#xFF1A; &#x6267;&#x884C;&#x4E0A;&#x8FF0;&#x8F6C;&#x6362;&#x547D;&#x4EE4;&#x540E;&#xFF0C;&#x5728;$GIT_REPO_ROOT/threadpool-jws&#x4E0B;&#x9762;&#x751F;&#x6210;&#x4E86;&#x4E00;&#x4E2A;.git&#x76EE;&#x5F55;&#xFF0C;&#x5B58;&#x653E;&#x7684;&#x662F;&#x4ECE;HG&#x9879;&#x76EE;&#x8F6C;&#x6362;&#x540E;&#x7684;GIT&#x7248;&#x672C;&#x4FE1;&#x606F;&#xFF0C;&#x539F;&#x6765;&#x7684;HG&#x9879;&#x76EE;&#x4E0D;&#x53D7;&#x5F71;&#x54CD;&#x3002; &#x5F53;&#x524D;&#x4F8B;&#x5B50;&#x4E2D;&lt;HG&#x9879;&#x76EE;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x8DEF;&#x5F84;&gt;&#x4E3A;/devdata/projects/game/threadpool-jws-merge&#x3002; 4&#x3001;&#x5C06;&#x672C;&#x5730;GIT&#x4ED3;&#x5E93;&#x4E0E;&#x8FDC;&#x7A0B;GIT&#x4ED3;&#x5E93;&#x5EFA;&#x7ACB;&#x5173;&#x8054;&#x5E76;&#x63A8;&#x9001;&#x4EE3;&#x7801;&#x3002;123git checkout HEADgit remote add origin &lt;&#x8FC1;&#x79FB;&#x7684;&#x76EE;&#x7684;GIT&#x4ED3;&#x5E93;&gt;git push origin master &#x8BF4;&#x660E;&#xFF1B; &#x5F53;&#x524D;&#x4F8B;&#x5B50;&#x4E2D;&lt;&#x8FC1;&#x79FB;&#x7684;&#x76EE;&#x7684;GIT&#x4ED3;&#x5E93;&gt;&#x4E3A; git@git.aofeng.local:jws-module/threadpool.git 5&#x3001;&#x5C06;&#x6807;&#x7B7E;&#xFF08;tag&#xFF09;&#x63A8;&#x9001;&#x81F3;&#x8FDC;&#x7A0B;GIT&#x4ED3;&#x5E93;&#x3002;1git push origin --tags","categories":[{"name":"版本控制","slug":"版本控制","permalink":"http://aofeng.github.io/categories/版本控制/"},{"name":"Git","slug":"版本控制/Git","permalink":"http://aofeng.github.io/categories/版本控制/Git/"}],"tags":[{"name":"hg","slug":"hg","permalink":"http://aofeng.github.io/tags/hg/"},{"name":"git","slug":"git","permalink":"http://aofeng.github.io/tags/git/"},{"name":"版本控制","slug":"版本控制","permalink":"http://aofeng.github.io/tags/版本控制/"}],"keywords":[{"name":"版本控制","slug":"版本控制","permalink":"http://aofeng.github.io/categories/版本控制/"},{"name":"Git","slug":"版本控制/Git","permalink":"http://aofeng.github.io/categories/版本控制/Git/"}]},{"title":"Nginx-编译安装_启动_停止","slug":"Nginx-编译安装-启动-停止","date":"2015-06-30T12:49:04.000Z","updated":"2016-11-06T12:13:13.000Z","comments":true,"path":"2015/06/30/Nginx-编译安装-启动-停止/","link":"","permalink":"http://aofeng.github.io/2015/06/30/Nginx-编译安装-启动-停止/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x4E00;&#x3001;&#x9884;&#x5907; | Prerequisites &#x4E8C;&#x3001;&#x914D;&#x7F6E;&#x4F9D;&#x8D56;&#x7EC4;&#x4EF6; | Setup Dependents &#x4E09;&#x3001;&#x5B89;&#x88C5;Nginx | Install Nginx &#x56DB;&#x3001;Nginx&#x542F;&#x52A8;&#x548C;&#x505C;&#x6B62; | How to start and stop nginx &#x4E94;&#x3001;&#x53C2;&#x8003;&#x8D44;&#x6599; | References &#x4E00;&#x3001;&#x9884;&#x5907; | Prerequisites CentOS5 / RedHat5 /CentOS6 / RedHat6 GCC-4.1.2 Nginx-1.9.2 pcre-8.21 zlib-1.2.5 openssl-1.0.2c &#x4E8C;&#x3001;&#x914D;&#x7F6E;&#x4F9D;&#x8D56;&#x7EC4;&#x4EF6; | Setup Dependents1234567891011121314# &#x8FDB;&#x5165;&#x5B58;&#x653E;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;cd ~/download# PCRE&#x6E90;&#x7801;&#x4E0B;&#x8F7D;&#x548C;&#x89E3;&#x538B;wget http://sourceforge.net/projects/pcre/files/pcre/8.21/pcre-8.21.tar.gz/downloadtar -zxvf pcre-8.21.tar.gz -C ../build/# zlib&#x6E90;&#x7801;&#x4E0B;&#x8F7D;&#x548C;&#x89E3;&#x538B;wget http://sourceforge.net/projects/libpng/files/zlib/1.2.5/zlib-1.2.5.tar.gz/download?use_mirror=nchc&amp;download=tar -zxvf zlib-1.2.5.tar.gz -C ../build/# OpenSSL&#x6E90;&#x7801;&#x4E0B;&#x8F7D;&#x548C;&#x89E3;&#x538B;wget --no-check-certificate https://www.openssl.org/source/openssl-1.0.2c.tar.gztar -zxvf openssl-1.0.2c.tar.gz -C ../build/ &#x4E09;&#x3001;&#x5B89;&#x88C5;Nginx | Install Nginx1&#x3001;&#x4E0B;&#x8F7D;Nginx&#x6E90;&#x7801;&#x5E76;&#x89E3;&#x538B;&#x3002;123456# &#x8FDB;&#x5165;&#x5B58;&#x653E;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;cd ~/download# &#x4E0B;&#x8F7D;&#x6E90;&#x7801;&#x5E76;&#x89E3;&#x538B;wget http://nginx.org/download/nginx-1.9.2.tar.gztar -zxvf nginx-1.9.2.tar.gz -C ../build/ 2&#x3001;&#x7F16;&#x8BD1;&#x4E09;&#x6B65;&#x66F2;&#x3002;1&#xFF09;&#x7F16;&#x8BD1;&#x914D;&#x7F6E;&#x3002;123456789./configure --prefix=/home/sdkserver/local/nginx-1.9.2 \\ --with-pcre=/home/sdkserver/build/pcre-8.21 --with-pcre-jit \\ --with-zlib=/home/sdkserver/build/zlib-1.2.5 \\ --with-openssl=/home/sdkserver/build/openssl-1.0.2c --with-http_ssl_module \\ --http-client-body-temp-path=/home/sdkserver/local/nginx-1.9.2/temp/body \\ --http-fastcgi-temp-path=/home/sdkserver/local/nginx-1.9.2/temp/fastcgi \\ --http-proxy-temp-path=/home/sdkserver/local/nginx-1.9.2/temp/proxy \\ --http-scgi-temp-path=/home/sdkserver/local/nginx-1.9.2/temp/scgi \\ --http-uwsgi-temp-path=/home/sdkserver/local/nginx-1.9.2/temp/uwsgi &#x914D;&#x7F6E;&#x6210;&#x529F;&#xFF0C;&#x7CFB;&#x7EDF;&#x8F93;&#x51FA;&#x7C7B;&#x4F3C;&#x5982;&#x4E0B;&#x4FE1;&#x606F;&#xFF1A; Configuration summary + using PCRE library: /home/sdkserver/build/pcre-8.21 + using OpenSSL library: /home/sdkserver/build/openssl-1.0.2c + md5: using OpenSSL library + sha1: using OpenSSL library + using zlib library: /home/sdkserver/build/zlib-1.2.5 nginx path prefix: &quot;/home/sdkserver/local/nginx-1.9.2&quot; nginx binary file: &quot;/home/sdkserver/local/nginx-1.9.2/sbin/nginx&quot; nginx configuration prefix: &quot;/home/sdkserver/local/nginx-1.9.2/conf&quot; nginx configuration file: &quot;/home/sdkserver/local/nginx-1.9.2/conf/nginx.conf&quot; nginx pid file: &quot;/home/sdkserver/local/nginx-1.9.2/logs/nginx.pid&quot; nginx error log file: &quot;/home/sdkserver/local/nginx-1.9.2/logs/error.log&quot; nginx http access log file: &quot;/home/sdkserver/local/nginx-1.9.2/logs/access.log&quot; nginx http client request body temporary files: &quot;/home/sdkserver/local/nginx-1.9.2/temp/body&quot; nginx http proxy temporary files: &quot;/home/sdkserver/local/nginx-1.9.2/temp/proxy&quot; nginx http fastcgi temporary files: &quot;/home/sdkserver/local/nginx-1.9.2/temp/fastcgi&quot; nginx http uwsgi temporary files: &quot;/home/sdkserver/local/nginx-1.9.2/temp/uwsgi&quot; nginx http scgi temporary files: &quot;/home/sdkserver/local/nginx-1.9.2/temp/scgi&quot; 2)&#x7F16;&#x8BD1;&#x5B89;&#x88C5;&#x3002;12makemake install &#x56DB;&#x3001;Nginx&#x542F;&#x52A8;&#x548C;&#x505C;&#x6B62; | How to start and stop nginx1&#x3001;&#x542F;&#x52A8;Nginx&#x3002;1./sbin/nginx -c ./conf/nginx.conf 2&#x3001;&#x505C;&#x6B62;Nginx&#x3002;1&#xFF09;&#x5B89;&#x5168;&#x505C;&#x6B62;&#x3002;1kill -QUIT [Nginx&#x4E3B;&#x8FDB;&#x7A0B;&#x53F7;] &#x6216;1./sbin/nginx -s quit 2&#xFF09;&#x5FEB;&#x901F;&#x505C;&#x6B62;&#x3002;1kill -TERM [Nginx&#x4E3B;&#x8FDB;&#x7A0B;&#x53F7;] &#x6216;1kill -INT [Nginx&#x4E3B;&#x8FDB;&#x7A0B;&#x53F7;] &#x6216;1./sbin/nginx -s stop 3&#x3001;&#x91CD;&#x542F;Nginx&#x3002;1kill -HUP [Nginx&#x4E3B;&#x8FDB;&#x7A0B;&#x53F7;] &#x6216;1./sbin/nginx -s reload 4&#x3001;&#x68C0;&#x67E5;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x8BED;&#x6CD5;&#x662F;&#x5426;&#x6B63;&#x786E;&#x3002;1./sbin/nginx -t -c ./conf/nginx.conf &#x4E94;&#x3001;&#x53C2;&#x8003;&#x8D44;&#x6599; | References Building nginx from Sources Installation and compile-time options Building nginx from source","categories":[{"name":"开源组件","slug":"开源组件","permalink":"http://aofeng.github.io/categories/开源组件/"},{"name":"Nginx","slug":"开源组件/Nginx","permalink":"http://aofeng.github.io/categories/开源组件/Nginx/"}],"tags":[{"name":"nginx","slug":"nginx","permalink":"http://aofeng.github.io/tags/nginx/"}],"keywords":[{"name":"开源组件","slug":"开源组件","permalink":"http://aofeng.github.io/categories/开源组件/"},{"name":"Nginx","slug":"开源组件/Nginx","permalink":"http://aofeng.github.io/categories/开源组件/Nginx/"}]},{"title":"CentOS6 在VirtualBox中实现全屏和根据窗口大小自动调整分辨率","slug":"CentOS6-在VirtualBox中实现全屏和根据窗口大小自动调整分辨率","date":"2015-06-10T13:05:42.000Z","updated":"2016-11-06T12:45:53.000Z","comments":true,"path":"2015/06/10/CentOS6-在VirtualBox中实现全屏和根据窗口大小自动调整分辨率/","link":"","permalink":"http://aofeng.github.io/2015/06/10/CentOS6-在VirtualBox中实现全屏和根据窗口大小自动调整分辨率/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x73AF;&#x5883; | Enviroment &#x5B89;&#x88C5; | Setup &#x9644;&#x52A0;&#x8BF4;&#x660E; | Additions &#x524D;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x300A;CentOS6 Minimal &#x5B89;&#x88C5;&#x684C;&#x9762;(GNOME)&#x300B;&#x5199;&#x4E86;&#x5982;&#x4F55;&#x7ED9;CentOS&#x5B89;&#x88C5;&#x56FE;&#x5F62;&#x684C;&#x9762;&#x7CFB;&#x7EDF;&#xFF0C;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x8BF4;&#x660E;&#x901A;&#x8FC7;&#x5B89;&#x88C5;&#x589E;&#x5F3A;&#x5305;&#x6765;&#x5B9E;&#x73B0;VirtualBox&#x4E2D;&#x7684;CentOS6.x&#x5B9E;&#x73B0;&#x5168;&#x5C4F;&#x548C;&#x5206;&#x8FA8;&#x7387;&#x81EA;&#x52A8;&#x8C03;&#x6574;&#x3002; &#x73AF;&#x5883; | Enviroment CentOS 6.6 VirtualBox 4.3.28 &#x5B89;&#x88C5; | Setup&#x6574;&#x4E2A;&#x8FC7;&#x7A0B;&#x5206;&#x4E3A;4&#x4E2A;&#x6B65;&#x805A;&#xFF0C;&#x8BB8;&#x591A;&#x4EBA;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x5B89;&#x88C5;&#x663E;&#x5361;&#x9A71;&#x52A8;&#x5BFC;&#x81F4;&#x5B89;&#x88C5;&#x4E86;&#x589E;&#x5F3A;&#x5305;&#x540E;&#x65E0;&#x6CD5;&#x5B9E;&#x73B0;&#x5206;&#x8FA8;&#x7387;&#x81EA;&#x52A8;&#x8C03;&#x6574;&#x3002;&#x6CE8;&#xFF1A;&#x6240;&#x6709;&#x7684;&#x5B89;&#x88C5;&#x5FC5;&#x987B;&#x62E5;&#x6709;root&#x6743;&#x9650;&#x3002; 1&#x3001;&#x5B89;&#x88C5;&#x7F16;&#x8BD1;&#x6240;&#x9700;&#x7684;&#x4F9D;&#x8D56;&#x5305;1yum groupinstall &quot;Development Tools&quot; 2&#x3001;&#x5B89;&#x88C5;&#x5185;&#x6838;&#x5F00;&#x53D1;&#x5305;12yum install kernel-develyum install kernel-headers 3&#x3001;&#x5B89;&#x88C5;ATI/AMD&#x663E;&#x5361;&#x9A71;&#x52A8; 1&#xFF09;&#x589E;&#x52A0;&#x65B0;&#x7684;&#x516C;&#x94A5;&#x3002;1rpm --import http://elrepo.org/RPM-GPG-KEY-elrepo.org 2&#xFF09;&#x5B89;&#x88C5;yum-plugin-fastestmirror&#x3002;12rpm -Uvh http://www.elrepo.org/elrepo-release-6-6.el6.elrepo.noarch.rpmyum -y install yum-plugin-fastestmirror 3&#xFF09;&#x5B89;&#x88C5;&#x663E;&#x5361;&#x9A71;&#x52A8;&#x3002;1yum -y install kmod-fglrx 4&#x3001;&#x5B89;&#x88C5;VirtualBox&#x589E;&#x5F3A;&#x5305;12cd /media/VBOXADDITIONS_4.3.28_100309/./VBoxLinuxAdditions.run &#x7CFB;&#x7EDF;&#x8F93;&#x51FA;&#x5982;&#x4E0B;&#x4FE1;&#x606F;&#xFF1A; Verifying archive integrity&#x2026; All good.Uncompressing VirtualBox 4.3.28 Guest Additions for Linux&#x2026;&#x2026;&#x2026;&#x2026;VirtualBox Guest Additions installerRemoving installed version 4.3.28 of VirtualBox Guest Additions&#x2026;Copying additional installer modules &#x2026;Installing additional modules &#x2026;Removing existing VirtualBox non-DKMS kernel modules [&#x786E;&#x5B9A;]Building the VirtualBox Guest Additions kernel modulesBuilding the main Guest Additions module [&#x786E;&#x5B9A;]Building the shared folder support module [&#x786E;&#x5B9A;]Building the OpenGL support module [&#x786E;&#x5B9A;]Doing non-kernel setup of the Guest Additions [&#x786E;&#x5B9A;]You should restart your guest to make sure the new modules are actually used Installing the Window System driversInstalling X.Org Server 1.15 modules [&#x786E;&#x5B9A;]Setting up the Window System to use the Guest Additions [&#x786E;&#x5B9A;]You may need to restart the the Window System (or just restart the guest system)to enable the Guest Additions. Installing graphics libraries and desktop services componen[&#x786E;&#x5B9A;] &#x91CD;&#x542F;&#x7CFB;&#x7EDF;&#xFF0C;CentOS&#x5C31;&#x53EF;&#x6839;&#x636E;&#x7A97;&#x53E3;&#x5927;&#x5C0F;&#x81EA;&#x52A8;&#x8C03;&#x6574;&#x5206;&#x8FA8;&#x7387;&#x4E86;&#xFF1A; &#x9644;&#x52A0;&#x8BF4;&#x660E; | Additions&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5B89;&#x88C5;&#x663E;&#x5361;&#x9A71;&#x52A8;&#xFF0C;&#x5B89;&#x88C5;&#x4E86;&#x589E;&#x5F3A;&#x5305;&#x540E;&#x865A;&#x62DF;&#x673A;&#x4E2D;&#x7684;CentOS&#x4E0D;&#x80FD;&#x81EA;&#x52A8;&#x6839;&#x636E;&#x7A97;&#x53E3;&#x5927;&#x5C0F;&#x7684;&#x6539;&#x53D8;&#x800C;&#x81EA;&#x52A8;&#x8C03;&#x6574;&#x5206;&#x8FA8;&#x7387;&#xFF0C;&#x53EA;&#x663E;&#x793A;&#x4E86;&#x4E24;&#x4E2A;&#x5206;&#x8FA8;&#x7387;&#xFF1A; 1024*768 60Hz 800*600 60Hz","categories":[{"name":"操作系统","slug":"操作系统","permalink":"http://aofeng.github.io/categories/操作系统/"},{"name":"Linux","slug":"操作系统/Linux","permalink":"http://aofeng.github.io/categories/操作系统/Linux/"}],"tags":[{"name":"linux","slug":"linux","permalink":"http://aofeng.github.io/tags/linux/"},{"name":"centos","slug":"centos","permalink":"http://aofeng.github.io/tags/centos/"},{"name":"virtualbox","slug":"virtualbox","permalink":"http://aofeng.github.io/tags/virtualbox/"}],"keywords":[{"name":"操作系统","slug":"操作系统","permalink":"http://aofeng.github.io/categories/操作系统/"},{"name":"Linux","slug":"操作系统/Linux","permalink":"http://aofeng.github.io/categories/操作系统/Linux/"}]},{"title":"CentOS6 Minimal 安装桌面GNOME","slug":"CentOS6-Minimal-安装桌面GNOME","date":"2015-06-05T13:35:40.000Z","updated":"2016-11-06T12:37:58.000Z","comments":true,"path":"2015/06/05/CentOS6-Minimal-安装桌面GNOME/","link":"","permalink":"http://aofeng.github.io/2015/06/05/CentOS6-Minimal-安装桌面GNOME/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x4F7F;&#x7528;CentOS Minimal ISO&#x5B89;&#x88C5;&#x597D;&#x7CFB;&#x7EDF;&#x540E;&#xFF0C;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x5B89;&#x88C5;&#x684C;&#x9762;&#x7CFB;&#x7EDF;&#x65E0;&#x6CD5;&#x8FD0;&#x884C;GUI&#x5E94;&#x7528;&#x3002;&#x5148;&#x53C2;&#x8003;&#x6211;&#x5199;&#x7684;&#x524D;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x300A;CentOS6 Minimal &#x6587;&#x672C;&#x6A21;&#x5F0F;&#x4E0B;&#x914D;&#x7F6E;&#x7F51;&#x7EDC;&#x300B;&#x914D;&#x7F6E;&#x597D;&#x7F51;&#x7EDC;&#xFF0C;&#x7136;&#x540E;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;1yum groupinstall basic-desktop desktop-platform x11 fonts &#x5927;&#x7EA6;&#x8981;&#x4E0B;&#x8F7D;350MB&#x5DE6;&#x53F3;&#x7684;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x5B89;&#x88C5;&#xFF0C;&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;1startx &#x542F;&#x52A8;&#x684C;&#x9762;&#x540E;&#x7684;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x5982;&#x679C;&#x8981;&#x60F3;&#x6BCF;&#x6B21;&#x542F;&#x52A8;&#x540E;&#x81EA;&#x52A8;&#x8FDB;&#x5165;&#x684C;&#x9762;&#x7CFB;&#x7EDF;&#xFF0C;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#xFF1A;1vi /etc/inittab &#x627E;&#x5230;&#x5982;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A;12345678910# Default runlevel. The runlevels used are:# 0 - halt (Do NOT set initdefault to this)# 1 - Single user mode# 2 - Multiuser, without NFS (The same as 3, if you do not have networking)# 3 - Full multiuser mode# 4 - unused# 5 - X11# 6 - reboot (Do NOT set initdefault to this)#id:3:initdefault: &#x5C06;id:3:initdefault:&#x6539;&#x6210;id:5:initdefault:&#x3002;","categories":[{"name":"操作系统","slug":"操作系统","permalink":"http://aofeng.github.io/categories/操作系统/"},{"name":"Linux","slug":"操作系统/Linux","permalink":"http://aofeng.github.io/categories/操作系统/Linux/"}],"tags":[{"name":"linux","slug":"linux","permalink":"http://aofeng.github.io/tags/linux/"},{"name":"centos","slug":"centos","permalink":"http://aofeng.github.io/tags/centos/"},{"name":"桌面","slug":"桌面","permalink":"http://aofeng.github.io/tags/桌面/"},{"name":"gnome","slug":"gnome","permalink":"http://aofeng.github.io/tags/gnome/"}],"keywords":[{"name":"操作系统","slug":"操作系统","permalink":"http://aofeng.github.io/categories/操作系统/"},{"name":"Linux","slug":"操作系统/Linux","permalink":"http://aofeng.github.io/categories/操作系统/Linux/"}]},{"title":"CentOS6 Minimal 文本模式下配置网络","slug":"CentOS6-Minimal-文本模式下配置网络","date":"2015-06-05T13:00:08.000Z","updated":"2016-11-06T12:30:07.000Z","comments":true,"path":"2015/06/05/CentOS6-Minimal-文本模式下配置网络/","link":"","permalink":"http://aofeng.github.io/2015/06/05/CentOS6-Minimal-文本模式下配置网络/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x4E00;&#x3001;&#x8BBE;&#x7F6E;&#x7F51;&#x5361;1&#xFF08;DHCP&#xFF09; &#x4E8C;&#x3001;&#x8BBE;&#x7F6E;&#x7F51;&#x5361;2&#xFF08;Static&#xFF09; &#x4E09;&#x3001;&#x91CD;&#x542F;&#x7F51;&#x5361; &#x56DB;&#x3001;&#x67E5;&#x770B;&#x7F51;&#x5361;&#x4FE1;&#x606F; &#x4E94;&#x3001;&#x9A8C;&#x8BC1; &#x968F;&#x7740;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x670D;&#x52A1;&#x5668;&#x786C;&#x4EF6;&#x7684;&#x5347;&#x7EA7;&#xFF0C;&#x5176;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4ECE;RedHat5.x&#x6539;&#x7528;RedHat6.x&#xFF0C;&#x4E2A;&#x4EBA;&#x7684;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x4E5F;&#x8981;&#x4ECE;CentOS5.x&#x6539;&#x7528;CentOS6.x&#xFF0C;&#x907F;&#x514D;&#x56E0;&#x4F9D;&#x8D56;&#x5E93;&#x7248;&#x672C;&#x4E0D;&#x540C;&#x5BFC;&#x81F4;&#x517C;&#x5BB9;&#x95EE;&#x9898;&#x3002;CentOS6.6&#x5B89;&#x88C5;&#x5728;VirtualBox&#x4E2D;&#xFF0C;&#x914D;&#x7F6E;&#x6709;&#x4E24;&#x5757;&#x7F51;&#x5361;&#xFF0C;&#x65B0;&#x88C5;&#x540E;&#x7684;&#x7CFB;&#x7EDF;&#x9ED8;&#x8BA4;&#x662F;&#x4E0D;&#x80FD;&#x8FDE;&#x63A5;&#x7F51;&#x7EDC;&#x7684;&#xFF0C;&#x9700;&#x8981;&#x624B;&#x5DE5;&#x8BBE;&#x7F6E;&#xFF1A; &#x7F51;&#x5361;1&#xFF0C;&#x4F7F;&#x7528;NAT&#xFF0C;&#x7528;&#x4E8E;&#x8FDE;&#x63A5;&#x516C;&#x7F51;&#x3002; &#x7F51;&#x5361;2&#xFF0C;&#x4F7F;&#x7528;Host-Only&#xFF0C;&#x7528;&#x4E8E;&#x4E0E;&#x4E3B;&#x673A;&#x901A;&#x4FE1;&#x3002; &#x7531;&#x4E8E;&#x540C;&#x65F6;&#x5F00;&#x542F;&#x591A;&#x4E2A;&#x865A;&#x62DF;&#x673A;&#xFF0C;&#x4E0D;&#x5E0C;&#x671B;&#x5B83;&#x4EEC;&#x7684;IP&#x5730;&#x5740;&#x56E0;&#x542F;&#x52A8;&#x987A;&#x5E8F;&#x4E0D;&#x540C;&#x800C;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x5BF9;&#x7F51;&#x5361;2&#x7684;IP&#x5730;&#x5740;&#x8FDB;&#x884C;&#x9759;&#x6001;&#x8BBE;&#x7F6E;&#xFF0C;&#x7F51;&#x5361;1&#x7684;IP&#x5730;&#x5740;&#x4F7F;&#x7528;DHCP&#x52A8;&#x6001;&#x5206;&#x914D;&#x3002; &#x6CE8;&#xFF1A;&#x4EE5;&#x4E0B;&#x7684;&#x64CD;&#x4F5C;&#x5FC5;&#x987B;&#x5177;&#x6709;root&#x6743;&#x9650;&#x3002; &#x4E00;&#x3001;&#x8BBE;&#x7F6E;&#x7F51;&#x5361;1&#xFF08;DHCP&#xFF09;1&#x3001;&#x8FDB;&#x5165;/etc/sysconfig/network-scripts&#x76EE;&#x5F55;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x7F51;&#x5361;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF1A;12cd /etc/sysconfig/network-scriptsls 2&#x3001;&#x7F16;&#x8F91;&#x7F51;&#x5361;1&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;ifcfg-eth0&#xFF1A;1vi ifcfg-eth0 &#x5C06;ONBOOT&#x7684;&#x503C;&#x6539;&#x6210;yes&#xFF0C;&#x6700;&#x7EC8;&#x7684;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A;1234567DEVICE=eth0HWADDR=08:00:27:CD:C3:2ETYPE=EthernetUUID=b40ddfdd-504a-4711-aa89-d554463cd393ONBOOT=yesNM_CONTROLLED=yesBOOTPROTO=dhcp &#x4E8C;&#x3001;&#x8BBE;&#x7F6E;&#x7F51;&#x5361;2&#xFF08;Static&#xFF09;&#x7F16;&#x8F91;&#x7F51;&#x5361;2&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;ifcfg-eth1&#xFF1A;1vi ifcfg-eth1 &#x5C06;ONBOOT&#x7684;&#x503C;&#x6539;&#x6210;yes&#xFF0C;BOOTPROTO&#x7684;&#x503C;&#x6539;&#x6210;static&#xFF0C;&#x5E76;&#x589E;&#x52A0;IPADDR&#x548C;NETMASK&#x4E24;&#x884C;&#xFF0C;&#x6700;&#x7EC8;&#x7684;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A;123456789DEVICE=eth1HWADDR=08:00:27:20:93:41TYPE=EthernetUUID=b67f7e1c-31b8-4c33-ac52-a38d935b871cONBOOT=yesNM_CONTROLLED=yesBOOTPROTO=staticIPADDR=192.168.56.103NETMASK=255.255.255.0 &#x4E09;&#x3001;&#x91CD;&#x542F;&#x7F51;&#x5361;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x91CD;&#x542F;&#x7F51;&#x5361;&#xFF1A;1service network restart &#x56DB;&#x3001;&#x67E5;&#x770B;&#x7F51;&#x5361;&#x4FE1;&#x606F;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x663E;&#x793A;&#x7F51;&#x5361;&#x4FE1;&#x606F;&#xFF1A;1ip a &#x7CFB;&#x7EDF;&#x663E;&#x793A;&#x5982;&#x4E0B;&#x4FE1;&#x606F;&#xFF1A; 1: lo: mtu 65536 qdisc noqueue state UNKNOWN link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo inet6 ::1/128 scope host valid_lft forever preferred_lft forever2: eth0: mtu 1500 qdisc pfifo_fast state UP qlen 1000 link/ether 08:00:27:cd:c3:2e brd ff:ff:ff:ff:ff:ff inet 10.0.2.15/24 brd 10.0.2.255 scope global eth0 inet6 fe80::a00:27ff:fecd:c32e/64 scope link valid_lft forever preferred_lft forever3: eth1: mtu 1500 qdisc pfifo_fast state UP qlen 1000 link/ether 08:00:27:20:93:41 brd ff:ff:ff:ff:ff:ff inet 192.168.56.103/24 brd 192.168.56.255 scope global eth1 inet6 fe80::a00:27ff:fe20:9341/64 scope link valid_lft forever preferred_lft forever &#x4E94;&#x3001;&#x9A8C;&#x8BC1;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x9A8C;&#x8BC1;&#x662F;&#x5426;&#x53EF;&#x6B63;&#x5E38;&#x5730;&#x8FDE;&#x63A5;&#x5230;&#x516C;&#x7F51;&#xFF1A;1ping -c 4 www.google.com &#x7CFB;&#x7EDF;&#x663E;&#x793A;&#x5982;&#x4E0B;&#x4FE1;&#x606F;&#xFF0C;&#x8BF4;&#x660E;&#x5DF2;&#x7ECF;&#x6210;&#x529F;&#x5730;&#x8FDE;&#x63A5;&#x5230;&#x516C;&#x7F51;&#xFF1A; PING www.google.com (216.58.221.100) 56(84) bytes of data.64 bytes from hkg07s01-in-f4.1e100.net (216.58.221.100): icmp_seq=1 ttl=50 time=7.08 ms64 bytes from hkg07s01-in-f4.1e100.net (216.58.221.100): icmp_seq=2 ttl=50 time=7.79 ms64 bytes from hkg07s01-in-f4.1e100.net (216.58.221.100): icmp_seq=3 ttl=50 time=7.23 ms64 bytes from hkg07s01-in-f4.1e100.net (216.58.221.100): icmp_seq=4 ttl=50 time=6.88 ms &#x2014; www.google.com ping statistics &#x2014;4 packets transmitted, 4 received, 0% packet loss, time 3018msrtt min/avg/max/mdev = 6.889/7.248/7.793/0.342 ms","categories":[{"name":"操作系统","slug":"操作系统","permalink":"http://aofeng.github.io/categories/操作系统/"},{"name":"Linux","slug":"操作系统/Linux","permalink":"http://aofeng.github.io/categories/操作系统/Linux/"}],"tags":[{"name":"linux","slug":"linux","permalink":"http://aofeng.github.io/tags/linux/"},{"name":"centos","slug":"centos","permalink":"http://aofeng.github.io/tags/centos/"},{"name":"网络","slug":"网络","permalink":"http://aofeng.github.io/tags/网络/"}],"keywords":[{"name":"操作系统","slug":"操作系统","permalink":"http://aofeng.github.io/categories/操作系统/"},{"name":"Linux","slug":"操作系统/Linux","permalink":"http://aofeng.github.io/categories/操作系统/Linux/"}]},{"title":"MySQL5.5-主从复制配置","slug":"MySQL5-5-主从复制配置","date":"2015-06-02T08:11:42.000Z","updated":"2016-11-06T13:04:27.000Z","comments":true,"path":"2015/06/02/MySQL5-5-主从复制配置/","link":"","permalink":"http://aofeng.github.io/2015/06/02/MySQL5-5-主从复制配置/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x4E00;&#x3001;&#x73AF;&#x5883; &#x4E8C;&#x3001;&#x914D;&#x7F6E;&#x670D;&#x52A1;&#x5668;ID&#x548C;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7; 1&#x3001;&#x914D;&#x7F6E;Master 2&#x3001;&#x914D;&#x7F6E;Slave &#x4E09;&#x3001;&#x6388;&#x6743;&#x548C;&#x590D;&#x5236;&#x914D;&#x7F6E; 1&#x3001;&#x914D;&#x7F6E;Master 2&#x3001;&#x914D;&#x7F6E;Slave &#x56DB;&#x3001;&#x9A8C;&#x8BC1; 1&#x3001;&#x67E5;&#x770B;Master&#x7684;&#x8FDB;&#x7A0B; 2&#x3001;&#x67E5;&#x770B;Slave&#x7684;&#x8FDB;&#x7A0B; 3&#x3001;&#x4E3B;&#x4ECE;&#x6570;&#x636E;&#x590D;&#x5236;&#x6821;&#x9A8C; &#x4E94;&#x3001;&#x53C2;&#x8003;&#x8D44;&#x6599; &#x5728;&#x5927;&#x578B;&#x7684;&#x4E92;&#x8054;&#x7F51;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x8BFB;&#x7684;&#x8BF7;&#x6C42;&#x975E;&#x5E38;&#x9891;&#x7E41;&#xFF0C;&#x5355;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x8282;&#x70B9;&#x4E0D;&#x80FD;&#x6EE1;&#x8DB3;&#x8BFB;&#x7684;&#x8981;&#x6C42;&#xFF0C;&#x5E38;&#x89C1;&#x7684;&#x505A;&#x6CD5;&#x662F;&#xFF1A;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#xFF0C;&#x5C06;&#x8BFB;&#x64CD;&#x4F5C;&#x5206;&#x5E03;&#x81F3;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x4ECE;&#x8282;&#x70B9;&#x3002;&#x9664;&#x4E86;&#x9AD8;&#x6027;&#x80FD;&#x5916;&#xFF0C;&#x9AD8;&#x53EF;&#x7528;&#x548C;&#x5BB9;&#x707E;&#x4E5F;&#x662F;&#x4E0D;&#x5BB9;&#x5FFD;&#x89C6;&#x7684;&#x8981;&#x6C42;&#xFF0C;&#x8BB8;&#x591A;&#x7CFB;&#x7EDF;&#x4F1A;&#x505A;&#x6570;&#x636E;&#x5907;&#x4EFD;&#xFF0C;&#x901A;&#x8FC7;&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x5C06;&#x6570;&#x636E;&#x5907;&#x4EFD;&#x81F3;&#x53E6;&#x4E00;&#x53F0;&#x7269;&#x7406;&#x670D;&#x52A1;&#x5668;&#x6216;&#x8005;&#x5F02;&#x5730;&#x673A;&#x623F;&#x3002;MySQL&#x652F;&#x6301;&#x591A;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#x590D;&#x5236;&#xFF1A; &#x57FA;&#x4E8E;&#x8BED;&#x53E5;&#x7684;&#x590D;&#x5236;&#xFF1A;&#x6280;&#x672F;&#x6210;&#x719F;&#x3001;&#x590D;&#x5236;&#x6570;&#x636E;&#x9AD8;&#x6548;&#xFF0C;&#x4F46;&#x5728;&#x4E00;&#x4E9B;&#x7279;&#x6B8A;&#x573A;&#x666F;&#xFF08;&#x5982;&#xFF1A;&#x8BED;&#x53E5;&#x4E2D;&#x542B;&#x6709;now()&#x7B49;&#x8868;&#x793A;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#x7684;&#x51FD;&#x6570;&#xFF09;&#x4E2D;&#x4F1A;&#x5BFC;&#x81F4;&#x6570;&#x636E;&#x4E0D;&#x4E00;&#x81F4;&#x3002; &#x57FA;&#x4E8E;&#x884C;&#x7684;&#x590D;&#x5236;&#xFF1A;&#x57FA;&#x4E8E;&#x8868;&#x7684;&#x53D8;&#x5316;&#x8BB0;&#x5F55;&#x884C;&#x4FE1;&#x606F;&#xFF0C;&#x662F;&#x6700;&#x5B89;&#x5168;&#x7684;&#x590D;&#x5236;&#x65B9;&#x5F0F;&#xFF0C;&#x5982;&#x679C;&#x8BED;&#x53E5;&#x66F4;&#x65B0;&#x4E86;&#x5927;&#x91CF;&#x7684;&#x884C;&#xFF0C;&#x4F1A;&#x751F;&#x6210;&#x5F88;&#x5927;&#x7684;&#x65E5;&#x5FD7;&#xFF0C;&#x6548;&#x7387;&#x53D7;&#x5F71;&#x54CD;&#x3002; &#x6DF7;&#x5408;&#x6A21;&#x5F0F;&#xFF1A;&#x517C;&#x987E;&#x57FA;&#x4E8E;&#x8BED;&#x53E5;&#x548C;&#x57FA;&#x4E8E;&#x884C;&#x7684;&#x4F18;&#x70B9;&#xFF0C;&#x6B63;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#x7528;&#x57FA;&#x4E8E;&#x8BED;&#x53E5;&#x6765;&#x590D;&#x5236;&#x6570;&#x636E;&#xFF0C;&#x5BF9;&#x4E8E;&#x4E0D;&#x5B89;&#x5168;&#x7684;&#x8BED;&#x53E5;&#x91C7;&#x7528;&#x57FA;&#x4E8E;&#x884C;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x590D;&#x5236;&#x6570;&#x636E;&#x3002; MySQL&#x7684;&#x590D;&#x5236;&#x8FC7;&#x7A0B;&#xFF1A;Master&#x8F93;&#x51FA;bin log&#xFF08;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#xFF09;&#xFF0C;Slave&#x62C9;&#x53D6;bin log&#x5199;&#x5165;&#x672C;&#x5730;&#x7684;relay log&#xFF08;&#x4E2D;&#x7EE7;&#x65E5;&#x5FD7;&#xFF09;&#xFF0C;&#x7136;&#x540E;&#x89E3;&#x6790;&#x91CD;&#x653E;&#x64CD;&#x4F5C;&#x3002;&#x8BE6;&#x7EC6;&#x6B65;&#x805A;&#x5982;&#x4E0B;&#xFF1A; Master&#x63D0;&#x4EA4;&#x4E8B;&#x52A1;&#x4E4B;&#x524D;&#xFF0C;&#x5C06;&#x6539;&#x53D8;&#x7684;&#x5185;&#x5BB9;&#x4E32;&#x884C;&#x5730;&#x5199;&#x5165;bin log&#x3002; Slave&#x901A;&#x8FC7;I/O&#x7EBF;&#x7A0B;&#x8FDE;&#x63A5;&#x5230;Master&#xFF0C;&#x8BF7;&#x6C42;&#x4ECE;&#x6307;&#x5B9A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7684;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#x5F00;&#x59CB;&#x62C9;&#x53D6;&#x5185;&#x5BB9;&#x3002; Master&#x6536;&#x5230;&#x8BF7;&#x6C42;&#x540E;&#xFF0C;&#x901A;&#x8FC7;&#x81EA;&#x8EAB;&#x7684;I/O&#x7EBF;&#x7A0B;&#x8BFB;&#x53D6;&#x6307;&#x5B9A;&#x6587;&#x4EF6;&#x7684;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#x540E;&#x9762;&#x7684;&#x5185;&#x5BB9;&#x5E76;&#x8FD4;&#x56DE;&#x7ED9;Slave&#x3002; Slave&#x6536;&#x5230;&#x54CD;&#x5E94;&#x540E;&#xFF0C;&#x5C06;&#x65E5;&#x5FD7;&#x5185;&#x5BB9;&#x5199;&#x5165;&#x672C;&#x5730;&#x7684;relay log&#x3002; Slave&#x7684;SQL&#x7EBF;&#x7A0B;&#x89E3;&#x6790;relay log&#xFF0C;&#x8FD8;&#x539F;&#x64CD;&#x4F5C;&#xFF08;&#x5728;Slave&#x7AEF;&#x91CD;&#x653E;Master&#x7684;&#x64CD;&#x4F5C;&#xFF09;&#xFF0C;&#x4FDD;&#x6301;&#x6570;&#x636E;&#x4E00;&#x81F4;&#x3002; &#x4E00;&#x3001;&#x73AF;&#x5883; RedHat 5.x / CentOS 5.x GCC 4.1.2 MySQL Master 5.5.43&#xFF0C;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x6570;&#x636E;&#xFF0C;IP&#x5730;&#x5740;&#x4E3A;192.168.56.102&#xFF0C;&#x76D1;&#x542C;&#x7AEF;&#x53E3;&#x4E3A;19826 MySQL Slave 5.5.43&#xFF0C;&#x65B0;&#x5EFA;&#x7684;&#x5B9E;&#x4F8B;&#xFF08;&#x65E0;&#x6570;&#x636E;&#xFF09;&#xFF0C;IP&#x5730;&#x5740;&#x4E3A;192.168.56.102&#xFF0C;&#x76D1;&#x542C;&#x7AEF;&#x53E3;&#x4E3A;19836&#x3002; &#x4E8C;&#x3001;&#x914D;&#x7F6E;&#x670D;&#x52A1;&#x5668;ID&#x548C;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x8BF4;&#x660E;&#xFF1A; Master&#x548C;Slave&#x5FC5;&#x987B;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x670D;&#x52A1;&#x5668;ID&#xFF0C;&#x5982;&#x679C;&#x6709;&#x591A;&#x4E2A;Slave&#xFF0C;&#x6BCF;&#x4E2A;Slave&#x7684;&#x670D;&#x52A1;&#x5668;ID&#x4E5F;&#x5FC5;&#x987B;&#x552F;&#x4E00;&#x3002; Master&#x5FC5;&#x987B;&#x8F93;&#x51FA;bing log&#x3002; 1&#x3001;&#x914D;&#x7F6E;Master&#x6253;&#x5F00;Master&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;my.cnf&#xFF1A;1vi /home/nieyong/local/mysql-5543/data/data19826/my.cnf &#x4FEE;&#x6539;&#x5185;&#x5BB9;&#xFF1A;1234[mysqld]server-id = 26 #[&#x5FC5;&#x987B;]&#x670D;&#x52A1;&#x5668;ID&#xFF0C;&#x5728;&#x96C6;&#x7FA4;&#x4E2D;&#x5FC5;&#x987B;&#x552F;&#x4E00;log-bin = /home/nieyong/local/mysql-5543/data/data19826/data/mysql-bin #[&#x5FC5;&#x987B;]&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;binlog_format = mixed #[&#x53EF;&#x9009;]&#x914D;&#x7F6E;&#x4E3A;&#x6DF7;&#x5408;&#x6A21;&#x5F0F; 2&#x3001;&#x914D;&#x7F6E;Slave&#x6253;&#x5F00;Slave&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;my.cnf&#xFF1A;1vi /home/nieyong/local/mysql-5543/data/data19836/my.cnf &#x4FEE;&#x6539;&#x5185;&#x5BB9;&#xFF1A;1234[mysqld]server-id = 36 #[&#x5FC5;&#x987B;]&#x670D;&#x52A1;&#x5668;ID&#xFF0C;&#x5728;&#x96C6;&#x7FA4;&#x4E2D;&#x5FC5;&#x987B;&#x552F;&#x4E00;log-bin = /home/nieyong/local/mysql-5543/data/data19836/data/mysql-bin #[&#x5FC5;&#x987B;]&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;binlog_format = mixed #[&#x53EF;&#x9009;]&#x914D;&#x7F6E;&#x4E3A;&#x6DF7;&#x5408;&#x6A21;&#x5F0F; &#x6CE8;&#xFF1A;&#x914D;&#x7F6E;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x91CD;&#x542F;master&#x548C;slave&#x3002; &#x4E09;&#x3001;&#x6388;&#x6743;&#x548C;&#x590D;&#x5236;&#x914D;&#x7F6E;1&#x3001;&#x914D;&#x7F6E;Master1&#xFF09;&#x767B;&#x9646;Master&#x3002;1mysql -S /home/nieyong/local/mysql-5543/data/data19826/tmp/mysql.sock -u root -pmaster123456 2&#xFF09;&#x5728;Master&#x5EFA;&#x7ACB;&#x7528;&#x4E8E;&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x7684;&#x8D26;&#x53F7;&#x5E76;&#x6388;&#x6743;&#x3002;12CREATE USER &apos;repl_user&apos;@&apos;%&apos; IDENTIFIED BY &apos;repl_123456&apos;;GRANT REPLICATION SLAVE ON *.* TO &apos;repl_user&apos;@&apos;%&apos;; &#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A; 3&#xFF09;&#x5BFC;&#x51FA;Master&#x7684;&#x6570;&#x636E;&#x5E93;&#x3002;&#x5728;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x547D;&#x4EE4;&#x884C;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;1mysqldump -S /home/nieyong/local/mysql-5543/data/data19826/tmp/mysql.sock -u root -pmaster123456 --master-data=2 --all-databases &gt; /home/nieyong/db19826.sql &#x8BF4;&#x660E;&#xFF1A; &#x2013;master-data=2 &#x8868;&#x793A;&#x8F93;&#x51FA;change master to &#x8BED;&#x53E5;&#x5E76;&#x5728;&#x524D;&#x9762;&#x52A0;&#x4E0A;&#x6CE8;&#x91CA;&#x7B26;(#)&#xFF0C;&#x5728;Slave&#x4E0A;&#x6267;&#x884C;change master to &#x65F6;&#x4F1A;&#x7528;&#x5230;&#x3002; 4&#xFF09;&#x67E5;&#x770B;Master&#x72B6;&#x6001;&#x3002;1show master status; &#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A; 2&#x3001;&#x914D;&#x7F6E;Slave1&#xFF09;&#x767B;&#x9646;Slave&#x3002;&#x5728;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x547D;&#x4EE4;&#x884C;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;1mysql -S /home/nieyong/local/mysql-5543/data/data19836/tmp/mysql.sock -u root -pslave123456 2&#xFF09;&#x5BFC;&#x5165;&#x6570;&#x636E;&#x5E93;&#x3002;&#x5728;mysql&#x547D;&#x4EE4;&#x884C;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;1source /home/nieyong/db19826.sql 3&#xFF09;&#x67E5;&#x770B;Slave&#x72B6;&#x6001;&#x3002;&#x5728;mysql&#x547D;&#x4EE4;&#x884C;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;1show slave status; 4&#xFF09;&#x914D;&#x7F6E;&#x590D;&#x5236;&#x3002;&#x5728;mysql&#x547D;&#x4EE4;&#x884C;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;1234567change master to master_host=&apos;192.168.56.102&apos;, master_port=19826, master_user=&apos;repl_user&apos;, master_password=&apos;repl_123456&apos;, master_log_file=&apos;mysql-bin.000008&apos;, master_log_pos=107; &#x8BF4;&#x660E;&#xFF1A;db19826.sql&#x4E2D;&#x6709;&#x4E00;&#x884C;&#x5185;&#x5BB9;&#x8BB0;&#x5F55;&#x5BFC;&#x51FA;&#x6570;&#x636E;&#x65F6;bin log&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x53CA;&#x5176;&#x4F4D;&#x7F6E;&#x3002; 5&#xFF09;&#x542F;&#x52A8;Slave&#x7EBF;&#x7A0B;&#x3002;&#x5728;mysql&#x547D;&#x4EE4;&#x884C;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;1start slave; 6&#xFF09;&#x67E5;&#x770B;Slave&#x72B6;&#x6001;&#x3002;&#x5728;mysql&#x547D;&#x4EE4;&#x884C;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;1show slave status\\G mysql&#x8F93;&#x51FA;&#x5982;&#x4E0B;&#x4FE1;&#x606F;&#xFF1A; *************************** 1. row *************************** Slave_IO_State: Waiting for master to send event Master_Host: 192.168.56.102 Master_User: repl_user Master_Port: 19826 Connect_Retry: 60 Master_Log_File: mysql-bin.000008 Read_Master_Log_Pos: 107 Relay_Log_File: relay-bin.000002 Relay_Log_Pos: 253 Relay_Master_Log_File: mysql-bin.000008 Slave_IO_Running: Yes Slave_SQL_Running: Yes Replicate_Do_DB: Replicate_Ignore_DB: Replicate_Do_Table: Replicate_Ignore_Table: Replicate_Wild_Do_Table: Replicate_Wild_Ignore_Table: Last_Errno: 0 Last_Error: Skip_Counter: 0 Exec_Master_Log_Pos: 107 Relay_Log_Space: 403 Until_Condition: None Until_Log_File: Until_Log_Pos: 0 Master_SSL_Allowed: No Master_SSL_CA_File: Master_SSL_CA_Path: Master_SSL_Cert: Master_SSL_Cipher: Master_SSL_Key: Seconds_Behind_Master: 0 Master_SSL_Verify_Server_Cert: No Last_IO_Errno: 0 Last_IO_Error: Last_SQL_Errno: 0 Last_SQL_Error: Replicate_Ignore_Server_Ids: Master_Server_Id: 26 1 row in set (0.00 sec) &#x6CE8;&#xFF1A;Slave_IO_Running&#x548C;Slave_SQL_Running&#x5FC5;&#x987B;&#x90FD;&#x662F;Yes&#xFF0C;&#x5426;&#x5219;&#x5C31;&#x8BF4;&#x660E;&#x5B58;&#x5728;&#x9519;&#x8BEF;&#xFF0C;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#x6CA1;&#x6709;&#x914D;&#x7F6E;&#x6210;&#x529F;&#x3002; &#x56DB;&#x3001;&#x9A8C;&#x8BC1;1&#x3001;&#x67E5;&#x770B;Master&#x7684;&#x8FDB;&#x7A0B;&#x5728;Master&#x7684;mysql&#x547D;&#x4EE4;&#x884C;&#x8F93;&#x5165;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;1show full processlist\\G 2&#x3001;&#x67E5;&#x770B;Slave&#x7684;&#x8FDB;&#x7A0B;&#x5728;Slave&#x7684;mysql&#x547D;&#x4EE4;&#x884C;&#x8F93;&#x5165;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;1show full processlist\\G 3&#x3001;&#x4E3B;&#x4ECE;&#x6570;&#x636E;&#x590D;&#x5236;&#x6821;&#x9A8C;1&#x3001;&#x5728;Master&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x8868;&#xFF0C;SQL&#x8BED;&#x53E5;&#x5982;&#x4E0B;&#xFF1A;12345678910CREATE TABLE account_cp( cp_id int PRIMARY KEY NOT NULL, cp_name varchar(50) NOT NULL, cp_status tinyint DEFAULT 0 NOT NULL, ctime bigint NOT NULL, creator varchar(20) NOT NULL, mtime bigint, modifier varchar(20)); &#x7136;&#x540E;&#x518D;&#x63D2;&#x5165;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF1A;1insert into account_cp(cp_id, cp_name, cp_status, ctime, creator) values(1, &apos;&#x50B2;&#x98CE;&#x7684;&#x535A;&#x5BA2;&apos;, 0, 0, &apos;nieyong&apos;); 2&#x3001;&#x8FDB;&#x5165;Slave&#x67E5;&#x770B;&#xFF0C;&#x540C;&#x6837;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x65B0;&#x589E;&#x4E86;&#x4E00;&#x4E2A;&#x8868;account_cp&#xFF0C;&#x5E76;&#x4E14;&#x5B58;&#x5728;&#x4E00;&#x6761;&#x4E00;&#x6837;&#x7684;&#x8BB0;&#x5F55;&#x3002; &#x4E94;&#x3001;&#x53C2;&#x8003;&#x8D44;&#x6599; MySQL5.5&#x7F16;&#x8BD1;&#x5B89;&#x88C5;&#x548C;&#x591A;&#x5B9E;&#x4F8B;&#x914D;&#x7F6E; How to Set Up Replication","categories":[{"name":"数据库","slug":"数据库","permalink":"http://aofeng.github.io/categories/数据库/"},{"name":"MySQL","slug":"数据库/MySQL","permalink":"http://aofeng.github.io/categories/数据库/MySQL/"}],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://aofeng.github.io/tags/mysql/"},{"name":"数据库","slug":"数据库","permalink":"http://aofeng.github.io/tags/数据库/"},{"name":"主从复制","slug":"主从复制","permalink":"http://aofeng.github.io/tags/主从复制/"}],"keywords":[{"name":"数据库","slug":"数据库","permalink":"http://aofeng.github.io/categories/数据库/"},{"name":"MySQL","slug":"数据库/MySQL","permalink":"http://aofeng.github.io/categories/数据库/MySQL/"}]},{"title":"MySQL5.5-编译安装和多实例配置","slug":"MySQL5-5-编译安装和多实例配置","date":"2015-05-12T11:05:00.000Z","updated":"2016-11-07T04:02:18.000Z","comments":true,"path":"2015/05/12/MySQL5-5-编译安装和多实例配置/","link":"","permalink":"http://aofeng.github.io/2015/05/12/MySQL5-5-编译安装和多实例配置/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x4E00;&#x3001;&#x73AF;&#x5883; &#x4E8C;&#x3001;&#x5B89;&#x88C5;MySQL &#x89E3;&#x538B; &#x7F16;&#x8BD1;&#x5B89;&#x88C5; &#x4E09;&#x3001;&#x591A;&#x5B9E;&#x4F8B;&#x914D;&#x7F6E; &#x7ED3;&#x6784;&#x8BF4;&#x660E; &#x914D;&#x7F6E;&#x5B9E;&#x4F8B;19826 &#x914D;&#x7F6E;&#x5B9E;&#x4F8B;19836 &#x56DB;&#x3001;&#x542F;&#x52A8;&#x5B9E;&#x4F8B; &#x4E94;&#x3001;&#x914D;&#x7F6E;&#x6743;&#x9650; &#x5B9E;&#x4F8B;19826 &#x5B9E;&#x4F8B;19836 &#x516D;&#x3001;&#x505C;&#x6B62;&#x5B9E;&#x4F8B; &#x5B9E;&#x4F8B;19826 &#x5B9E;&#x4F8B;19836 MySQL&#x6709;&#x591A;&#x79CD;&#x5B89;&#x88C5;&#x65B9;&#x5F0F;&#xFF1A;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;&#x3001;&#x4E8C;&#x8FDB;&#x5236;&#x53D1;&#x5E03;&#x5305;&#x5B89;&#x88C5;&#x3002;&#x6211;&#x60F3;&#x5927;&#x5BB6;&#x7684;&#x7B2C;&#x4E00;&#x53CD;&#x5E94;&#x662F;&#x4F7F;&#x7528;&#x4E8C;&#x8FDB;&#x5236;&#x5B89;&#x88C5;&#xFF0C;&#x9009;&#x62E9;&#x9488;&#x5BF9;&#x5F53;&#x524D;&#x7CFB;&#x7EDF;&#x53D1;&#x5E03;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x76F4;&#x63A5;&#x5B89;&#x88C5;&#x5C31;&#x884C;&#xFF0C;&#x6BD4;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;&#x7B80;&#x5355;&#x5F97;&#x591A;&#x3002;&#x4F46;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;&#x6709;&#x5B83;&#x7684;&#x597D;&#x5904;&#xFF1A; &#x53EF;&#x9488;&#x5BF9;&#x5F53;&#x524D;&#x7CFB;&#x7EDF;&#x8FDB;&#x884C;&#x4F18;&#x5316;&#xFF1B; &#x5B9A;&#x5236;&#x9700;&#x8981;&#x7684;&#x5F15;&#x64CE;&#xFF1B; &#x5B9A;&#x5236;&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#xFF0C;&#x53EF;&#x591A;&#x7248;&#x672C;&#x5E76;&#x5B58;; &#x5B9A;&#x5236;&#x5404;&#x79CD;&#x9ED8;&#x8BA4;&#x53C2;&#x6570;&#x3002; &#x90A3;&#x591A;&#x5B9E;&#x4F8B;&#x6709;&#x4EC0;&#x4E48;&#x7528;&#x9014;&#x5462;&#xFF1F;&#x5728;&#x4E1A;&#x52A1;&#x65E9;&#x671F;&#xFF0C;&#x7CFB;&#x7EDF;&#x7684;&#x8BBF;&#x95EE;&#x91CF;&#x8F83;&#x5C0F;&#xFF0C;&#x8BB8;&#x591A;&#x6A21;&#x5757;&#x7684;&#x8BFB;&#x5199;&#x64CD;&#x4F5C;&#x4E0D;&#x9891;&#x7E41;&#xFF0C;&#x4ECE;&#x8282;&#x7EA6;&#x6210;&#x672C;&#x7684;&#x89D2;&#x5EA6;&#x548C;&#x7CFB;&#x7EDF;&#x4EE5;&#x540E;&#x7684;&#x6269;&#x5C55;&#x6027;&#x8003;&#x8651;&#xFF0C;&#x4F1A;&#x5728;&#x4E00;&#x53F0;&#x7269;&#x7406;&#x673A;&#x4E2D;&#x90E8;&#x7F72;&#x591A;&#x4E2A;MySQL&#x5B9E;&#x4F8B;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x6A21;&#x5757;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x5B9E;&#x4F8B;&#xFF0C;&#x5982;&#x679C;&#x5176;&#x4E2D;&#x67D0;&#x4E2A;&#x6A21;&#x5757;&#x7684;&#x8BFB;&#x5199;&#x91CF;&#x4E0D;&#x65AD;&#x4E0A;&#x5347;&#xFF0C;&#x5230;&#x8FBE;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x540E;&#x518D;&#x5C06;&#x5B83;&#x4F7F;&#x7528;&#x7684;&#x5B9E;&#x4F8B;&#x8FC1;&#x79FB;&#x81F3;&#x53E6;&#x5916;&#x7684;&#x670D;&#x52A1;&#x5668;&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x5728;&#x7814;&#x53D1;&#x7684;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x548C;&#x6D4B;&#x8BD5;&#x7684;&#x6D4B;&#x8BD5;&#x73AF;&#x5883;&#x4E2D;&#xFF0C;&#x90E8;&#x7F72;&#x7684;&#x73AF;&#x5883;&#x8981;&#x6A21;&#x62DF;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x7684;&#x67B6;&#x6784;&#xFF0C;&#x4E5F;&#x5F80;&#x5F80;&#x91C7;&#x7528;&#x5728;&#x540C;&#x4E00;&#x53F0;&#x7269;&#x7406;&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x90E8;&#x7F72;&#x591A;&#x4E2A;MySQL&#x5B9E;&#x4F8B;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x8FDB;&#x884C;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#x3001;&#x4E3B;&#x4E3B;&#x540C;&#x6B65;&#x7684;&#x914D;&#x7F6E;&#x3002; &#x4E00;&#x3001;&#x73AF;&#x5883; RedHat 5.x / CentOS 5.x GCC 4.1.2 &#x4E8C;&#x3001;&#x5B89;&#x88C5;MySQL&#x89E3;&#x538B;1tar -C build -zxvf mysql-5.5.43.tar.gz &#x7F16;&#x8BD1;&#x5B89;&#x88C5;1&#x3001;&#x914D;&#x7F6E;&#x3002;1cmake -DCMAKE_INSTALL_PREFIX=/home/nieyong/local/mysql-5543 -DWITH_EXTRA_CHARSETS=all -DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci -DENABLED_LOCAL_INFILE=1 -DMYSQL_UNIX_ADDR=/home/nieyong/local/mysql-5543/mysql-5543.sock -DMYSQL_TCP_PORT=3306 -DWITH_INNOBASE_STORAGE_ENGINE=1 -DWITH_ARCHIVE_STORAGE_ENGINE=1 -DWITH_BLACKHOLE_STORAGE_ENGINE=1 -DWITH_PERFSCHEMA_STORAGE_ENGINE=1 -DWITH_CSV_STORAGE_ENGINE=1 -DWITH_HEAP_STORAGE_ENGINE=1 -DWITH_MYISAM_STORAGE_ENGINE=1 -DWITH_MYISAMMRG_STORAGE_ENGINE=1 -DWITH_NDB_STORAGE_ENGINE=1 -DWITH_NDB_TEST=ON -DWITH_READLINE=1 2&#x3001;&#x751F;&#x6210;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x3002;1make 3&#x3001;&#x5B89;&#x88C5;&#x5230;&#x6307;&#x5B9A;&#x76EE;&#x5F55;&#x3002;1make install &#x4E09;&#x3001;&#x591A;&#x5B9E;&#x4F8B;&#x914D;&#x7F6E;&#x8BF4;&#x660E;&#xFF1A;&#x521B;&#x5EFA;&#x4E24;&#x4E2A;&#x5B9E;&#x4F8B;&#xFF0C;&#x5B9E;&#x4F8B;1&#x4F7F;&#x7528;&#x7AEF;&#x53E3;19826&#xFF0C;&#x5B9E;&#x4F8B;2&#x4F7F;&#x7528;&#x7AEF;&#x53E3;19836&#x3002; &#x7ED3;&#x6784;&#x8BF4;&#x660E; &#x8BF4;&#x660E;&#xFF1A; data - &#x5B58;&#x653E;&#x6570;&#x636E;&#x6587;&#x4EF6;&#xFF1A;&#x6570;&#x636E;&#xFF0C;&#x7D22;&#x5F15;&#xFF0C;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#xFF08;bin log&#xFF09;&#xFF0C;&#x91CD;&#x653E;&#x65E5;&#x5FD7;&#xFF08;replay log&#xFF09;&#x3002; log - &#x5B58;&#x653E;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#xFF1A;&#x6162;&#x67E5;&#x8BE2;&#x65E5;&#x5FD7;&#xFF0C;&#x9519;&#x8BEF;&#x65E5;&#x5FD7;&#x3002; tmp - &#x5B58;&#x653E;&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#xFF1A;&#x8FDB;&#x7A0B;ID&#x6587;&#x4EF6;&#x3002; my.cnf - &#x5B9E;&#x4F8B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002; &#x914D;&#x7F6E;&#x5B9E;&#x4F8B;198261&#x3001;&#x65B0;&#x5EFA;&#x76EE;&#x5F55;&#x3002;1234cd $MySQL_DATA_DIRmkdir data19826cd data19826mkdir data log tmp 2&#x3001;&#x521B;&#x5EFA;&#x7CFB;&#x7EDF;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;&#x8FDB;&#x5165;&#x76EE;&#x5F55;$MySQL_DATA_DIR/data19826&#xFF0C;&#x65B0;&#x5EFA;&#x6587;&#x4EF6;my.cnf&#x3002;&#x5185;&#x5BB9;&#x7C7B;&#x4F3C;&#x5982;&#x4E0B;&#xFF1A;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748[client]default-character-set = utf8port = 19826socket = /home/nieyong/local/mysql-5543/data/data19826/tmp/mysql.sock[mysqld]server-id = 1collation-server = utf8_unicode_ciinit-connect = &apos;SET NAMES utf8&apos;character-set-server = utf8port = 19826socket = /home/nieyong/local/mysql-5543/data/data19826/tmp/mysql.sockdatadir = /home/nieyong/local/mysql-5543/data/data19826/data/log-error = /home/nieyong/local/mysql-5543/data/data19826/log/mysql.errpid-file = /home/nieyong/local/mysql-5543/data/data19826/tmp/mysql.pidskip-external-lockingkey_buffer_size = 16Mmax_allowed_packet = 1Mtable_open_cache = 64sort_buffer_size = 512Knet_buffer_length = 8Kread_buffer_size = 256Kread_rnd_buffer_size = 512Kmyisam_sort_buffer_size = 8Mlog-bin = /home/nieyong/local/mysql-5543/data/data19826/data/mysql-binrelay_log = /home/nieyong/local/mysql-5543/data/data19826/data/relay-binbinlog_format = mixedslow_query_log = 1slow_query_log_file = /home/nieyong/local/mysql-5543/data/data19826/log/slowquery.loglong_query_time = 1general_log = offgeneral_log_file = /home/nieyong/local/mysql-5543/data/data19826/log/general.log[mysqldump]quickmax_allowed_packet = 16M[mysql]no-auto-rehash[myisamchk]key_buffer_size = 20Msort_buffer_size = 20Mread_buffer = 2Mwrite_buffer = 2M[mysqlhotcopy]interactive-timeout 3&#x3001;&#x521D;&#x59CB;&#x5316;&#x5B9E;&#x4F8B;&#xFF0C;&#x751F;&#x6210;MySQL&#x7CFB;&#x7EDF;&#x6570;&#x636E;&#x5E93;&#x4FE1;&#x606F;&#x3002;&#x8FDB;&#x5165;MySQL&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#xFF0C;&#x6267;&#x884C;&#x547D;&#x4EE4;&#xFF1A;1./scripts/mysql_install_db --basedir=/home/nieyong/local/mysql-5543 --defaults-file=/home/nieyong/local/mysql-5543/data/data19826/my.cnf --user=nieyong MySQL&#x5728;&#x7EC8;&#x7AEF;&#x8F93;&#x51FA;&#x5982;&#x4E0B;&#x63D0;&#x793A;&#x4FE1;&#x606F;&#xFF1A; Installing MySQL system tables... 150512 16:41:35 [Note] /home/nieyong/local/mysql-5543/bin/mysqld (mysqld 5.5.43-log) starting as process 27522 ... OK Filling help tables... 150512 16:41:36 [Note] /home/nieyong/local/mysql-5543/bin/mysqld (mysqld 5.5.43-log) starting as process 27528 ... OK &#x3002;&#x3002;&#x3002; &#x3002;&#x3002;&#x3002; &#x914D;&#x7F6E;&#x5B9E;&#x4F8B;198361&#x3001;&#x65B0;&#x5EFA;&#x76EE;&#x5F55;&#x3002;1234cd $MySQL_DATA_DIRmkdir data19836cd data19836mkdir data log tmp 2&#x3001;&#x521B;&#x5EFA;&#x7CFB;&#x7EDF;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;&#x5C06;\\$MySQL_DATA_DIR/data19826/my.cnf&#x590D;&#x5236;&#x5230;&#x76EE;&#x5F55;\\$MySQL_DATA_DIR/data19836&#x4E0B;&#xFF0C;&#x5C06;&#x5185;&#x5BB9;&#x4E2D;&#x6240;&#x6709;&#x7684;19826&#x90FD;&#x6539;&#x6210;19836&#x3002; 3&#x3001;&#x521D;&#x59CB;&#x5316;&#x5B9E;&#x4F8B;&#xFF0C;&#x751F;&#x6210;MySQL&#x7CFB;&#x7EDF;&#x6570;&#x636E;&#x5E93;&#x4FE1;&#x606F;&#x3002;&#x8FDB;&#x5165;MySQL&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#xFF0C;&#x6267;&#x884C;&#x547D;&#x4EE4;&#xFF1A;1./scripts/mysql_install_db --basedir=/home/nieyong/local/mysql-5543 --defaults-file=/home/nieyong/local/mysql-5543/data/data19836/my.cnf --user=nieyong &#x56DB;&#x3001;&#x542F;&#x52A8;&#x5B9E;&#x4F8B;1&#x3001;&#x542F;&#x52A8;&#x5B9E;&#x4F8B;19826&#x3002;&#x8FDB;&#x5165;MySQL&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#xFF0C;&#x6267;&#x884C;&#x547D;&#x4EE4;&#xFF1A;1./bin/mysqld_safe --defaults-file=/home/nieyong/local/mysql-5543/data/data19826/my.cnf &amp; 2&#x3001;&#x542F;&#x52A8;&#x5B9E;&#x4F8B;19836&#x3002;&#x8FDB;&#x5165;MySQL&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#xFF0C;&#x6267;&#x884C;&#x547D;&#x4EE4;&#xFF1A;1./bin/mysqld_safe --defaults-file=/home/nieyong/local/mysql-5543/data/data19836/my.cnf &amp; 3&#x3001;&#x67E5;&#x770B;MySQL&#x5404;&#x5B9E;&#x4F8B;&#x8FDB;&#x7A0B;&#x4FE1;&#x606F;&#x3002;&#x5728;&#x7EC8;&#x7AEF;&#x6267;&#x884C;&#x547D;&#x4EE4;&#xFF1A;1ps -ef | grep mysqld | grep -v grep &#x7CFB;&#x7EDF;&#x663E;&#x793A;&#x5982;&#x4E0B;&#x8FDB;&#x7A0B;&#x4FE1;&#x606F;&#xFF1A; nieyong 28452 26805 0 17:34 pts/2 00:00:00 /bin/sh ./bin/mysqld_safe --defaults-file=/home/nieyong/local/mysql-5543/data/data19826/my.cnf nieyong 28857 28452 0 17:34 pts/2 00:00:00 /home/nieyong/local/mysql-5543/bin/mysqld --defaults-file=/home/nieyong/local/mysql-5543/data/data19826/my.cnf --basedir=/home/nieyong/local/mysql-5543 --datadir=/home/nieyong/local/mysql-5543/data/data19826/data/ --plugin-dir=/home/nieyong/local/mysql-5543/lib/plugin --log-error=/home/nieyong/local/mysql-5543/data/data19826/log/mysql.err --pid-file=/home/nieyong/local/mysql-5543/data/data19826/tmp/mysql.pid --socket=/home/nieyong/local/mysql-5543/data/data19826/tmp/mysql.sock --port=19826 nieyong 28886 26805 0 17:36 pts/2 00:00:00 /bin/sh ./bin/mysqld_safe --defaults-file=/home/nieyong/local/mysql-5543/data/data19836/my.cnf nieyong 29291 28886 0 17:36 pts/2 00:00:00 /home/nieyong/local/mysql-5543/bin/mysqld --defaults-file=/home/nieyong/local/mysql-5543/data/data19836/my.cnf --basedir=/home/nieyong/local/mysql-5543 --datadir=/home/nieyong/local/mysql-5543/data/data19836/data/ --plugin-dir=/home/nieyong/local/mysql-5543/lib/plugin --log-error=/home/nieyong/local/mysql-5543/data/data19836/log/mysql.err --pid-file=/home/nieyong/local/mysql-5543/data/data19836/tmp/mysql.pid --socket=/home/nieyong/local/mysql-5543/data/data19836/tmp/mysql.sock --port=19836 &#x4E94;&#x3001;&#x914D;&#x7F6E;&#x6743;&#x9650;&#x5B9E;&#x4F8B;198261&#x3001;&#x4FEE;&#x6539;&#x7684;root&#x7528;&#x6237;&#x7684;&#x5BC6;&#x7801;&#x5E76;&#x4E14;&#x9650;&#x5236;&#x53EA;&#x80FD;&#x672C;&#x673A;&#x767B;&#x9646;&#x3002;&#x8FDB;&#x5165;MySQL&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#xFF0C;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;1./bin/mysqladmin -S /home/nieyong/local/mysql-5543/data/data19826/tmp/mysql.sock -u root -h &apos;localhost&apos; password &apos;new-password&apos; &#x6CE8;&#xFF1A;&#x5C06;new-password&#x66FF;&#x4EE3;&#x6210;&#x5B9E;&#x9645;&#x7684;&#x5BC6;&#x7801;&#x3002; 2&#x3001;&#x4F7F;&#x7528;root&#x7528;&#x6237;&#x767B;&#x9646;&#x3002;1./bin/mysql -S /home/nieyong/local/mysql-5543/data/data19826/tmp/mysql.sock -u root -p 3&#x3001;&#x67E5;&#x770B;&#x6570;&#x636E;&#x5E93;&#x4FE1;&#x606F;&#x3002;&#x5728;mysql&#x63D0;&#x793A;&#x7B26;&#x540E;&#x8F93;&#x5165;&#x547D;&#x4EE4;&#xFF1A;1show databases; &#x5B9E;&#x4F8B;198361&#x3001;&#x4FEE;&#x6539;root&#x7528;&#x6237;&#x7684;&#x5BC6;&#x7801;&#x5E76;&#x4E14;&#x9650;&#x5236;&#x53EA;&#x80FD;&#x672C;&#x673A;&#x767B;&#x9646;&#x3002;1./bin/mysqladmin -S /home/nieyong/local/mysql-5543/data/data19836/tmp/mysql.sock -u root -h &apos;localhost&apos; password &apos;new-password&apos; &#x6CE8;&#xFF1A;&#x5C06;new-password&#x66FF;&#x4EE3;&#x6210;&#x5B9E;&#x9645;&#x7684;&#x5BC6;&#x7801;&#x3002; &#x516D;&#x3001;&#x505C;&#x6B62;&#x5B9E;&#x4F8B;&#x5B9E;&#x4F8B;19826&#x8FDB;&#x5165;MySQL&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#xFF0C;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;1./bin/mysqladmin -S /home/nieyong/local/mysql-5543/data/data19826/tmp/mysql.sock -u root -p shutdown &#x5B9E;&#x4F8B;19836&#x8FDB;&#x5165;MySQL&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#xFF0C;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;1./bin/mysqladmin -S /home/nieyong/local/mysql-5543/data/data19836/tmp/mysql.sock -u root -p shutdown","categories":[{"name":"数据库","slug":"数据库","permalink":"http://aofeng.github.io/categories/数据库/"},{"name":"MySQL","slug":"数据库/MySQL","permalink":"http://aofeng.github.io/categories/数据库/MySQL/"}],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://aofeng.github.io/tags/mysql/"},{"name":"数据库","slug":"数据库","permalink":"http://aofeng.github.io/tags/数据库/"}],"keywords":[{"name":"数据库","slug":"数据库","permalink":"http://aofeng.github.io/categories/数据库/"},{"name":"MySQL","slug":"数据库/MySQL","permalink":"http://aofeng.github.io/categories/数据库/MySQL/"}]},{"title":"HTTP缓存 - If-Modified-Since与Last-Modified","slug":"HTTP缓存-If-Modified-Since与Last-Modified","date":"2015-04-14T09:34:38.000Z","updated":"2016-11-07T04:56:56.000Z","comments":true,"path":"2015/04/14/HTTP缓存-If-Modified-Since与Last-Modified/","link":"","permalink":"http://aofeng.github.io/2015/04/14/HTTP缓存-If-Modified-Since与Last-Modified/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x5B9E;&#x4F8B; &#x9996;&#x6B21;&#x8BF7;&#x6C42;&#x4E0E;&#x54CD;&#x5E94; &#x672C;&#x5730;&#x6709;&#x7F13;&#x5B58;&#xFF0C;&#x6587;&#x6863;&#x5728;&#x670D;&#x52A1;&#x5668;&#x672A;&#x4FEE;&#x6539; &#x672C;&#x5730;&#x6709;&#x7F13;&#x5B58;&#xFF0C;&#x6587;&#x6863;&#x5728;&#x670D;&#x52A1;&#x5668;&#x6709;&#x4FEE;&#x6539; &#x5F53;&#x6D4F;&#x89C8;&#x5668;&#x672C;&#x5730;&#x7F13;&#x5B58;&#x7684;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x8FC7;&#x671F;&#x6216;&#x65E0;&#x6CD5;&#x5224;&#x65AD;&#x662F;&#x5426;&#x4E3A;&#x6700;&#x65B0;&#x7248;&#x672C;&#xFF0C;&#x5C31;&#x4F1A;&#x5411;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#x8FDB;&#x884C;&#x6838;&#x5BF9;&#xFF0C;&#x5E38;&#x89C1;&#x7684;&#x662F;Last-Modified&#x4E0E;If-Modified-Since&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#x3002; &#x5982;&#x679C;&#x81EA;&#x6307;&#x5B9A;&#x7684;&#x65F6;&#x95F4;&#x4E4B;&#x540E;&#xFF0C;&#x6587;&#x6863;&#x53D1;&#x751F;&#x4E86;&#x53D8;&#x5316;&#xFF0C;&#x5C31;&#x8FD4;&#x56DE;&#x6587;&#x6863;&#x5185;&#x5BB9;&#x548C;&#x65B0;&#x7684;&#x4FEE;&#x6539;&#x65F6;&#x95F4;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x7528;&#x65B0;&#x7684;&#x6570;&#x636E;&#x8986;&#x76D6;&#x672C;&#x5730;&#x7F13;&#x5B58;&#x3002; &#x5982;&#x679C;&#x6587;&#x6863;&#x6CA1;&#x6709;&#x53D8;&#x5316;&#xFF0C;&#x8FD4;&#x56DE;304 Not Modified&#xFF0C;&#x53EA;&#x8FD4;&#x56DE;&#x4E00;&#x4E9B;&#x9700;&#x8981;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x66F4;&#x65B0;&#x7684;Header&#x4FE1;&#x606F;&#x3002; &#x6CE8;&#xFF1A;&#x4E00;&#x4E9B;WEB&#x670D;&#x52A1;&#x5668;&#x5728;&#x5B9E;&#x73B0;&#x65F6;&#xFF0C;&#x53EA;&#x662F;&#x6BD4;&#x8F83;If-Modified-Since&#x4E0E;&#x6587;&#x6863;&#x7684;&#x4FEE;&#x6539;&#x65F6;&#x95F4;&#x662F;&#x5426;&#x4E00;&#x81F4;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x786E;&#x8BA4;&#x662F;&#x5426;&#x5728;&#x8FD9;&#x4E2A;&#x65F6;&#x95F4;&#x4E4B;&#x540E;&#x4FEE;&#x6539;&#x8FC7;&#x3002; &#x5B9E;&#x4F8B;&#x9996;&#x6B21;&#x8BF7;&#x6C42;&#x4E0E;&#x54CD;&#x5E94;1&#xFF09;&#x6D4F;&#x89C8;&#x5668;&#x9996;&#x6B21;&#x8BBF;&#x95EE;&#x65F6;&#xFF0C;&#x8BF7;&#x6C42;&#x7684;Header&#x4E2D;&#x6CA1;&#x6709;If-Modified-Since&#x3002;2&#xFF09;&#x54CD;&#x5E94;&#x72B6;&#x6001;&#x7801;&#x4E3A;200&#xFF0C;&#x54CD;&#x5E94;&#x7684;Header&#x4E2D;&#x8FD4;&#x56DE;&#x4E86;Last-Modified&#x5E76;&#x5B8C;&#x6574;&#x5730;&#x8FD4;&#x56DE;&#x4E86;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x3002; &#x672C;&#x5730;&#x6709;&#x7F13;&#x5B58;&#xFF0C;&#x6587;&#x6863;&#x5728;&#x670D;&#x52A1;&#x5668;&#x672A;&#x4FEE;&#x6539;1&#xFF09;&#x6D4F;&#x89C8;&#x5668;&#x518D;&#x6B21;&#x8BBF;&#x95EE;&#xFF0C;&#x8BF7;&#x6C42;&#x7684;Header&#x643A;&#x5E26;&#x4E86;If-Modified-Since&#xFF0C;&#x5176;&#x503C;&#x4E3A;&#x4E0A;&#x6B21;&#x54CD;&#x5E94;&#x7684;Last-Modified&#x7684;&#x65F6;&#x95F4;&#x3002;2&#xFF09;&#x6B64;&#x6587;&#x4EF6;&#x6CA1;&#x6709;&#x4FEE;&#x6539;&#x8FC7;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x54CD;&#x5E94;&#x72B6;&#x6001;&#x7801;&#x4E3A;304&#xFF0C;&#x54CD;&#x5E94;&#x7684;Body&#x4E3A;&#x7A7A;&#x3002; &#x672C;&#x5730;&#x6709;&#x7F13;&#x5B58;&#xFF0C;&#x6587;&#x6863;&#x5728;&#x670D;&#x52A1;&#x5668;&#x6709;&#x4FEE;&#x6539;1&#xFF09;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4FEE;&#x6539;&#x6587;&#x4EF6;&#x3002;2&#xFF09;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x8BF7;&#x6C42;&#x7684;Header&#x643A;&#x5E26;If-Modified-Since&#x3002;3&#xFF09;&#x7531;&#x4E8E;&#x6587;&#x4EF6;&#x5DF2;&#x4FEE;&#x6539;&#x5E76;&#x4E14;&#x6BD4;If-Modified-Since&#x7684;&#x65F6;&#x95F4;&#x65B0;&#xFF0C;&#x56E0;&#x6B64;&#x54CD;&#x5E94;&#x72B6;&#x6001;&#x7801;&#x4E3A;200&#xFF0C;&#x8FD4;&#x56DE;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5E76;&#x5728;&#x54CD;&#x5E94;&#x7684;Header&#x4E2D;&#x8FD4;&#x56DE;&#x4E86;Last-Modified&#xFF0C;&#x5176;&#x503C;&#x4E3A;&#x6587;&#x4EF6;&#x7684;&#x6700;&#x65B0;&#x4FEE;&#x6539;&#x65F6;&#x95F4;&#x3002;","categories":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"HTTP","slug":"编程/HTTP","permalink":"http://aofeng.github.io/categories/编程/HTTP/"}],"tags":[{"name":"http","slug":"http","permalink":"http://aofeng.github.io/tags/http/"},{"name":"cache","slug":"cache","permalink":"http://aofeng.github.io/tags/cache/"},{"name":"缓存","slug":"缓存","permalink":"http://aofeng.github.io/tags/缓存/"}],"keywords":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"HTTP","slug":"编程/HTTP","permalink":"http://aofeng.github.io/categories/编程/HTTP/"}]},{"title":"Python-使用python-memcache操作Memcached","slug":"Python-使用python-memcache操作Memcached","date":"2015-04-01T12:21:49.000Z","updated":"2016-11-07T05:23:21.000Z","comments":true,"path":"2015/04/01/Python-使用python-memcache操作Memcached/","link":"","permalink":"http://aofeng.github.io/2015/04/01/Python-使用python-memcache操作Memcached/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x9884;&#x5907; &#x5B89;&#x88C5; &#x7F16;&#x7A0B; &#x9884;&#x5907; Python 2.7 Memcached 1.4.x python-memcached-1.54 &#x5B89;&#x88C5;1&#x3001;&#x4E0B;&#x8F7D;&#x6E90;&#x7801;&#x5305;&#x3002;1wget http://ftp.tummy.com/pub/python-memcached/old-releases/python-memcached-1.54.tar.gz 2&#x3001;&#x89E3;&#x538B;&#x7F29;&#x3002;1tar -zxvf python-memcached-1.54.tar.gz 3&#x3001;&#x5B89;&#x88C5;&#x3002;1python setup.py install &#x6CE8;&#xFF1A;&#x9700;&#x8981;root&#x6743;&#x9650; &#x7F16;&#x7A0B;123456789101112131415161718192021222324252627282930#coding:utf8import memcacheclass MemcachedClient(): &apos;&apos;&apos; python memcached &#x5BA2;&#x6237;&#x7AEF;&#x64CD;&#x4F5C;&#x793A;&#x4F8B; &apos;&apos;&apos; def __init__(self, hostList): self.__mc = memcache.Client(hostList); def set(self, key, value): result = self.__mc.set(&quot;name&quot;, &quot;NieYong&quot;) return result def get(self, key): name = self.__mc.get(&quot;name&quot;) return name def delete(self, key): result = self.__mc.delete(&quot;name&quot;) return resultif __name__ == &apos;__main__&apos;: mc = MemcachedClient([&quot;127.0.0.1:11511&quot;, &quot;127.0.0.1:11512&quot;]) key = &quot;name&quot; result = mc.set(key, &quot;NieYong&quot;) print &quot;set&#x7684;&#x7ED3;&#x679C;&#xFF1A;&quot;, result name = mc.get(key) print &quot;get&#x7684;&#x7ED3;&#x679C;&#xFF1A;&quot;, name result = mc.delete(key) print &quot;delete&#x7684;&#x7ED3;&#x679C;&#xFF1A;&quot;, result &#x6267;&#x884C;&#x811A;&#x672C;&#x7684;&#x7ED3;&#x679C;: set&#x7684;&#x7ED3;&#x679C;&#xFF1A; Trueget&#x7684;&#x7ED3;&#x679C;&#xFF1A; NieYongdelete&#x7684;&#x7ED3;&#x679C;&#xFF1A; 1","categories":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"Python","slug":"编程/Python","permalink":"http://aofeng.github.io/categories/编程/Python/"}],"tags":[{"name":"－python －memcached - nosql","slug":"－python-－memcached-nosql","permalink":"http://aofeng.github.io/tags/－python-－memcached-nosql/"}],"keywords":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"Python","slug":"编程/Python","permalink":"http://aofeng.github.io/categories/编程/Python/"}]},{"title":"Python - 使用Connector/Python操作MySQL","slug":"Python-使用Connector-Python操作MySQL","date":"2015-03-20T12:47:15.000Z","updated":"2016-11-07T07:38:35.000Z","comments":true,"path":"2015/03/20/Python-使用Connector-Python操作MySQL/","link":"","permalink":"http://aofeng.github.io/2015/03/20/Python-使用Connector-Python操作MySQL/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x9884;&#x5907; &#x5B89;&#x88C5; &#x7F16;&#x7801; &#x95EE;&#x9898; umask&#x5BFC;&#x81F4;&#x7684;&#x95EE;&#x9898; &#x53C2;&#x8003;&#x8D44;&#x6599; &#x9884;&#x5907; Python 2.7 Connector/Python 2.1.1 &#x5B89;&#x88C5;1&#x3001;&#x4E0B;&#x8F7D;&#x6E90;&#x7801;&#x5305;&#x3002;1wget http://dev.mysql.com/get/Downloads/Connector-Python/mysql-connector-python-2.1.1.tar.gz 2&#x3001;&#x89E3;&#x538B;&#x7F29;&#x3002;1tar -zxvf mysql-connector-python-2.1.1.tar.gz 3&#x3001;&#x5B89;&#x88C5;&#x3002;1python setup.py install &#x6CE8;&#xFF1A;&#x9700;&#x8981;root&#x6743;&#x9650; &#x7F16;&#x7801;123456789101112131415161718192021222324252627282930#coding:utf8# &#x4F7F;&#x7528; Connector/Python &#x8FDB;&#x884C;&#x67E5;&#x8BE2;&#x64CD;&#x4F5C;&#x3002;import mysql.connector# &#x521B;&#x5EFA;&#x8FDE;&#x63A5;config = { &apos;user&apos;:&apos;uzone&apos;, &apos;password&apos;:&apos;uzone&apos;, &apos;host&apos;:&apos;127.0.0.1&apos;, &apos;port&apos;:19816, &apos;database&apos;:&apos;ucgc_sdk&apos;}conn = mysql.connector.connect(**config)# &#x521B;&#x5EFA;&#x6E38;&#x6807;cur = conn.cursor()# &#x6267;&#x884C;&#x67E5;&#x8BE2;SQLsql = &quot;SELECT notice_id,notice_name,creator,ctime,modifier,mtime FROM notice&quot;cur.execute(sql)# &#x83B7;&#x53D6;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;result_set = cur.fetchall()if result_set: for row in result_set: print &quot;%d, %s, %s, %d, %s, %s&quot; % (row[0],row[1],row[2],row[3],row[4],row[5])# &#x5173;&#x95ED;&#x6E38;&#x6807;&#x548C;&#x8FDE;&#x63A5; cur.close()conn.close() &#x95EE;&#x9898;umask&#x5BFC;&#x81F4;&#x7684;&#x95EE;&#x9898;&#x6211;&#x7684;&#x5F00;&#x53D1;&#x670D;&#x52A1;&#x5668;&#x9ED8;&#x8BA4;&#x7684;umask&#x8BBE;&#x7F6E;&#x4E3A;0037&#xFF0C;&#x7ED3;&#x679C;&#x5B89;&#x88C5;&#x540E;&#xFF0C;&#x5728;root&#x7528;&#x6237;&#x4E0B;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x5730;&#x4F7F;&#x7528;mysql.connector&#x6A21;&#x5757;&#xFF0C;&#x4F46;&#x662F;&#x5207;&#x6362;&#x81F3;&#x5176;&#x4ED6;&#x7684;&#x666E;&#x901A;&#x8D26;&#x53F7;&#x65F6;&#xFF0C;&#x4F1A;&#x62A5;&#x9519;&#xFF1A;ImportError: No module named mysql.connector &#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF1A;&#x5728;&#x6267;&#x884C;python setup.py install&#x4E4B;&#x524D;&#xFF0C;&#x5148;&#x6267;&#x884C;umask 0022&#x3002; &#x53C2;&#x8003;&#x8D44;&#x6599; Installing Connector/Python from a Source Distribution Connecting to MySQL Using Connector/Python","categories":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"Python","slug":"编程/Python","permalink":"http://aofeng.github.io/categories/编程/Python/"}],"tags":[{"name":"－python －mysql","slug":"－python-－mysql","permalink":"http://aofeng.github.io/tags/－python-－mysql/"}],"keywords":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"Python","slug":"编程/Python","permalink":"http://aofeng.github.io/categories/编程/Python/"}]},{"title":"TCP/IP-三次握手和四次挥手","slug":"TCP-IP-三次握手和四次挥手","date":"2015-03-03T07:53:07.000Z","updated":"2016-11-07T08:00:14.000Z","comments":true,"path":"2015/03/03/TCP-IP-三次握手和四次挥手/","link":"","permalink":"http://aofeng.github.io/2015/03/03/TCP-IP-三次握手和四次挥手/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x4E00;&#x3001;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#xFF08;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#xFF09; &#x4E3A;&#x4EC0;&#x4E48;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#x8981;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#xFF1F; &#x4E09;&#x6B21;&#x63E1;&#x624B;&#x5B58;&#x5728;&#x7684;&#x98CE;&#x9669; &#x4E8C;&#x3001;&#x5173;&#x95ED;&#x8FDE;&#x63A5;&#xFF08;&#x56DB;&#x6B21;&#x6325;&#x624B;&#xFF09; &#x4E3A;&#x4EC0;&#x4E48;&#x5173;&#x95ED;&#x8FDE;&#x63A5;&#x8981;&#x56DB;&#x6B21;&#x6325;&#x624B;&#xFF1F; &#x4E09;&#x3001;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#x548C;&#x56DB;&#x6B21;&#x6325;&#x624B;&#x72B6;&#x6001;&#x626D;&#x8F6C; &#x5728;&#x65E5;&#x5E38;&#x5206;&#x6790;&#x548C;&#x5B9A;&#x4F4D;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x7684;&#x95EE;&#x9898;&#x65F6;&#xFF0C;&#x7ECF;&#x5E38;&#x4F1A;&#x78B0;&#x5230;&#x5404;&#x79CD;&#x5404;&#x6837;&#x7684;&#x7F51;&#x7EDC;&#x95EE;&#x9898;&#xFF0C;&#x67E5;&#x770B;&#x5E94;&#x7528;&#x76D1;&#x542C;&#x7AEF;&#x53E3;&#x4E0A;&#x8FDE;&#x63A5;&#x7684;&#x6570;&#x91CF;&#x3001;&#x5404;&#x79CD;&#x72B6;&#x6001;&#x7684;&#x8FDE;&#x63A5;&#x6570;&#x91CF;&#x5206;&#x5E03;&#x6210;&#x4E3A;&#x5E38;&#x7528;&#x7684;&#x624B;&#x6BB5;&#x4E4B;&#x4E00;&#x3002;&#x4F46;&#x4E00;&#x4E9B;&#x540C;&#x5B66;&#x770B;&#x4E0D;&#x61C2;&#x4F7F;&#x7528;netstat&#x8FC7;&#x6EE4;&#x51FA;&#x6765;&#x7684;&#x5404;&#x79CD;&#x72B6;&#x6001;&#x662F;&#x4EC0;&#x4E48;&#x542B;&#x4E49;&#x4EE5;&#x53CA;&#x5404;&#x79CD;&#x72B6;&#x6001;&#x7684;&#x8FDE;&#x63A5;&#x6570;&#x91CF;&#x5206;&#x5E03;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x4EC0;&#x4E48;&#x95EE;&#x9898;&#x3002;&#x5176;&#x5B9E;&#x53EA;&#x8981;&#x5F04;&#x61C2;&#x4E86;TCP/IP&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#xFF08;&#x5373;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#xFF09;&#x548C;&#x5173;&#x95ED;&#x8FDE;&#x63A5;&#xFF08;&#x5373;&#x56DB;&#x6B21;&#x6325;&#x624B;&#xFF09;&#xFF0C;&#x4E0A;&#x9762;&#x7684;&#x95EE;&#x9898;&#x8FCE;&#x5203;&#x800C;&#x89E3;&#x3002; &#x4E00;&#x3001;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#xFF08;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#xFF09; &#x7B2C;&#x4E00;&#x6B21;&#x63E1;&#x624B;&#xFF1A;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#x65F6;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001;SYN&#xFF08;seq=x&#xFF09;&#x5305;&#x5230;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5E76;&#x8FDB;&#x5165;SYN_SENT&#x72B6;&#x6001;&#xFF0C;&#x7B49;&#x5F85;&#x670D;&#x52A1;&#x5668;&#x7684;&#x786E;&#x8BA4;&#x3002;SYN&#xFF1A;&#x540C;&#x6B65;&#x5E8F;&#x5217;&#x7F16;&#x53F7;&#xFF08;Synchronize Sequence Numbers&#xFF09;&#x3002; &#x7B2C;&#x4E8C;&#x6B21;&#x63E1;&#x624B;&#xFF1A;&#x670D;&#x52A1;&#x5668;&#x6536;&#x5230;SYN&#x5305;&#xFF0C;&#x5FC5;&#x987B;&#x786E;&#x8BA4;&#x5BA2;&#x6237;&#x7684;SYN&#xFF08;ack=x+1&#xFF09;&#xFF0C;&#x540C;&#x65F6;&#x81EA;&#x5DF1;&#x4E5F;&#x53D1;&#x9001;&#x4E00;&#x4E2A;SYN&#x5305;&#xFF08;seq=y&#xFF09;&#xFF0C;&#x5373;&#x53D1;&#x9001;SYN+ACK&#x5305;&#xFF0C;&#x6B64;&#x65F6;&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x5165;SYN_RECV&#x72B6;&#x6001;&#xFF1B; &#x7B2C;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#xFF1A;&#x5BA2;&#x6237;&#x7AEF;&#x6536;&#x5230;SYN+ACK&#x5305;&#xFF0C;&#x5411;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;ACK(ack=y+1&#xFF09;&#x5305;&#xFF0C;&#x6B64;&#x5305;&#x53D1;&#x9001;&#x5B8C;&#x6BD5;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x5165;ESTABLISHED&#x72B6;&#x6001;&#xFF0C;&#x5B8C;&#x6210;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#x3002; &#x5B8C;&#x6210;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x5F00;&#x59CB;&#x4F20;&#x9001;&#x6570;&#x636E;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x901A;&#x8FC7;Wirkshark&#x6293;&#x5305;&#x5F97;&#x5230;&#x7684;TCP/IP&#x4E09;&#x6B21;&#x63E1;&#x624B;&#x7684;&#x6570;&#x636E;&#x5305;&#x622A;&#x56FE;&#xFF1A; &#x8BF4;&#x660E;&#xFF1A; 10.0.2.15&#x662F;&#x5EFA;&#x7ACB;&#x8BF7;&#x6C42;&#x7684;&#x53D1;&#x8D77;&#x65B9;&#xFF08;&#x5373;&#x5BA2;&#x6237;&#x7AEF;&#xFF09;&#x3002; 42.121.252.58&#x662F;&#x5EFA;&#x7ACB;&#x8BF7;&#x6C42;&#x7684;&#x63A5;&#x6536;&#x65B9;&#xFF08;&#x5373;&#x670D;&#x52A1;&#x7AEF;&#xFF09;&#x3002; &#x4E3A;&#x4EC0;&#x4E48;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#x8981;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#xFF1F;&#x76EE;&#x7684;&#xFF1A; &#x9632;&#x6B62;&#x5DF2;&#x7ECF;&#x5931;&#x6548;&#x7684;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x5230;&#x8FBE;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x521B;&#x5EFA;&#x65E0;&#x6548;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x6D6A;&#x8D39;&#x8D44;&#x6E90;&#x3002;&#x8BF4;&#x660E;&#xFF1A; &#x5F53;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x51FA;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x5728;&#x7F51;&#x7EDC;&#x4E0A;&#x7684;&#x67D0;&#x4E2A;&#x8282;&#x70B9;&#x88AB;&#x6EDE;&#x7559;&#x4E86;&#xFF08;&#x7F51;&#x7EDC;&#x4F1A;&#x5B58;&#x5728;&#x8BB8;&#x591A;&#x4E0D;&#x53EF;&#x9760;&#x7684;&#x56E0;&#x7D20;&#xFF09;&#xFF0C;&#x8FC7;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x540E;&#x7A81;&#x7136;&#x53C8;&#x5230;&#x8FBE;&#x4E86;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x8BEF;&#x4EE5;&#x4E3A;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x4E8E;&#x662F;&#x5C31;&#x4F1A;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x51FA;&#x786E;&#x8BA4;&#x5305;&#x5E76;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#x3002;&#x5B9E;&#x9645;&#x4E0A;&#x5BA2;&#x6237;&#x7AEF;&#x5F53;&#x524D;&#x5E76;&#x6CA1;&#x6709;&#x53D1;&#x51FA;&#x521B;&#x5EFA;&#x8FDE;&#x63A5;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x5C31;&#x4F1A;&#x4E22;&#x5F03;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x786E;&#x8BA4;&#x5305;&#x3002;&#x800C;&#x670D;&#x52A1;&#x7AEF;&#x5374;&#x521B;&#x5EFA;&#x4E86;&#x8FDE;&#x63A5;&#x5E76;&#x7B49;&#x5F85;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001;&#x6570;&#x636E;&#xFF0C;&#x6D6A;&#x8D39;&#x4E86;&#x76F8;&#x5173;&#x7684;&#x8D44;&#x6E90;&#x3002; &#x4E09;&#x6B21;&#x63E1;&#x624B;&#x5B58;&#x5728;&#x7684;&#x98CE;&#x9669;&#x653B;&#x51FB;&#x65B9;&#x4F2A;&#x9020;IP&#x5730;&#x5740;&#x53D1;&#x9001;&#x5927;&#x91CF;&#x7684;SYN&#x5305;&#xFF0C;&#x4F7F;&#x670D;&#x52A1;&#x7AEF;&#x53D1;&#x9001;&#x7684;SYN+ACK&#x5305;&#x5F97;&#x4E0D;&#x5230;&#x786E;&#x8BA4;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x5C06;&#x4E3A;&#x4E86;&#x7EF4;&#x62A4;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x5927;&#x7684;&#x534A;&#x8FDE;&#x63A5;&#x5217;&#x8868;&#x800C;&#x6D88;&#x8017;&#x975E;&#x5E38;&#x591A;&#x7684;&#x8D44;&#x6E90;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x5931;&#x53BB;&#x54CD;&#x5E94;&#xFF0C;&#x5373;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x53D7;&#x5230;&#x4E86;SYN Flood&#x653B;&#x51FB;&#x3002; &#x4E8C;&#x3001;&#x5173;&#x95ED;&#x8FDE;&#x63A5;&#xFF08;&#x56DB;&#x6B21;&#x6325;&#x624B;&#xFF09; &#x6CE8;&#xFF1A;&#x6325;&#x624B;&#x52A8;&#x4F5C;&#x53EF;&#x7531;&#x5BA2;&#x6237;&#x7AEF;&#x6216;&#x670D;&#x52A1;&#x5668;&#x4EFB;&#x610F;&#x4E00;&#x65B9;&#x53D1;&#x8D77;&#x3002; &#x7B2C;&#x4E00;&#x6B21;&#x6325;&#x624B;&#xFF1A;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001;FIN+ACK&#x5305;&#xFF08;&#x5E8F;&#x53F7;&#x4E3A;seq=a&#xFF0C;&#x786E;&#x8BA4;&#x5E8F;&#x53F7;ack=b&#xFF09;&#x7ED9;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x7528;&#x6765;&#x5173;&#x95ED;&#x5BA2;&#x6237;&#x7AEF;&#x5230;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x6570;&#x636E;&#x4F20;&#x9001;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x8FDB;&#x5165;FIN_WAIT_1&#x72B6;&#x6001;&#x3002; &#x7B2C;&#x4E8C;&#x6B21;&#x6325;&#x624B;&#xFF1A;&#x670D;&#x52A1;&#x7AEF;&#x6536;&#x5230;FIN+ACK&#x5305;&#x540E;&#xFF0C;&#x53D1;&#x9001;ACK&#x5305;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x8FDB;&#x884C;&#x786E;&#x8BA4;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x8FDB;&#x5165;CLOSE_WAIT&#x72B6;&#x6001;&#x3002;&#x5BA2;&#x6237;&#x7AEF;&#x6536;&#x5230;ACK&#x5305;&#x540E;&#x8FDB;&#x5165;FIN_WAIT_2&#x72B6;&#x6001;&#x3002;&#x5230;&#x8FD9;&#x91CC;&#xFF0C;&#x5173;&#x95ED;&#x4E00;&#x4E2A;&#x5355;&#x5411;&#x901A;&#x9053;&#x3002; &#x7B2C;&#x4E09;&#x6B21;&#x6325;&#x624B;&#xFF1A;&#x670D;&#x52A1;&#x7AEF;&#x53D1;&#x9001;FIN+ACK&#x5305;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x8FDB;&#x5165;LAST_ACK&#x72B6;&#x6001;&#x3002; &#x7B2C;&#x56DB;&#x6B21;&#x6325;&#x624B;&#xFF1A;&#x5BA2;&#x6237;&#x7AEF;&#x6536;&#x5230;FIN+ACK&#x5305;&#x540E;&#xFF0C;&#x53D1;&#x9001;ACK&#x5305;&#x7ED9;&#x670D;&#x52A1;&#x7AEF;&#x8FDB;&#x884C;&#x786E;&#x8BA4;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x8FDB;&#x5165;TIME_WAIT&#x72B6;&#x6001;&#xFF0C;&#x5728;&#x7B49;&#x5F85;30&#x79D2;&#xFF08;&#x53EF;&#x4FEE;&#x6539;&#xFF09;&#x540E;&#x8FDB;&#x5165;CLOSED&#x72B6;&#x6001;&#x3002;&#x670D;&#x52A1;&#x7AEF;&#x6536;&#x5230;ACK&#x5305;&#x540E;&#x8FDB;&#x5165;CLOSED&#x72B6;&#x6001;&#xFF0C;&#x5173;&#x95ED;&#x53E6;&#x4E00;&#x4E2A;&#x5355;&#x5411;&#x901A;&#x9053;&#x3002; &#x4E0B;&#x9762;&#x662F;&#x901A;&#x8FC7;Wirkshark&#x6293;&#x5305;&#x5F97;&#x5230;&#x7684;TCP/IP&#x56DB;&#x6B21;&#x6325;&#x624B;&#x7684;&#x6570;&#x636E;&#x5305;&#x622A;&#x56FE;&#xFF1A; &#x8BF4;&#x660E;&#xFF1A; 42.121.252.58&#x662F;&#x5173;&#x95ED;&#x8BF7;&#x6C42;&#x7684;&#x53D1;&#x8D77;&#x65B9;&#xFF08;&#x5373;&#x5BA2;&#x6237;&#x7AEF;&#xFF09;&#x3002; 10.0.2.15&#x662F;&#x5173;&#x95ED;&#x8BF7;&#x6C42;&#x7684;&#x63A5;&#x6536;&#x65B9;&#xFF08;&#x5373;&#x670D;&#x52A1;&#x7AEF;&#xFF09;&#x3002; &#x4E3A;&#x4EC0;&#x4E48;&#x5173;&#x95ED;&#x8FDE;&#x63A5;&#x8981;&#x56DB;&#x6B21;&#x6325;&#x624B;&#xFF1F;TCP&#x662F;&#x5168;&#x53CC;&#x5DE5;&#x901A;&#x9053;&#xFF0C;&#x4E00;&#x65B9;&#x53D1;&#x8D77;&#x5173;&#x95ED;&#x8BF7;&#x6C42;&#x53EA;&#x5173;&#x95ED;&#x4E86;&#x4E00;&#x4E2A;&#x65B9;&#x5411;&#x4E0A;&#x7684;&#x901A;&#x9053;&#xFF0C;&#x6240;&#x4EE5;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#x7684;&#x53CC;&#x65B9;&#x90FD;&#x8981;&#x53D1;&#x8D77;&#x5173;&#x95ED;&#x8BF7;&#x6C42;&#x5E76;&#x786E;&#x8BA4;&#x6765;&#x5173;&#x95ED;&#x5404;&#x81EA;&#x65B9;&#x5411;&#x4E0A;&#x7684;&#x6570;&#x636E;&#x901A;&#x9053;&#x3002; &#x4E09;&#x3001;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#x548C;&#x56DB;&#x6B21;&#x6325;&#x624B;&#x72B6;&#x6001;&#x626D;&#x8F6C;","categories":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"TCP/IP","slug":"编程/TCP-IP","permalink":"http://aofeng.github.io/categories/编程/TCP-IP/"}],"tags":[{"name":"tcp","slug":"tcp","permalink":"http://aofeng.github.io/tags/tcp/"},{"name":"ip","slug":"ip","permalink":"http://aofeng.github.io/tags/ip/"},{"name":"连接","slug":"连接","permalink":"http://aofeng.github.io/tags/连接/"}],"keywords":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"TCP/IP","slug":"编程/TCP-IP","permalink":"http://aofeng.github.io/categories/编程/TCP-IP/"}]},{"title":"在Windows中使用Putty+Xming在终端运行Linux GUI程序","slug":"在Windows中使用Putty-Xming在终端运行Linux-GUI程序","date":"2015-01-30T12:51:57.000Z","updated":"2016-11-07T08:34:29.000Z","comments":true,"path":"2015/01/30/在Windows中使用Putty-Xming在终端运行Linux-GUI程序/","link":"","permalink":"http://aofeng.github.io/2015/01/30/在Windows中使用Putty-Xming在终端运行Linux-GUI程序/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x73AF;&#x5883; &#x4E00;&#x3001;&#x5B89;&#x88C5;Xming &#x4E8C;&#x3001;&#x914D;&#x7F6E;Kitty / Putty &#x4E09;&#x3001;&#x914D;&#x7F6E;Linux&#x670D;&#x52A1;&#x5668; &#x56DB;&#x3001;&#x9A8C;&#x8BC1; FAQ 1&#x3001;&#x65E0;&#x6CD5;&#x8FDE;&#x63A5;Xming 2&#x3001;&#x65E0;&#x6CD5;&#x8F93;&#x5165;&#x4E2D;&#x6587; &#x4E4B;&#x524D;&#x5199;&#x8FC7;&#x4E00;&#x7BC7;&#x300A;&#x7528;X Window&#x5728;&#x7EC8;&#x7AEF;&#x8FD0;&#x884C;GUI&#x7A0B;&#x5E8F;&#x548C;&#x8FDC;&#x7A0B;&#x64CD;&#x4F5C;Linux&#x684C;&#x9762;&#x300B;&#xFF0C;&#x8BB2;&#x7684;&#x662F;&#x5728;Windows&#x4E0B;&#x4F7F;&#x7528;XManager&#x6765;&#x5728;&#x7EC8;&#x7AEF;&#x547D;&#x4EE4;&#x884C;&#x4E0A;&#x8FD0;&#x884C;SUSE Linux&#x4E0A;&#x7684;GUI&#x7A0B;&#x5E8F;&#xFF0C;&#x4F46;XManager&#x662F;&#x5546;&#x4E1A;&#x4ED8;&#x8D39;&#x8F6F;&#x4EF6;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x5728;&#x5546;&#x4E1A;&#x73AF;&#x5883;&#xFF08;&#x516C;&#x53F8;&#xFF09;&#x4F7F;&#x7528;&#x7834;&#x89E3;&#x7248;&#x5B58;&#x5728;&#x6CD5;&#x5F8B;&#x98CE;&#x9669;&#x3002;&#x4E00;&#x76F4;&#x4F7F;&#x7528;Kitty / Putty&#x4F5C;&#x4E3A;SSH&#x5BA2;&#x6237;&#x7AEF;&#x6765;&#x767B;&#x9646;Linux&#x670D;&#x52A1;&#x5668;&#x6267;&#x884C;&#x6307;&#x4EE4;&#xFF0C;&#x4F46;&#x6709;&#x65F6;&#x8981;&#x6267;&#x884C;&#x4E00;&#x4E9B;GUI&#x7A0B;&#x5E8F;&#x53C8;&#x5F97;&#x5207;&#x6362;&#x5C4F;&#x5E55;&#x6253;&#x5F00;Linux&#x7684;&#x56FE;&#x5F62;&#x754C;&#x9762;&#xFF0C;&#x603B;&#x662F;&#x611F;&#x89C9;&#x8FD9;&#x6837;&#x4E0D;&#x592A;&#x987A;&#x7545;&#xFF0C;&#x4E8E;&#x662F;&#x5C31;&#x60F3;&#x5230;&#x4E86;x Windows&#x8FD9;&#x4E2A;&#x5229;&#x5668;&#x3002;&#x901A;&#x8FC7;Google&#x548C;Stackflow&#x627E;&#x5230;&#x4E86;&#x4E00;&#x4E9B;&#x514D;&#x8D39;&#x7684;&#x66FF;&#x4EE3;XManager&#x7684;&#x8F6F;&#x4EF6;&#xFF0C;&#x6700;&#x540E;&#x9009;&#x62E9;Xming&#x3002; &#x73AF;&#x5883; WindowsXP (&#x5B89;&#x88C5;Xming, Putty) CentOS 6 / RedHat 6 (X11 Forward) &#x4E00;&#x3001;&#x5B89;&#x88C5;Xming1&#x3001;&#x4ECE;http://sourceforge.net/projects/xming/&#x4E0B;&#x8F7D;Xming 6.9&#x7248;&#x672C;&#x3002;2&#x3001;&#x53CC;&#x51FB;&#x201D;Xming-6-9-0-31-setup.exe&#x201D;&#x5F00;&#x59CB;&#x5B89;&#x88C5;&#x3002; &#x5B9A;&#x4E49;Xming&#x7684;&#x5B89;&#x88C5;&#x8DEF;&#x5F84;&#xFF1A; &#x8BBE;&#x7F6E;&#x662F;&#x5426;&#x5B89;&#x88C5;Putty&#x505A;&#x4E3A;SSH&#x5BA2;&#x6237;&#x7AEF;&#x3002;&#x56E0;&#x4E3A;&#x8981;&#x4E0E;&#x5DF2;&#x6709;&#x7684;Kitty / Putty&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#xFF0C;&#x6240;&#x4EE5;&#x9009;&#x62E9;&#x201D;Don&#x2019;t install an SSH client&#x201D;&#xFF1A; &#x9009;&#x62E9;&#x5173;&#x8054;.xlaunch&#x6587;&#x4EF6;&#xFF1A; &#x5982;&#x679C;&#x52FE;&#x9009;&#x201D;Launch Xming&#x201D;&#x4F1A;&#x9ED8;&#x8BA4;Display Number&#x4E3A;0&#x3002; &#x4E8C;&#x3001;&#x914D;&#x7F6E;Kitty / Putty&#x4EE5;Kitty&#x4E3A;&#x4F8B;&#xFF0C;&#x9009;&#x62E9;&#x4E00;&#x4E2A;Session&#xFF0C;&#x9009;&#x62E9;&#x83DC;&#x5355;&#x9879;&#xFF1A;Connection -&gt; SSH -&gt; X11&#xFF0C;&#x52FE;&#x9009;Enable X11 forwarding&#xFF0C;&#x7136;&#x540E;&#x5728;X display location&#x4E2D;&#x586B;&#x5165;&#x201D;127.0.0.1:0&#x201D;&#x3002; &#x4E09;&#x3001;&#x914D;&#x7F6E;Linux&#x670D;&#x52A1;&#x5668;1&#x3001;&#x4EE5;root&#x8D26;&#x53F7;&#x767B;&#x9646;&#xFF0C;&#x7F16;&#x8F91;SSH&#x670D;&#x52A1;&#x5668;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;1vi /etc/ssh/sshd_config &#x5F00;&#x542F;TCP&#x8F6C;&#x53D1;&#x548C;X11&#x8F6C;&#x53D1;&#xFF1A;12AllowTcpForwarding yesX11Forwarding yes &#x56DB;&#x3001;&#x9A8C;&#x8BC1;1&#x3001;&#x6253;&#x5F00;Kitty&#x7684;Session&#xFF0C;&#x5728;&#x7EC8;&#x7AEF;&#x767B;&#x9646;Linux&#x3002; 2&#x3001;&#x8BBE;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;DISPLAY&#x3002;12DISPLAY=192.168.56.101:0.0export DISPLAY &#x8BF4;&#x660E;&#xFF1A; 192.168.56.101&#x4E3A;Windows&#x670D;&#x52A1;&#x5668;&#x7684;IP&#x5730;&#x5740;&#x3002; 0.0&#x8868;&#x793A;Xming&#x7684;display number&#x4E3A;0&#xFF0C;&#x5982;&#x679C;display number&#x8BBE;&#x7F6E;&#x6210;&#x5176;&#x4ED6;&#x503C;&#x9700;&#x4FDD;&#x6301;&#x4E00;&#x81F4;&#x3002; 3&#x3001;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x6267;&#x884C;&#x6307;&#x4EE4;&#x542F;&#x52A8;eclipse&#xFF1A;1eclipse eclipse&#x542F;&#x8FD0;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x5728;Windows&#x7684;&#x7A97;&#x53E3;&#x4F1A;&#x663E;&#x793A;&#x5982;&#x4E0B;&#x7684;&#x754C;&#x9762;&#xFF1A; FAQ1&#x3001;&#x65E0;&#x6CD5;&#x8FDE;&#x63A5;Xming&#x5982;&#x679C;&#x5728;&#x7EC8;&#x7AEF;&#x6267;&#x884C;&#x6307;&#x4EE4;&#x542F;&#x52A8;eclipse&#x65F6;&#x62A5;&#x9519;:Xlib: connection to &#x201C;192.168.56.101:0.0&#x201D; refused by serverXlib: No protocol specified &#x8BF4;&#x660E;Xming&#x7684;&#x6743;&#x9650;&#x8BBE;&#x7F6E;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x6253;&#x5F00;Xming&#x7684;&#x65E5;&#x5FD7;&#xFF1A; &#x4F1A;&#x53D1;&#x73B0;&#x6709;&#x7C7B;&#x4F3C;client 4 rejected From ip 192.168.56.102&#x7684;&#x63D0;&#x793A;&#x4FE1;&#x606F;&#xFF1A; 2&#x3001;&#x5728;&#x684C;&#x9762;&#x4E0A;&#x6253;&#x5F00;Xming&#x7684;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#xFF0C;&#x5728;&#x76EE;&#x6807;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x52A0;&#x4E0A;-ac&#x7684;&#x53C2;&#x6570;&#xFF1A; 2&#x3001;&#x65E0;&#x6CD5;&#x8F93;&#x5165;&#x4E2D;&#x6587;1&#x3001;&#x5728;&#x542F;&#x52A8;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E4B;&#x524D;&#xFF0C;&#x5728;&#x7EC8;&#x7AEF;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;&#x6211;&#x76EE;&#x524D;&#x7528;&#x7684;&#x8F93;&#x5165;&#x6CD5;&#x662F;scim&#xFF1A;1export GTK_IM_MODULE=scim &#x5982;&#x679C;&#x7528;&#x7684;&#x8F93;&#x5165;&#x6CD5;&#x662F;gcin&#xFF0C;&#x5219;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;1export GTK_IM_MODULE=gcin 2&#x3001;&#x5728;&#x6253;&#x5F00;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x5C31;&#x53EF;&#x4EE5;&#x8F93;&#x5165;&#x4E2D;&#x6587;&#x4E86;&#xFF1A;","categories":[{"name":"操作系统","slug":"操作系统","permalink":"http://aofeng.github.io/categories/操作系统/"},{"name":"Windows","slug":"操作系统/Windows","permalink":"http://aofeng.github.io/categories/操作系统/Windows/"}],"tags":[{"name":"xwindow","slug":"xwindow","permalink":"http://aofeng.github.io/tags/xwindow/"},{"name":"xming","slug":"xming","permalink":"http://aofeng.github.io/tags/xming/"},{"name":"putty","slug":"putty","permalink":"http://aofeng.github.io/tags/putty/"},{"name":"gui","slug":"gui","permalink":"http://aofeng.github.io/tags/gui/"}],"keywords":[{"name":"操作系统","slug":"操作系统","permalink":"http://aofeng.github.io/categories/操作系统/"},{"name":"Windows","slug":"操作系统/Windows","permalink":"http://aofeng.github.io/categories/操作系统/Windows/"}]},{"title":"让KiTTY/Putty支持ZModem","slug":"让KiTTY-Putty支持ZModem","date":"2014-10-31T11:54:35.000Z","updated":"2016-11-07T08:44:08.000Z","comments":true,"path":"2014/10/31/让KiTTY-Putty支持ZModem/","link":"","permalink":"http://aofeng.github.io/2014/10/31/让KiTTY-Putty支持ZModem/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x4E00;&#x3001;&#x4E0B;&#x8F7D;LePutty&#x3002; &#x4E8C;&#x3001;&#x83B7;&#x53D6;rz.exe&#x548C;sz.exe&#x3002; &#x4E09;&#x3001;&#x914D;&#x7F6E;KiTTY SecureCRT&#x652F;&#x6301;&#x7528;sz&#x548C;rz&#x547D;&#x4EE4;&#x5728;SSH&#x4F1A;&#x8BDD;&#x4E2D;&#x4E0A;&#x4F20;&#x548C;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#xFF0C;&#x4F46;&#x5982;&#x679C;&#x7528;KiTTY&#x548C;Putty&#x7684;&#x540C;&#x5B66;&#x600E;&#x4E48;&#x529E;&#x5462;&#xFF1F;&#x5DF2;&#x7ECF;&#x6709;&#x4EBA;&#x63D0;&#x4F9B;&#x4E86;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x5728;Putty&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x65B0;&#x505A;&#x4E86;&#x4E00;&#x4E2A;LePutty&#xFF0C;&#x652F;&#x6301;ZModem&#x534F;&#x8BAE;&#xFF0C;&#x65B0;&#x7248;&#x672C;&#x7684;KiTTY&#x4E5F;&#x652F;&#x6301;ZModem&#x3002; &#x4E00;&#x3001;&#x4E0B;&#x8F7D;LePutty&#x3002;&#x8FDB;&#x5165;LePutty&#x5B98;&#x7F51;&#xFF0C;&#x70B9;&#x51FB;&#x7EA2;&#x8272;&#x65B9;&#x6846;&#x4E0B;&#x8F7D;LePutty&#x3002; &#x4E8C;&#x3001;&#x83B7;&#x53D6;rz.exe&#x548C;sz.exe&#x3002;1&#x3001;&#x6253;&#x5F00;LePutty&#x7684;&#x538B;&#x7F29;&#x5305;&#xFF0C;&#x53EF;&#x770B;&#x5230;&#x91CC;&#x9762;&#x6709;&#x4E00;&#x4E2A;win32-lrzsz-*.zip&#x7684;&#x538B;&#x7F29;&#x6587;&#x4EF6;&#x3002; 2&#x3001;&#x6253;&#x5F00;win32-lrzsz-.zip&#xFF0C;&#x53EF;&#x770B;&#x5230;&#x91CC;&#x9762;&#x6709;sz.exe&#x548C;rz.exe&#x3002; 3&#x3001;&#x5C06;sz.exe&#x548C;rz.exe&#x63D0;&#x53D6;&#x51FA;&#x6765;&#x3002; &#x4E09;&#x3001;&#x914D;&#x7F6E;KiTTY1&#x3001;&#x6253;&#x5F00;KiTTY&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF1A;%APPDATA%/KiTTY/kitty.ini&#xFF0C;&#x589E;&#x52A0;zmodem&#x652F;&#x6301;&#x3002;12[KiTTY]zmodem=yes 2&#x3001;&#x6253;&#x5F00;Session&#xFF0C;&#x627E;&#x5230;ZModem&#x9879;&#xFF0C;&#x5206;&#x522B;&#x586B;&#x5165;rz&#x548C;sz&#x547D;&#x4EE4;&#x7684;&#x5B8C;&#x6574;&#x5730;&#x5740;&#x3002; 3&#x3001;&#x6253;&#x5F00;Session&#xFF0C;&#x5728;&#x6807;&#x9898;&#x680F;&#x4E0A;&#x53F3;&#x952E;&#xFF0C;&#x6253;&#x5F00;&#x53F3;&#x952E;&#x83DC;&#x5355;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x51FA;&#x73B0;&#x4E86;&#x201D;Zmodem Receive&#x201D;&#x548C;&#x201D;Zmodem Upload&#x201D;&#x4E24;&#x4E2A;&#x83DC;&#x5355;&#x9879;&#x3002; &#xFF03; &#x56DB;&#x3001;&#x4F7F;&#x7528;ZModem&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6; 1&#x3001;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x3002;&#x8F93;&#x5165;&#x547D;&#x4EE4;sz &#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#xFF0C;&#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A;1sz ~/20150208-account.register-ucidlist.log &#x7136;&#x540E;&#x5728;KiTTY/Putty&#x7684;&#x6807;&#x9898;&#x680F;&#x53F3;&#x952E;, &#x9009;&#x62E9;Zmodem Receive &#x3002; 2&#x3001;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x3002;&#x8F93;&#x5165;&#x547D;&#x4EE4;rz&#xFF0C;&#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A;1rz &#x7136;&#x540E;&#x5728;KiTTY/Putty&#x7684;&#x6807;&#x9898;&#x680F;&#x53F3;&#x952E;, &#x9009;&#x62E9;Zmodem Upload &#x3002;","categories":[{"name":"操作系统","slug":"操作系统","permalink":"http://aofeng.github.io/categories/操作系统/"},{"name":"Windows","slug":"操作系统/Windows","permalink":"http://aofeng.github.io/categories/操作系统/Windows/"}],"tags":[{"name":"putty","slug":"putty","permalink":"http://aofeng.github.io/tags/putty/"},{"name":"kitty","slug":"kitty","permalink":"http://aofeng.github.io/tags/kitty/"},{"name":"ssh","slug":"ssh","permalink":"http://aofeng.github.io/tags/ssh/"},{"name":"zmodem","slug":"zmodem","permalink":"http://aofeng.github.io/tags/zmodem/"}],"keywords":[{"name":"操作系统","slug":"操作系统","permalink":"http://aofeng.github.io/categories/操作系统/"},{"name":"Windows","slug":"操作系统/Windows","permalink":"http://aofeng.github.io/categories/操作系统/Windows/"}]},{"title":"Linux-用less命令让man帮助手册彩色显示","slug":"Linux-用less命令让man帮助手册彩色显示","date":"2014-09-12T05:54:54.000Z","updated":"2016-11-07T08:53:14.000Z","comments":true,"path":"2014/09/12/Linux-用less命令让man帮助手册彩色显示/","link":"","permalink":"http://aofeng.github.io/2014/09/12/Linux-用less命令让man帮助手册彩色显示/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x73AF;&#x5883; | Environment &#x914D;&#x7F6E; | Steps &#x5728;Linux&#x4E2D;&#xFF0C;&#x6267;&#x884C;man &#x547D;&#x4EE4;&#x4F1A;&#x663E;&#x793A;&#x8BE5;&#x547D;&#x4EE4;&#x7684;&#x8BE6;&#x7EC6;&#x5E2E;&#x52A9;&#x4FE1;&#x606F;&#xFF0C;&#x4F46;&#x9ED8;&#x8BA4;&#x7684;&#x9ED1;&#x5E95;&#x767D;&#x5B57;&#x770B;&#x8D77;&#x6765;&#x4E0D;&#x662F;&#x5F88;&#x8212;&#x670D;&#xFF0C;&#x5C06;&#x4E0D;&#x540C;&#x7684;&#x5173;&#x952E;&#x5B57;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x989C;&#x8272;&#x663E;&#x793A;&#x6709;&#x52A9;&#x4E8E;&#x9605;&#x8BFB;&#xFF0C;&#x65B9;&#x4FBF;&#x5FEB;&#x901F;&#x5B9A;&#x4F4D;&#x6240;&#x9700;&#x5185;&#x5BB9;&#x3002; &#x73AF;&#x5883; | Environment CentOS 5.x / Redhat 5.x &#x914D;&#x7F6E; | Steps1&#x3001;&#x6253;&#x5F00;&#x7528;&#x6237;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;1vi ~/.bash_profile 2&#x3001;&#x589E;&#x52A0;&#x5982;&#x4E0B;&#x914D;&#x7F6E;&#x3002;12345678# &#x5F69;&#x8272;man pagesexport LESS_TERMCAP_mb=$&apos;\\E[01;31m&apos;export LESS_TERMCAP_md=$&apos;\\E[01;31m&apos;export LESS_TERMCAP_me=$&apos;\\E[0m&apos;export LESS_TERMCAP_se=$&apos;\\E[0m&apos;export LESS_TERMCAP_so=$&apos;\\E[01;44;33m&apos;export LESS_TERMCAP_ue=$&apos;\\E[0m&apos;export LESS_TERMCAP_us=$&apos;\\E[01;32m&apos;","categories":[{"name":"操作系统","slug":"操作系统","permalink":"http://aofeng.github.io/categories/操作系统/"},{"name":"Linux","slug":"操作系统/Linux","permalink":"http://aofeng.github.io/categories/操作系统/Linux/"}],"tags":[{"name":"linux","slug":"linux","permalink":"http://aofeng.github.io/tags/linux/"},{"name":"less","slug":"less","permalink":"http://aofeng.github.io/tags/less/"},{"name":"man","slug":"man","permalink":"http://aofeng.github.io/tags/man/"}],"keywords":[{"name":"操作系统","slug":"操作系统","permalink":"http://aofeng.github.io/categories/操作系统/"},{"name":"Linux","slug":"操作系统/Linux","permalink":"http://aofeng.github.io/categories/操作系统/Linux/"}]},{"title":"在windows上用netsh动态配置端口转发","slug":"在windows上用netsh动态配置端口转发","date":"2014-09-05T11:56:48.000Z","updated":"2016-11-07T10:59:17.000Z","comments":true,"path":"2014/09/05/在windows上用netsh动态配置端口转发/","link":"","permalink":"http://aofeng.github.io/2014/09/05/在windows上用netsh动态配置端口转发/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x65B0;&#x589E;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1; 1&#x3001;&#x547D;&#x4EE4; 2&#x3001;&#x547D;&#x4EE4;&#x8BED;&#x6CD5; 3&#x3001;&#x4F7F;&#x7528;&#x793A;&#x4F8B; &#x663E;&#x793A;&#x6240;&#x6709;&#x7684;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#x914D;&#x7F6E;&#x4FE1;&#x606F; 1&#x3001;&#x547D;&#x4EE4; 2&#x3001;&#x4F7F;&#x7528;&#x793A;&#x4F8B; &#x4FEE;&#x6539;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#x914D;&#x7F6E; 1&#x3001;&#x547D;&#x4EE4; 2&#x3001;&#x547D;&#x4EE4;&#x8BED;&#x6CD5; 3&#x3001;&#x4F7F;&#x7528;&#x793A;&#x4F8B; &#x5220;&#x9664;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#x914D;&#x7F6E; 1&#x3001;&#x547D;&#x4EE4; 2&#x3001;&#x547D;&#x4EE4;&#x8BED;&#x6CD5; 3&#x3001;&#x4F7F;&#x7528;&#x793A;&#x4F8B; &#x4F7F;&#x7528;&#x591A;&#x4E2A;&#x865A;&#x62DF;&#x673A;&#xFF0C;&#x5C06;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x548C;&#x5DE5;&#x4F5C;&#x6C9F;&#x901A;&#x73AF;&#x5883;&#x5206;&#x5F00;&#xFF08;&#x5373;&#x65F6;&#x901A;&#xFF0C;&#x529E;&#x516C;&#x7CFB;&#x7EDF;&#x90FD;&#x53EA;&#x80FD;&#x5728;windows&#x4E0B;&#x4F7F;&#x7528;&#x2026;&#xFF09;&#xFF0C;&#x5C06;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x7684;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x7ED9;&#x5916;&#x90E8;&#x8BBF;&#x95EE;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x4E3B;&#x673A;&#x4E0A;&#x901A;&#x8FC7;&#x4EE3;&#x7406;&#x914D;&#x7F6E;&#x6570;&#x636E;&#x8F6C;&#x53D1;&#x3002; VirtualBox&#x63D0;&#x4F9B;&#x4E86;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x4E3B;&#x673A;&#x4E2D;&#x7684;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#x81F3;&#x6307;&#x5B9A;IP&#x7684;&#x865A;&#x62DF;&#x673A;&#x4E2D;&#x7684;&#x7AEF;&#x53E3;&#xFF0C;&#x652F;&#x6301;TCP&#x534F;&#x8BAE;&#x548C;UDP&#x534F;&#x8BAE;&#x3002;&#x4F46;&#x6709;&#x4E00;&#x4E2A;&#x7F3A;&#x70B9;&#xFF1A;&#x9700;&#x8981;&#x91CD;&#x542F;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x624D;&#x751F;&#x6548;&#x3002; &#x5176;&#x5B9E;&#x5728;Windows&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x505A;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;Windows&#x81EA;&#x8EAB;&#x643A;&#x5E26;&#x7684;&#x670D;&#x52A1;:netsh&#xFF0C;&#x4F7F;&#x7528;netsh interface portproxy&#x6307;&#x4EE4;&#xFF0C;&#x65B0;&#x589E;&#x548C;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x540E;&#xFF0C;&#x5373;&#x65F6;&#x751F;&#x6548;&#xFF0C;&#x5E76;&#x4E14;&#x91CD;&#x542F;&#x7CFB;&#x7EDF;&#x540E;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x4ECD;&#x7136;&#x5B58;&#x5728;&#xFF0C;&#x975E;&#x5E38;&#x65B9;&#x4FBF;&#x3002;&#x9002;&#x7528;&#x4E8E;WindowsXP&#x3001;Windows7&#xFF0C;&#x5176;&#x4ED6;&#x7684;&#x7248;&#x672C;&#x8FD8;&#x6CA1;&#x6709;&#x8BD5;&#x8FC7;&#xFF0C;&#x652F;&#x6301;IPv4&#x548C;IPv6&#xFF0C;&#x4F46;&#x662F;&#x53EA;&#x652F;&#x6301;TCP&#x534F;&#x8BAE;&#x3002; &#x65B0;&#x589E;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;1&#x3001;&#x547D;&#x4EE4;netsh interface portproxy add v4tov4 - &#x6DFB;&#x52A0;&#x901A;&#x8FC7; IPv4 &#x7684; IPv4 &#x548C;&#x4EE3;&#x7406;&#x8FDE;&#x63A5;&#x5230;&#x7684;&#x4FA6;&#x542C;&#x9879;&#x76EE;&#x3002;netsh interface portproxy add v4tov6 - &#x6DFB;&#x52A0;&#x901A;&#x8FC7; IPv6 &#x7684; IPv4 &#x548C;&#x4EE3;&#x7406;&#x8FDE;&#x63A5;&#x5230;&#x7684;&#x4FA6;&#x542C;&#x9879;&#x76EE;&#x3002;netsh interface portproxy add v6tov4 - &#x6DFB;&#x52A0;&#x901A;&#x8FC7; IPv4 &#x7684; IPv6 &#x548C;&#x4EE3;&#x7406;&#x8FDE;&#x63A5;&#x5230;&#x7684;&#x4FA6;&#x542C;&#x9879;&#x76EE;&#x3002;netsh interface portproxy add v6tov6 - &#x6DFB;&#x52A0;&#x901A;&#x8FC7; IPv6 &#x7684; IPv6 &#x548C;&#x4EE3;&#x7406;&#x8FDE;&#x63A5;&#x5230;&#x7684;&#x4FA6;&#x542C;&#x9879;&#x76EE;&#x3002; 2&#x3001;&#x547D;&#x4EE4;&#x8BED;&#x6CD5;&#x4EE5;netsh interface portproxy add v4tov4&#x4E3A;&#x4F8B;&#xFF0C;&#x5176;&#x8BED;&#x6CD5;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;12345netsh interface portproxy add v4tov4 [listenport=]&lt;integer&gt;|&lt;servicename&gt; [connectaddress=]&lt;IPv4 address&gt;|&lt;hostname&gt; [[connectport=]&lt;integer&gt;|&lt;servicename&gt;] [[listenaddress=]&lt;IPv4 address&gt;|&lt;hostname&gt;] [[protocol=]tcp] &#x53C2;&#x6570;: &#x6807;&#x8BB0; &#x503C; listenport IPv4 &#x4FA6;&#x542C;&#x7AEF;&#x53E3;&#x3002; connectaddress IPv4 &#x8FDE;&#x63A5;&#x5730;&#x5740;&#x3002; connectport IPv4 &#x8FDE;&#x63A5;&#x7AEF;&#x53E3;&#x3002; listenaddress IPv4 &#x4FA6;&#x542C;&#x5730;&#x5740;&#x3002; protocol &#x4F7F;&#x7528;&#x7684;&#x534F;&#x8BAE;&#x3002;&#x73B0;&#x5728;&#x53EA;&#x652F;&#x6301; TCP&#x3002; &#x8BF4;&#x660E;: &#x6DFB;&#x52A0;&#x901A;&#x8FC7; IPv4 &#x7684; IPv4 &#x548C;&#x4EE3;&#x7406;&#x8FDE;&#x63A5;&#x5230;&#x7684;&#x4FA6;&#x542C;&#x9879;&#x76EE;&#x3002; 3&#x3001;&#x4F7F;&#x7528;&#x793A;&#x4F8B;1netsh interface portproxy add v4tov4 listenport=8080 connectaddress=192.168.56.101 connectport=8080 &#x5C06;&#x672C;&#x5730;&#x7684;8080&#x7AEF;&#x53E3;&#x7684;&#x6570;&#x636E;&#x8F6C;&#x53D1;&#x81F3;192.168.56.101&#x4E0A;&#x7684;8080&#x7AEF;&#x53E3;&#x3002; 1netsh interface portproxy add v4tov4 listenport=9090 connectaddress=192.168.56.101 connectport=9090 &#x5C06;&#x672C;&#x5730;&#x7684;9090&#x7AEF;&#x53E3;&#x7684;&#x6570;&#x636E;&#x8F6C;&#x53D1;&#x81F3;192.168.56.101&#x4E0A;&#x7684;9090&#x7AEF;&#x53E3;&#x3002; &#x663E;&#x793A;&#x6240;&#x6709;&#x7684;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#x914D;&#x7F6E;&#x4FE1;&#x606F;1&#x3001;&#x547D;&#x4EE4;netsh interface portproxy show all - &#x663E;&#x793A;&#x6240;&#x6709;&#x7AEF;&#x53E3;&#x4EE3;&#x7406;&#x53C2;&#x6570;&#x3002;netsh interface portproxy show v4tov4 - &#x663E;&#x793A; IPv4 &#x4EE3;&#x7406;&#x8FDE;&#x63A5;&#x5230;&#x53E6;&#x4E00;&#x4E2A; IPv4 &#x7AEF;&#x53E3;&#x7684;&#x53C2;&#x6570;&#x3002;netsh interface portproxy show v4tov6 - &#x663E;&#x793A; IPv4 &#x4EE3;&#x7406;&#x8FDE;&#x63A5;&#x5230; IPv6 &#x7684;&#x53C2;&#x6570;&#x3002;netsh interface portproxy show v6tov4 - &#x663E;&#x793A; IPv6 &#x4EE3;&#x7406;&#x8FDE;&#x63A5;&#x5230; IPv4 &#x7684;&#x53C2;&#x6570;&#x3002;netsh interface portproxy show v6tov6 - &#x663E;&#x793A; IPv6 &#x4EE3;&#x7406;&#x8FDE;&#x63A5;&#x5230;&#x53E6;&#x4E00;&#x4E2A; IPv6 &#x7AEF;&#x53E3;&#x7684;&#x53C2;&#x6570;&#x3002; 2&#x3001;&#x4F7F;&#x7528;&#x793A;&#x4F8B;1netsh interface portproxy show all &#x63A7;&#x5236;&#x53F0;&#x663E;&#x793A;&#x5982;&#x4E0B;&#x4FE1;&#x606F;&#xFF1A; &#x4FA6;&#x542C; ipv4 &#x8FDE;&#x63A5;&#x5230; ipv4 &#x5730;&#x5740; &#x7AEF;&#x53E3; &#x5730;&#x5740; &#x7AEF;&#x53E3; 1 8080 192.168.56.101 8080 1 9090 192.168.56.101 9080 &#x4FEE;&#x6539;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#x914D;&#x7F6E;1&#x3001;&#x547D;&#x4EE4;netsh interface portproxy set v4tov4 - &#x66F4;&#x65B0;&#x901A;&#x8FC7; IPv4 &#x7684; IPv4 &#x548C;&#x4EE3;&#x7406;&#x8FDE;&#x63A5;&#x5230;&#x7684;&#x4FA6;&#x542C;&#x9879;&#x76EE;&#x3002;netsh interface portproxy set v4tov6 - &#x66F4;&#x65B0;&#x901A;&#x8FC7; IPv6 &#x7684; IPv4 &#x548C;&#x4EE3;&#x7406;&#x8FDE;&#x63A5;&#x5230;&#x7684;&#x4FA6;&#x542C;&#x9879;&#x76EE;&#x3002;netsh interface portproxy set v6tov4 - &#x66F4;&#x65B0;&#x901A;&#x8FC7; IPv4 &#x7684; IPv6 &#x548C;&#x4EE3;&#x7406;&#x8FDE;&#x63A5;&#x5230;&#x7684;&#x4FA6;&#x542C;&#x9879;&#x76EE;&#x3002;netsh interface portproxy set v6tov6 - &#x66F4;&#x65B0;&#x901A;&#x8FC7; IPv6 &#x7684; IPv6 &#x548C;&#x4EE3;&#x7406;&#x8FDE;&#x63A5;&#x5230;&#x7684;&#x4FA6;&#x542C;&#x9879;&#x76EE;&#x3002; 2&#x3001;&#x547D;&#x4EE4;&#x8BED;&#x6CD5;&#x4EE5;netsh interface portproxy set v4tov4&#x4E3A;&#x4F8B;&#xFF0C;&#x5176;&#x8BED;&#x6CD5;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;12345netsh interface portproxy set v4tov4 [listenport=]&lt;integer&gt;|&lt;servicename&gt; [connectaddress=]&lt;IPv4 address&gt;|&lt;hostname&gt; [[connectport=]&lt;integer&gt;|&lt;servicename&gt;] [[listenaddress=]&lt;IPv4 address&gt;|&lt;hostname&gt;] [[protocol=]tcp] &#x53C2;&#x6570;: &#x6807;&#x8BB0; &#x503C; listenport IPv4 &#x4FA6;&#x542C;&#x7AEF;&#x53E3;&#x3002; connectaddress IPv4 &#x8FDE;&#x63A5;&#x5730;&#x5740;&#x3002; connectport IPv4 &#x8FDE;&#x63A5;&#x7AEF;&#x53E3;&#x3002; listenaddress IPv4 &#x4FA6;&#x542C;&#x5730;&#x5740;&#x3002; protocol &#x4F7F;&#x7528;&#x7684;&#x534F;&#x8BAE;&#x3002;&#x73B0;&#x5728;&#x53EA;&#x652F;&#x6301; TCP&#x3002; &#x8BF4;&#x660E;: &#x66F4;&#x65B0;&#x901A;&#x8FC7; IPv4 &#x7684; IPv4 &#x548C;&#x4EE3;&#x7406;&#x8FDE;&#x63A5;&#x5230;&#x7684;&#x4FA6;&#x542C;&#x9879;&#x76EE;&#x3002; 3&#x3001;&#x4F7F;&#x7528;&#x793A;&#x4F8B;1netsh interface portproxy set v4tov4 listenport=9090 connectaddress=192.168.56.101 connectport=9080 &#x5C06;&#x672C;&#x5730;9090&#x7AEF;&#x53E3;&#x6539;&#x6210;&#x8F6C;&#x53D1;&#x81F3;192.168.56.101&#x7684;9080&#x7AEF;&#x53E3;&#x4E2D;&#x3002; &#x5220;&#x9664;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#x914D;&#x7F6E;1&#x3001;&#x547D;&#x4EE4;netsh interface portproxy delete v4tov4 - &#x5220;&#x9664;&#x901A;&#x8FC7; IPv4 &#x7684; IPv4 &#x548C;&#x4EE3;&#x7406;&#x8FDE;&#x63A5;&#x5230;&#x7684;&#x4FA6;&#x542C;&#x9879;&#x76EE;&#x3002;netsh interface portproxy delete v4tov6 - &#x5220;&#x9664;&#x901A;&#x8FC7; IPv6 &#x7684; IPv4 &#x548C;&#x4EE3;&#x7406;&#x8FDE;&#x63A5;&#x5230;&#x7684;&#x4FA6;&#x542C;&#x9879;&#x76EE;&#x3002;netsh interface portproxy delete v6tov4 - &#x5220;&#x9664;&#x901A;&#x8FC7; IPv4 &#x7684; IPv6 &#x548C;&#x4EE3;&#x7406;&#x8FDE;&#x63A5;&#x5230;&#x7684;&#x4FA6;&#x542C;&#x9879;&#x76EE;&#x3002;netsh interface portproxy delete v6tov6 - &#x5220;&#x9664;&#x901A;&#x8FC7; IPv6 &#x7684; IPv6 &#x548C;&#x4EE3;&#x7406;&#x8FDE;&#x63A5;&#x5230;&#x7684;&#x4FA6;&#x542C;&#x9879;&#x76EE;&#x3002; 2&#x3001;&#x547D;&#x4EE4;&#x8BED;&#x6CD5;&#x4EE5;netsh interface portproxy delete v4tov4&#x4E3A;&#x4F8B;&#xFF0C;&#x5176;&#x8BED;&#x6CD5;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;123netsh interface portproxy delete v4tov4 [listenport=]&lt;integer&gt;|&lt;servicename&gt; [[listenaddress=]&lt;IPv4 address&gt;|&lt;hostname&gt;] [[protocol=]tcp] &#x53C2;&#x6570;: &#x6807;&#x8BB0; &#x503C; listenport &#x8981;&#x4FA6;&#x542C;&#x7684; IPv4 &#x7AEF;&#x53E3;&#x3002; listenport &#x8981;&#x4FA6;&#x542C;&#x7684; IPv4 &#x5730;&#x5740;&#x3002; protocol &#x8981;&#x4F7F;&#x7528;&#x7684;&#x534F;&#x8BAE;&#x3002;&#x5F53;&#x524D;&#x4EC5;&#x652F;&#x6301; TCP&#x3002; &#x6CE8;&#x91CA;: &#x5220;&#x9664;&#x8981;&#x4FA6;&#x542C;&#x7684; IPv4 &#x7684;&#x9879;&#x5E76;&#x901A;&#x8FC7; Ipv4 &#x4EE3;&#x7406;&#x8FDE;&#x63A5;&#x3002; 3&#x3001;&#x4F7F;&#x7528;&#x793A;&#x4F8B;12netsh interface portproxy delete v4tov4 listenport=9090` &#x5220;&#x9664;&#x672C;&#x5730;&#x7AEF;&#x53E3;9090&#x7684;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#x914D;&#x7F6E;&#x3002;","categories":[{"name":"操作系统","slug":"操作系统","permalink":"http://aofeng.github.io/categories/操作系统/"},{"name":"Windows","slug":"操作系统/Windows","permalink":"http://aofeng.github.io/categories/操作系统/Windows/"}],"tags":[{"name":"netsh","slug":"netsh","permalink":"http://aofeng.github.io/tags/netsh/"},{"name":"转发","slug":"转发","permalink":"http://aofeng.github.io/tags/转发/"},{"name":"windows","slug":"windows","permalink":"http://aofeng.github.io/tags/windows/"}],"keywords":[{"name":"操作系统","slug":"操作系统","permalink":"http://aofeng.github.io/categories/操作系统/"},{"name":"Windows","slug":"操作系统/Windows","permalink":"http://aofeng.github.io/categories/操作系统/Windows/"}]},{"title":"Redis-使用Java客户端Jedis","slug":"Redis-使用Java客户端Jedis","date":"2014-08-29T12:31:07.000Z","updated":"2016-11-07T11:46:58.000Z","comments":true,"path":"2014/08/29/Redis-使用Java客户端Jedis/","link":"","permalink":"http://aofeng.github.io/2014/08/29/Redis-使用Java客户端Jedis/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x9884;&#x5907; &#x4F7F;&#x7528;&#x5355;&#x8FDE;&#x63A5; &#x4F7F;&#x7528;&#x8FDE;&#x63A5;&#x6C60; &#x4F7F;&#x7528;&#x8FDE;&#x63A5;&#x6C60;+&#x5206;&#x5E03;&#x5F0F; &#x524D;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x300A;Redis&#x547D;&#x4EE4;&#x6307;&#x5357;&#x300B;&#x8BB2;&#x89E3;&#x4E86;&#x901A;&#x8FC7;&#x547D;&#x4EE4;&#x884C;&#x7684;&#x65B9;&#x5F0F;&#x6267;&#x884C;Key=&gt;&#x7684;&#x5B58;&#x50A8;&#x64CD;&#x4F5C;&#xFF0C;&#x5728;&#x5B9E;&#x9645;&#x7684;&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x5404;&#x79CD;&#x8BED;&#x8A00;&#x662F;&#x4F7F;&#x7528;Redis&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x5E93;&#x6765;&#x4E0E;Redis&#x4EA4;&#x4E92;&#x3002;&#x9488;&#x5BF9;Java&#x8BED;&#x8A00;&#xFF0C;Redis&#x5B98;&#x65B9;&#x63A8;&#x8350;Jedis&#x3002; Jedis&#x63D0;&#x4F9B;&#x4E86;&#x591A;&#x79CD;&#x64CD;&#x4F5C;&#x65B9;&#x5F0F;&#xFF1A;&#x5355;&#x673A;&#x5355;&#x8FDE;&#x63A5;&#x65B9;&#x5F0F;&#x3001;&#x5355;&#x673A;&#x8FDE;&#x63A5;&#x6C60;&#x65B9;&#x5F0F;&#x3001;&#x591A;&#x673A;&#x5206;&#x5E03;&#x5F0F;+&#x8FDE;&#x63A5;&#x6C60;&#x65B9;&#x5F0F;&#x3002; &#x9884;&#x5907; jedis-2.5.2 commons-pool2-2.2.jar &#x4F7F;&#x7528;&#x5355;&#x8FDE;&#x63A5;&#x6B64;&#x65B9;&#x5F0F;&#x4EC5;&#x5EFA;&#x8BAE;&#x7528;&#x4E8E;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x505A;&#x8C03;&#x8BD5;&#x7528;&#x3002;123456789101112// &#x521B;&#x5EFA;&#x8FDE;&#x63A5;String host = &quot;192.168.56.102&quot;;int port = 6379;Jedis client = new Jedis(host, port);// &#x6267;&#x884C;set&#x6307;&#x4EE4;String result = client.set(&quot;key-string&quot;, &quot;Hello, Redis!&quot;);System.out.println( String.format(&quot;set&#x6307;&#x4EE4;&#x6267;&#x884C;&#x7ED3;&#x679C;:%s&quot;, result) );// &#x6267;&#x884C;get&#x6307;&#x4EE4;String value = client.get(&quot;key-string&quot;);System.out.println( String.format(&quot;get&#x6307;&#x4EE4;&#x6267;&#x884C;&#x7ED3;&#x679C;:%s&quot;, value) ); &#x8FD0;&#x884C;&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#xFF0C;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;&#xFF1A; set&#x6307;&#x4EE4;&#x6267;&#x884C;&#x7ED3;&#x679C;:OKget&#x6307;&#x4EE4;&#x6267;&#x884C;&#x7ED3;&#x679C;:Hello, Redis! &#x4F7F;&#x7528;&#x8FDE;&#x63A5;&#x6C60;&#x6B64;&#x65B9;&#x5F0F;&#x9002;&#x7528;&#x4E8E;&#x4EC5;&#x4F7F;&#x7528;&#x5355;&#x4E2A;Redis&#x5B9E;&#x4F8B;&#x7684;&#x573A;&#x666F;&#x3002;12345678910111213141516171819202122232425262728// &#x751F;&#x6210;&#x8FDE;&#x63A5;&#x6C60;&#x914D;&#x7F6E;&#x4FE1;&#x606F;JedisPoolConfig config = new JedisPoolConfig();config.setMaxIdle(10);config.setMaxTotal(30);config.setMaxWaitMillis(3*1000);// &#x5728;&#x5E94;&#x7528;&#x521D;&#x59CB;&#x5316;&#x7684;&#x65F6;&#x5019;&#x751F;&#x6210;&#x8FDE;&#x63A5;&#x6C60;JedisPool pool = new JedisPool(config, &quot;192.168.56.102&quot;, 6379);// &#x5728;&#x4E1A;&#x52A1;&#x64CD;&#x4F5C;&#x65F6;&#xFF0C;&#x4ECE;&#x8FDE;&#x63A5;&#x6C60;&#x83B7;&#x53D6;&#x8FDE;&#x63A5;Jedis client = pool.getResource();try { // &#x6267;&#x884C;&#x6307;&#x4EE4; String result = client.set(&quot;key-string&quot;, &quot;Hello, Redis!&quot;); System.out.println( String.format(&quot;set&#x6307;&#x4EE4;&#x6267;&#x884C;&#x7ED3;&#x679C;:%s&quot;, result) ); String value = client.get(&quot;key-string&quot;); System.out.println( String.format(&quot;get&#x6307;&#x4EE4;&#x6267;&#x884C;&#x7ED3;&#x679C;:%s&quot;, value) );} catch (Exception e) { // TODO: handle exception} finally { // &#x4E1A;&#x52A1;&#x64CD;&#x4F5C;&#x5B8C;&#x6210;&#xFF0C;&#x5C06;&#x8FDE;&#x63A5;&#x8FD4;&#x56DE;&#x7ED9;&#x8FDE;&#x63A5;&#x6C60; if (null != client) { pool.returnResource(client); }} // end of try block// &#x5E94;&#x7528;&#x5173;&#x95ED;&#x65F6;&#xFF0C;&#x91CA;&#x653E;&#x8FDE;&#x63A5;&#x6C60;&#x8D44;&#x6E90;pool.destroy(); &#x8FD0;&#x884C;&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#xFF0C;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;&#xFF1A; set&#x6307;&#x4EE4;&#x6267;&#x884C;&#x7ED3;&#x679C;:OKget&#x6307;&#x4EE4;&#x6267;&#x884C;&#x7ED3;&#x679C;:Hello, Redis! &#x4F7F;&#x7528;&#x8FDE;&#x63A5;&#x6C60;+&#x5206;&#x5E03;&#x5F0F;&#x5728;&#x89C4;&#x6A21;&#x8F83;&#x5927;&#x7684;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x5F80;&#x5F80;&#x4F1A;&#x6709;&#x591A;&#x4E2A;Redis&#x5B9E;&#x4F8B;&#x505A;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x3002;&#x5E76;&#x4E14;&#x8FD8;&#x5B9E;&#x73B0;&#x4E3B;&#x4ECE;&#x5907;&#x4EFD;&#xFF0C;&#x5F53;&#x4E3B;&#x5B9E;&#x4F8B;&#x53D1;&#x751F;&#x6545;&#x969C;&#x65F6;&#xFF0C;&#x5207;&#x6362;&#x81F3;&#x4ECE;&#x5B9E;&#x4F8B;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#x3002;&#x7C7B;&#x4F3C;&#x4E8E;Memcached&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;Jedis&#x4E5F;&#x63D0;&#x4F9B;&#x4E86;&#x5BA2;&#x6237;&#x7AEF;&#x5206;&#x5E03;&#x5F0F;&#x64CD;&#x4F5C;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x91C7;&#x7528;&#x4E00;&#x81F4;&#x6027;&#x54C8;&#x5E0C;&#x7B97;&#x6CD5;&#x3002;123456789101112131415161718192021222324252627282930313233// &#x751F;&#x6210;&#x591A;&#x673A;&#x8FDE;&#x63A5;&#x4FE1;&#x606F;&#x5217;&#x8868;List&lt;JedisShardInfo&gt; shards = new ArrayList&lt;JedisShardInfo&gt;();shards.add( new JedisShardInfo(&quot;127.0.0.1&quot;, 6379) );shards.add( new JedisShardInfo(&quot;192.168.56.102&quot;, 6379) );// &#x751F;&#x6210;&#x8FDE;&#x63A5;&#x6C60;&#x914D;&#x7F6E;&#x4FE1;&#x606F;JedisPoolConfig config = new JedisPoolConfig();config.setMaxIdle(10);config.setMaxTotal(30);config.setMaxWaitMillis(3*1000);// &#x5728;&#x5E94;&#x7528;&#x521D;&#x59CB;&#x5316;&#x7684;&#x65F6;&#x5019;&#x751F;&#x6210;&#x8FDE;&#x63A5;&#x6C60;ShardedJedisPool pool = new ShardedJedisPool(config, shards);// &#x5728;&#x4E1A;&#x52A1;&#x64CD;&#x4F5C;&#x65F6;&#xFF0C;&#x4ECE;&#x8FDE;&#x63A5;&#x6C60;&#x83B7;&#x53D6;&#x8FDE;&#x63A5;ShardedJedis client = pool.getResource();try { // &#x6267;&#x884C;&#x6307;&#x4EE4; String result = client.set(&quot;key-string&quot;, &quot;Hello, Redis!&quot;); System.out.println( String.format(&quot;set&#x6307;&#x4EE4;&#x6267;&#x884C;&#x7ED3;&#x679C;:%s&quot;, result) ); String value = client.get(&quot;key-string&quot;); System.out.println( String.format(&quot;get&#x6307;&#x4EE4;&#x6267;&#x884C;&#x7ED3;&#x679C;:%s&quot;, value) );} catch (Exception e) { // TODO: handle exception} finally { // &#x4E1A;&#x52A1;&#x64CD;&#x4F5C;&#x5B8C;&#x6210;&#xFF0C;&#x5C06;&#x8FDE;&#x63A5;&#x8FD4;&#x56DE;&#x7ED9;&#x8FDE;&#x63A5;&#x6C60; if (null != client) { pool.returnResource(client); }} // end of try block// &#x5E94;&#x7528;&#x5173;&#x95ED;&#x65F6;&#xFF0C;&#x91CA;&#x653E;&#x8FDE;&#x63A5;&#x6C60;&#x8D44;&#x6E90;pool.destroy(); &#x8FD0;&#x884C;&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#xFF0C;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;&#xFF1A; set&#x6307;&#x4EE4;&#x6267;&#x884C;&#x7ED3;&#x679C;:OKget&#x6307;&#x4EE4;&#x6267;&#x884C;&#x7ED3;&#x679C;:Hello, Redis!","categories":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"Java","slug":"编程/Java","permalink":"http://aofeng.github.io/categories/编程/Java/"}],"tags":[{"name":"java","slug":"java","permalink":"http://aofeng.github.io/tags/java/"},{"name":"jedis","slug":"jedis","permalink":"http://aofeng.github.io/tags/jedis/"},{"name":"redis","slug":"redis","permalink":"http://aofeng.github.io/tags/redis/"}],"keywords":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"Java","slug":"编程/Java","permalink":"http://aofeng.github.io/categories/编程/Java/"}]},{"title":"Redis-命令指南","slug":"Redis-命令指南","date":"2014-08-22T10:36:18.000Z","updated":"2016-11-07T12:27:17.000Z","comments":true,"path":"2014/08/22/Redis-命令指南/","link":"","permalink":"http://aofeng.github.io/2014/08/22/Redis-命令指南/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x547D;&#x4EE4;&#x6982;&#x8FF0; &#x547D;&#x4EE4;&#x884C;&#x8FDE;&#x63A5;&#x65B9;&#x5F0F; &#x5B57;&#x7B26;&#x4E32;&#xFF08;String&#xFF09;&#x547D;&#x4EE4;&#x4F7F;&#x7528;&#x793A;&#x4F8B; &#x6570;&#x5B57;&#xFF08;Number&#xFF09;&#x547D;&#x4EE4;&#x4F7F;&#x7528;&#x793A;&#x4F8B; &#x96C6;&#x5408;&#xFF08;Set&#xFF09;&#x547D;&#x4EE4;&#x4F7F;&#x7528;&#x793A;&#x4F8B; &#x5217;&#x8868;&#xFF08;List&#xFF09;&#x547D;&#x4EE4;&#x4F7F;&#x7528;&#x793A;&#x4F8B; &#x53D1;&#x5E03;/&#x8BA2;&#x9605;&#xFF08;Publish/Subscribe&#xFF09;&#x547D;&#x4EE4;&#x4F7F;&#x7528;&#x793A;&#x4F8B; &#x670D;&#x52A1;&#x7BA1;&#x7406;&#xFF08;Server&#xFF09;&#x547D;&#x4EE4;&#x4F7F;&#x7528;&#x793A;&#x4F8B; 1&#x3001;&#x67E5;&#x770B;&#x8FDE;&#x63A5;&#x5230;Redis&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x4FE1;&#x606F;&#x3002; Redis&#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;BSD&#x534F;&#x8BAE;&#xFF0C;&#x5F00;&#x6E90;&#x4E14;&#x514D;&#x8D39;&#x7684;Key=&gt;Value&#x5B58;&#x50A8;&#x4EA7;&#x54C1;&#xFF08;NoSQL&#xFF09;&#xFF0C;&#x4E0E;Memcached&#x76F8;&#x6BD4;&#xFF0C;&#x529F;&#x80FD;&#x66F4;&#x52A0;&#x4E30;&#x5BCC;&#xFF1A;1&#x3001;&#x652F;&#x6301;List, Set, Hash&#x7B49;&#x96C6;&#x5408;&#x7684;&#x64CD;&#x4F5C;&#x3002;2&#x3001;&#x652F;&#x6301;&#x6570;&#x636E;&#x6301;&#x4E45;&#x5316;&#xFF08;&#x9ED8;&#x8BA4;&#x5F00;&#x542F;&#xFF09;&#x3002;3&#x3001;&#x652F;&#x6301;&#x4E8B;&#x52A1;&#x3002;4&#x3001;&#x652F;&#x6301;&#x53D1;&#x5E03;/&#x8BA2;&#x9605;&#x529F;&#x80FD;&#x3002;5&#x3001;&#x652F;&#x6301;&#x6267;&#x884C;Lua&#x811A;&#x672C;&#x3002;6&#x3001;&#x53E6;&#x5916;&#xFF0C;&#x8FD8;&#x6709;&#x4EBA;&#x628A;&#x5B83;&#x5F53;&#x4F5C;&#x961F;&#x5217;&#x4F7F;&#x7528;&#x3002;&#x5982;&#xFF1A;logstash&#x5C31;&#x9ED8;&#x8BA4;&#x628A;redis&#x5F53;&#x4F5C;&#x961F;&#x5217;&#x670D;&#x52A1;&#x5668;&#x3002; &#x547D;&#x4EE4;&#x6982;&#x8FF0;&#x6839;&#x636E;&#x547D;&#x4EE4;&#x7684;&#x4F5C;&#x7528;&#x5BF9;&#x8C61;&#xFF0C;&#x628A;&#x5B83;&#x4EEC;&#x5206;&#x7C7B;&#x6210;&#xFF1A;&#x901A;&#x7528;&#x7C7B;&#x3001;&#x5B57;&#x7B26;&#x4E32;&#x64CD;&#x4F5C;&#x7C7B;&#x3001;&#x6570;&#x5B57;&#x64CD;&#x4F5C;&#x7C7B;&#x3001;&#x96C6;&#x5408;&#x64CD;&#x4F5C;&#x7C7B;&#x3001;&#x5217;&#x8868;&#x64CD;&#x4F5C;&#x7C7B;&#x3001;&#x54C8;&#x5E0C;&#x64CD;&#x4F5C;&#x7C7B;&#x3001;&#x53D1;&#x5E03;/&#x8BA2;&#x9605;&#x64CD;&#x4F5C;&#x7C7B;&#x3001;&#x8FDE;&#x63A5;&#x64CD;&#x4F5C;&#x7C7B;&#x3001;&#x670D;&#x52A1;&#x7BA1;&#x7406;&#x7C7B;&#x3002;&#x628A;&#x5E38;&#x7528;&#x7684;Redis&#x547D;&#x4EE4;&#x5206;&#x7C7B;&#x6574;&#x7406;&#x6210;&#x601D;&#x7EF4;&#x5BFC;&#x56FE;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; &#x547D;&#x4EE4;&#x884C;&#x8FDE;&#x63A5;&#x65B9;&#x5F0F;1&#x3001;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;telnet&#x7684;&#x65B9;&#x5F0F;&#x8FDC;&#x7A0B;&#x8FDE;&#x63A5;Redis&#xFF1A;1telnet 192.168.56.102 6379 Trying 192.168.56.102&#x2026;Connected to 192.168.56.102 (192.168.56.102).Escape character is &#x2018;^]&#x2019;. 2&#x3001;&#x5982;&#x679C;&#x662F;&#x5728;Redis&#x5B89;&#x88C5;&#x7684;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x6267;&#x884C;bin&#x76EE;&#x5F55;&#x4E0B;&#x7684;redis-cli&#x5E94;&#x7528;&#xFF1A;1./redis-cli 127.0.0.1:6379&gt; &#x5B57;&#x7B26;&#x4E32;&#xFF08;String&#xFF09;&#x547D;&#x4EE4;&#x4F7F;&#x7528;&#x793A;&#x4F8B;1&#x3001;&#x5C06;&#x5B57;&#x7B26;&#x4E32;Hello, Redis!&#x5B58;&#x50A8;&#x5230;&#x6307;&#x5B9A;&#x7684;Key&#xFF08;key-hello&#xFF09;&#x3002;1set key-hello &quot;Hello, Redis!&quot; +OK 2&#x3001;&#x83B7;&#x53D6;Key&#xFF08;key-hello&#xFF09;&#x4E2D;&#x5B58;&#x50A8;&#x7684;&#x503C;&#x3002;1get key-hello $13Hello, Redis! 3&#x3001;&#x5C06;&#x5B57;&#x7B26;&#x4E32;This is an append string&#x8FFD;&#x52A0;&#x5230;Key&#xFF08;key-hello&#xFF09;&#x4E2D;&#x5B58;&#x50A8;&#x7684;&#x503C;&#x7684;&#x672B;&#x5C3E;&#x3002;1append key-hello &quot;This is an append string&quot; :37 1get key-hello $37Hello, Redis!This is an append string 4&#x3001;&#x83B7;&#x53D6;Key&#xFF08;key-hello&#xFF09;&#x4E2D;&#x5B58;&#x50A8;&#x7684;&#x503C;&#xFF08;&#x5B57;&#x7B26;&#x4E32;&#xFF09;&#x7684;&#x957F;&#x5EA6;&#x3002;1strlen key-hello :37 &#x6570;&#x5B57;&#xFF08;Number&#xFF09;&#x547D;&#x4EE4;&#x4F7F;&#x7528;&#x793A;&#x4F8B;1&#x3001;&#x5C06;&#x6574;&#x6570;1&#x5B58;&#x50A8;&#x5230;&#x6307;&#x5B9A;&#x7684;Key&#xFF08;key-int&#xFF09;&#x3002;1set key-int 1 +OK 2&#x3001;&#x5C06;Key&#xFF08;key-int&#xFF09;&#x4E2D;&#x7684;&#x503C;&#x52A0;1&#x3002;1incr key-int :2 3&#x3001;&#x5C06;Key&#xFF08;key-int&#xFF09;&#x4E2D;&#x7684;&#x503C;&#x52A0;7&#x3002;1incrby key-int 7 :9 4&#x3001;&#x5C06;Key&#xFF08;key-int&#xFF09;&#x4E2D;&#x7684;&#x503C;&#x51CF;1&#x3002;1decr key-int :8 5&#x3001;&#x5C06;Key&#xFF08;key-int&#xFF09;&#x4E2D;&#x7684;&#x503C;&#x51CF;7&#x3002;1decrby key-int 7 :1 &#x96C6;&#x5408;&#xFF08;Set&#xFF09;&#x547D;&#x4EE4;&#x4F7F;&#x7528;&#x793A;&#x4F8B;1&#x3001;&#x5C06;&#x56DB;&#x4E2A;&#x5143;&#x7D20;&#x5B58;&#x50A8;&#x5230;Key&#xFF08;key-set&#xFF09;&#x4E2D;&#x3002;1sadd key-set element-1 element2 hello redis :4 2&#x3001;&#x83B7;&#x53D6;Key&#xFF08;key-set&#xFF09;&#x4E2D;&#x5B58;&#x50A8;&#x7684;&#x5143;&#x7D20;&#x6570;&#x91CF;&#x3002;1scard key-set :4 3&#x3001;&#x83B7;&#x53D6;Key&#xFF08;key-set&#xFF09;&#x4E2D;&#x5B58;&#x50A8;&#x7684;&#x5143;&#x7D20;&#x5217;&#x8868;&#x3002;1smembers key-set *4$5hello$5redis$8element2$9element-1 4&#x3001;&#x4ECE;Key&#xFF08;key-set&#xFF09;&#x4E2D;&#x5220;&#x9664;&#x5E76;&#x83B7;&#x53D6;&#x5176;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x3002;1spop key-set $8element2 5&#x3001;&#x4ECE;Key&#xFF08;key-set&#xFF09;&#x4E2D;&#x5220;&#x9664;&#x6307;&#x5B9A;&#x7684;&#x5143;&#x7D20;&#x3002;1srem key-set hello :1 1smembers key-set *2$5redis$9element-1 &#x5217;&#x8868;&#xFF08;List&#xFF09;&#x547D;&#x4EE4;&#x4F7F;&#x7528;&#x793A;&#x4F8B;1&#x3001;&#x5C06;5&#x4E2A;&#x5143;&#x7D20;&#x5B58;&#x50A8;&#x5230;Key&#xFF08;key-list&#xFF09;&#x4E2D;&#x3002;1lpush key-list abc hello go redis &quot;this is a string&quot; :5 2&#x3001;&#x5C06;&#x7D22;&#x5F15;&#x7F16;&#x53F7;&#x4E3A;1&#x7684;&#x5143;&#x7D20;&#x66FF;&#x6362;&#x6210;&#x5B57;&#x7B26;&#x4E32;insert-1&#x3002;1lset key-list 1 insert-1 +OK 1llen key-list :5 3&#x3001;&#x4ECE;&#x961F;&#x5217;&#x5DE6;&#x8FB9;&#x51FA;&#x961F;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x3002;1lpop key-list $16this is a string 4&#x3001;&#x4ECE;&#x961F;&#x5217;&#x53F3;&#x8FB9;&#x51FA;&#x961F;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x3002;1rpop key-list $3abc 5&#x3001;&#x4ECE;&#x961F;&#x5217;&#x53F3;&#x8FB9;&#x518D;&#x51FA;&#x961F;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x3002;1rpop key-list $5hello 6&#x3001;&#x4ECE;&#x961F;&#x5217;&#x5DE6;&#x8FB9;&#x518D;&#x51FA;&#x961F;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x3002;1lpop key-list $8insert-1 &#xFF03; &#x54C8;&#x5E0C;&#xFF08;Hash&#xFF09;&#x547D;&#x4EE4;&#x4F7F;&#x7528;&#x793A;&#x4F8B; 1&#x3001;&#x5C06;1&#x4E2A;&#x5143;&#x7D20;&#x5B58;&#x50A8;&#x5230;&#x54C8;&#x5E0C;&#x5217;&#x8868;&#x4E2D;&#x3002;1hset key-hash field-1 one :1 2&#x3001;&#x5C06;4&#x4E2A;&#x5143;&#x7D20;&#x6279;&#x91CF;&#x5B58;&#x50A8;&#x5230;&#x54C8;&#x5E0C;&#x5217;&#x8868;&#x4E2D;&#x3002;1hmset key-hash field-2 two field-3 three field-4 four field-5 five +OK 3&#x3001;&#x83B7;&#x53D6;&#x54C8;&#x5E0C;&#x5217;&#x8868;&#x4E2D;&#x7684;key&#x5217;&#x8868;&#x3002;1hkeys key-hash *5$7field-1$7field-2$7field-3$7field-4$7field-5 4&#x3001;&#x83B7;&#x53D6;&#x54C8;&#x5E0C;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x503C;&#x5217;&#x8868;&#x3002;1hvals key-hash *5$3one$3two$5three$4four$4five 5&#x3001;&#x83B7;&#x53D6;&#x54C8;&#x5E0C;&#x5217;&#x8868;&#x4E2D;&#x6307;&#x5B9A;key&#x7684;&#x503C;&#x3002;1hget key-hash field-3 $5three 6&#x3001;&#x6279;&#x91CF;&#x83B7;&#x53D6;&#x54C8;&#x5E0C;&#x5217;&#x8868;&#x4E2D;&#x6307;&#x5B9A;key&#x7684;&#x503C;&#x3002;1hmget key-hash field-1 field-5 *2$3one$4five 7&#x3001;&#x83B7;&#x53D6;&#x54C8;&#x5E0C;&#x5217;&#x8868;&#x4E2D;&#x6240;&#x6709;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x3002;1hgetall key-hash *10$7field-1$3one$7field-2$3two$7field-3$5three$7field-4$4four$7field-5$4five 8&#x3001;&#x83B7;&#x53D6;&#x54C8;&#x5E0C;&#x5217;&#x8868;&#x4E2D;&#x952E;&#x503C;&#x5BF9;&#x7684;&#x6570;&#x91CF;&#x3002;1hlen key-hash :5 9&#x3001;&#x5220;&#x9664;&#x54C8;&#x5E0C;&#x5217;&#x8868;&#x4E2D;&#x6307;&#x5B9A;key&#x7684;&#x952E;&#x503C;&#x5BF9;&#x3002;1hdel key-hash field-4 field-5 :2 &#x53D1;&#x5E03;/&#x8BA2;&#x9605;&#xFF08;Publish/Subscribe&#xFF09;&#x547D;&#x4EE4;&#x4F7F;&#x7528;&#x793A;&#x4F8B;1&#x3001;&#x5728;&#x4E00;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x7528;subscribe&#x547D;&#x4EE4;&#x8BA2;&#x9605;&#x6E20;&#x9053;ch-one&#x3002;2&#x3001;&#x53E6;&#x4E00;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x7528;publish&#x547D;&#x4EE4;&#x8FDE;&#x7EED;&#x5411;&#x6E20;&#x9053;ch-one&#x53D1;&#x5E03;&#x4E86;&#x4E09;&#x6761;&#x6D88;&#x606F;&#x3002;3&#x3001;&#x8BA2;&#x9605;&#x4E86;ch-one&#x6E20;&#x9053;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x63A5;&#x6536;&#x5230;&#x4E09;&#x6761;&#x6D88;&#x606F;&#x3002; &#x53D1;&#x5E03; &#x8BA2;&#x9605; &#x670D;&#x52A1;&#x7BA1;&#x7406;&#xFF08;Server&#xFF09;&#x547D;&#x4EE4;&#x4F7F;&#x7528;&#x793A;&#x4F8B;1&#x3001;&#x67E5;&#x770B;&#x8FDE;&#x63A5;&#x5230;Redis&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x4FE1;&#x606F;&#x3002;1client list $718addr=127.0.0.1:40165 fd=6 name= age=24524 idle=24477 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=infoaddr=127.0.0.1:60394 fd=5 name= age=3410 idle=1543 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=publishaddr=127.0.0.1:53840 fd=7 name= age=1653 idle=641 flags=N db=0 sub=1 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=subscribeaddr=127.0.0.1:47668 fd=8 name= age=64 idle=0 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=32768 obl=0 oll=0 omem=0 events=r cmd=clientaddr=192.168.56.101:2992 fd=9 name= age=12 idle=8 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=get","categories":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"Java","slug":"编程/Java","permalink":"http://aofeng.github.io/categories/编程/Java/"}],"tags":[{"name":"java","slug":"java","permalink":"http://aofeng.github.io/tags/java/"},{"name":"jedis","slug":"jedis","permalink":"http://aofeng.github.io/tags/jedis/"},{"name":"redis","slug":"redis","permalink":"http://aofeng.github.io/tags/redis/"}],"keywords":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"Java","slug":"编程/Java","permalink":"http://aofeng.github.io/categories/编程/Java/"}]},{"title":"JDK HashMap源码分析","slug":"JDK-HashMap源码分析","date":"2014-08-14T12:09:19.000Z","updated":"2016-11-07T12:40:46.000Z","comments":true,"path":"2014/08/14/JDK-HashMap源码分析/","link":"","permalink":"http://aofeng.github.io/2014/08/14/JDK-HashMap源码分析/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x6570;&#x636E;&#x5B58;&#x50A8;&#x7ED3;&#x6784; &#x63D2;&#x5165;&#x6570;&#x636E;&#xFF08;put&#x65B9;&#x6CD5;&#xFF09; &#x751F;&#x6210;&#x5355;&#x5411;&#x94FE;&#x8868; &#x6269;&#x5BB9; &#x83B7;&#x53D6;&#x6570;&#x636E;&#xFF08;get&#x65B9;&#x6CD5;&#xFF09; &#x6CE8;&#x610F;&#x4E8B;&#x9879; JDK&#x63D0;&#x4F9B;&#x4E86;&#x975E;&#x5E38;&#x591A;&#x7684;&#x96C6;&#x5408;&#x7C7B;&#xFF0C;&#x4E0D;&#x4EC5;&#x4F7F;&#x7528;&#x7B80;&#x5355;&#xFF0C;&#x800C;&#x4E14;&#x529F;&#x80FD;&#x4E30;&#x5BCC;&#xFF0C;&#x53EF;&#x4EE5;&#x6EE1;&#x8DB3;&#x4F60;&#x7EDD;&#x5927;&#x90E8;&#x5206;&#x7684;&#x9700;&#x6C42;&#x3002;&#x4F46;&#x5728;&#x4F7F;&#x7528;&#x7684;&#x65F6;&#x5019;&#x5982;&#x679C;&#x4E0D;&#x4E86;&#x89E3;&#x5176;&#x5B9E;&#x73B0;&#x7684;&#x539F;&#x7406;&#xFF0C;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x78B0;&#x5230;&#x6027;&#x80FD;&#x65B9;&#x9762;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x6216;&#x8005;&#x5728;&#x4E00;&#x8D77;&#x573A;&#x666F;&#x4E0B;&#x4F1A;&#x5BFC;&#x81F4;&#x7CFB;&#x7EDF;&#x6545;&#x969C;&#x3002;&#x524D;&#x6BB5;&#x65F6;&#x95F4;Review&#x4EE3;&#x7801;&#xFF0C;&#x53D1;&#x73B0;&#x6709;&#x540C;&#x5B66;&#x5728;&#x4F7F;&#x7528;HashMap&#x65F6;&#x5B58;&#x5728;&#x4E00;&#x4E9B;&#x95EE;&#x9898;&#xFF1A;1&#x3001;&#x5728;&#x5E76;&#x53D1;&#x573A;&#x666F;&#x4E0B;&#x4F7F;&#x7528;HashMap&#x3002;2&#x3001;&#x6570;&#x636E;&#x91CF;&#x8F83;&#x5927;&#x65F6;&#xFF0C;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x7684;&#x5BB9;&#x91CF;&#x3002; &#x4E0B;&#x9762;&#x4E3B;&#x8981;&#x8BB2;&#x89E3;HashMap&#x7684;&#x5B58;&#x50A8;&#x7ED3;&#x6784;&#x3001;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x548C;&#x63D2;&#x5165;&#x6570;&#x636E;&#x7684;&#x5B9E;&#x73B0;&#x3002; &#x6570;&#x636E;&#x5B58;&#x50A8;&#x7ED3;&#x6784;&#x91C7;&#x7528;&#x53CC;&#x8868;&#x7ED3;&#x6784;&#xFF1A;&#x6570;&#x7EC4;+&#x5355;&#x5411;&#x94FE;&#x8868;&#x3002; &#x4EE3;&#x7801;&#x793A;&#x4F8B;&#xFF1A;12345678910// &#x7528;&#x4E8E;&#x5B58;&#x50A8;&#x5143;&#x7D20;&#x7684;&#x6570;&#x7EC4;transient Entry[] table;// Entry&#x7684;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x4E2D;&#x6709;&#x6307;&#x5411;&#x4E0B;&#x4E00;&#x4E2A;Entry&#x7684;&#x6307;&#x9488;&#xFF0C;&#x7528;&#x4E8E;&#x6784;&#x9020;&#x5355;&#x5411;&#x94FE;&#x8868;Entry(int h, K k, V v, Entry&lt;K,V&gt; n) { value = v; next = n; key = k; hash = h;} &#x63D2;&#x5165;&#x6570;&#x636E;&#xFF08;put&#x65B9;&#x6CD5;&#xFF09;put&#x65B9;&#x6CD5;&#x7684;&#x4EE3;&#x7801;&#x975E;&#x5E38;&#x6E05;&#x6670;&#x7B80;&#x5355;&#xFF1A;12345678910111213141516171819202122232425public V put(K key, V value) { if (key == null) return putForNullKey(value); // 1&#x3001;&#x5BF9;key&#x7684;hash&#x503C;&#x8FDB;&#x884C;&#x4E8C;&#x6B21;hash&#x8FD0;&#x7B97;&#x3002; int hash = hash(key.hashCode()); // 2&#x3001;&#x5C06;&#x4E8C;&#x6B21;hash&#x503C;&#x4E0E;&#x6570;&#x7EC4;&#x957F;&#x5EA6;&#x8FDB;&#x884C;&#x4F4D;&#x4E0E;&#x8FD0;&#x7B97;&#xFF0C;&#x5F97;&#x5230;&#x5B58;&#x50A8;&#x7684;&#x7D22;&#x5F15;&#x7F16;&#x53F7;&#x3002; int i = indexFor(hash, table.length); // 3&#x3001;&#x5982;&#x679C;&#x7D22;&#x5F15;&#x7F16;&#x53F7;&#x7684;&#x4F4D;&#x7F6E;&#x5DF2;&#x7ECF;&#x6709;&#x6570;&#x636E;&#xFF0C;&#x5386;&#x904D;&#x94FE;&#x8868;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x76F8;&#x540C;&#x7684;key&#x5B58;&#x5728;&#xFF0C;&#x7528;&#x65B0;&#x6570;&#x636E;&#x8986;&#x76D6;&#x5E76;&#x8FD4;&#x56DE;&#x65E7;&#x6570;&#x636E;&#x3002; for (Entry&lt;K,V&gt; e = table[i]; e != null; e = e.next) { Object k; if (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k))) { V oldValue = e.value; e.value = value; e.recordAccess(this); return oldValue; } } modCount++; // 4&#x3001;&#x5982;&#x679C;key&#x4E0D;&#x5B58;&#x5728;&#x5F53;&#x524D;&#x7D22;&#x5F15;&#x4F4D;&#x7F6E;&#x7684;&#x94FE;&#x8868;&#x4E2D;&#xFF0C;&#x5728;&#x5355;&#x5411;&#x94FE;&#x8868;&#x4E2D;&#x589E;&#x52A0;&#x65B0;&#x6570;&#x636E;&#x3002; addEntry(hash, key, value, i); return null;} &#x751F;&#x6210;&#x5355;&#x5411;&#x94FE;&#x8868;&#x518D;&#x6765;&#x770B;&#x770B;&#x65B0;&#x589E;&#x6570;&#x636E;&#x65F6;&#xFF08;addEntry&#x65B9;&#x6CD5;&#xFF09;&#x662F;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x7684;&#xFF1A;PS&#xFF1A;&#x65B0;&#x589E;&#x7684;&#x6570;&#x636E;&#x59CB;&#x7EC8;&#x4F4D;&#x4E8E;&#x94FE;&#x8868;&#x7684;&#x5934;&#x90E8;&#x3002;123456789void addEntry(int hash, K key, V value, int bucketIndex) { // 1&#x3001;&#x9996;&#x5148;&#x6839;&#x636E;&#x7D22;&#x5F15;&#x7F16;&#x53F7;&#x627E;&#x5230;&#x5F53;&#x524D;&#x4F4D;&#x7F6E;&#x7684;Entry&#x3002; Entry&lt;K,V&gt; e = table[bucketIndex]; // 2&#x3001;&#x7528;key&#x548C;value&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x65B0;&#x7684;Entry&#xFF0C;&#x5E76;&#x4E14;&#x5C06;&#x65B0;Entry&#x6307;&#x5411;&#x4E0B;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x7684;&#x6307;&#x9488;&#x6307;&#x5411;&#x539F;&#x6765;&#x5B58;&#x50A8;&#x5728;&#x7D22;&#x5F15;&#x7F16;&#x53F7;&#x4F4D;&#x7F6E;&#x7684;Entry&#x3002;&#x5C06;&#x65B0;&#x7684;Entry&#x5B58;&#x50A8;&#x5728;&#x7D22;&#x5F15;&#x7F16;&#x53F7;&#x7684;&#x4F4D;&#x7F6E;&#x3002; table[bucketIndex] = new Entry&lt;K,V&gt;(hash, key, value, e); if (size++ &gt;= threshold) resize(2 * table.length);} &#x6269;&#x5BB9;1&#x3001;&#x5728;&#x63D2;&#x5165;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x5B58;&#x50A8;&#x7684;&#x6570;&#x636E;&#x91CF;&#x5927;&#x4E8E;&#x6216;&#x7B49;&#x4E8E;&#x9608;&#x503C;&#xFF08;threshold&#xFF09;&#x65F6;&#xFF0C;&#x5C31;&#x4F1A;&#x6267;&#x884C;&#x6269;&#x5BB9;&#xFF08;resize&#xFF09;&#x64CD;&#x4F5C;&#x3002; &#x9608;&#x503C;=&#x5BB9;&#x91CF; x &#x9608;&#x503C;&#x7CFB;&#x6570;&#x3002; &#x5BB9;&#x91CF;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;16&#x3002; &#x9608;&#x503C;&#x7CFB;&#x6570;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;0.75&#x3002; 2&#x3001;&#x5982;&#x4F55;&#x6269;&#x5BB9;&#xFF1A;&#x6309;&#x65B0;&#x5BB9;&#x91CF;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#xFF0C;&#x5C06;&#x65E7;&#x6570;&#x636E;&#x4E2D;&#x7684;&#x65E0;&#x7D20;&#x4E00;&#x4E2A;&#x4E00;&#x4E2A;&#x5730;&#x91CD;&#x65B0;&#x8BA1;&#x7B97;&#x7D22;&#x5F15;&#x4F4D;&#x7F6E;&#x5E76;&#x5199;&#x5165;&#xFF08;&#x89C1;transfer&#x65B9;&#x6CD5;&#xFF09;&#x3002; &#x65B0;&#x5BB9;&#x91CF;=&#x65E7;&#x5BB9;&#x91CF; x 2&#x3002; 12345678910111213141516171819202122232425262728293031void resize(int newCapacity) { Entry[] oldTable = table; int oldCapacity = oldTable.length; if (oldCapacity == MAXIMUM_CAPACITY) { threshold = Integer.MAX_VALUE; return; } Entry[] newTable = new Entry[newCapacity]; transfer(newTable); table = newTable; threshold = (int)(newCapacity * loadFactor);}void transfer(Entry[] newTable) { Entry[] src = table; int newCapacity = newTable.length; for (int j = 0; j &lt; src.length; j++) { Entry&lt;K,V&gt; e = src[j]; if (e != null) { src[j] = null; do { Entry&lt;K,V&gt; next = e.next; int i = indexFor(e.hash, newCapacity); e.next = newTable[i]; newTable[i] = e; e = next; } while (e != null); } }} &#x83B7;&#x53D6;&#x6570;&#x636E;&#xFF08;get&#x65B9;&#x6CD5;&#xFF09;get&#x65B9;&#x6CD5;&#x6BD4;put&#x65B9;&#x6CD5;&#x7684;&#x4EE3;&#x7801;&#x66F4;&#x7B80;&#x5355;&#xFF1A;12345678910111213141516public V get(Object key) { if (key == null) return getForNullKey(); // 1&#x3001;&#x5BF9;key&#x7684;hash&#x503C;&#x8FDB;&#x884C;&#x4E8C;&#x6B21;hash&#x8FD0;&#x7B97;&#x3002; int hash = hash(key.hashCode()); // 2&#x3001;&#x5C06;&#x4E8C;&#x6B21;hash&#x503C;&#x4E0E;&#x6570;&#x7EC4;&#x957F;&#x5EA6;&#x8FDB;&#x884C;&#x4F4D;&#x4E0E;&#x8FD0;&#x7B97;&#xFF0C;&#x5F97;&#x5230;&#x5B58;&#x50A8;&#x7684;&#x7D22;&#x5F15;&#x7F16;&#x53F7;&#x3002;&#x5386;&#x904D;&#x7D22;&#x5F15;&#x7F16;&#x53F7;&#x6240;&#x5728;&#x4F4D;&#x7F6E;&#x7684;&#x5355;&#x5411;&#x94FE;&#x8868;&#xFF0C;&#x6839;&#x636E;key&#x83B7;&#x53D6;&#x5BF9;&#x5E94;&#x7684;&#x503C;&#x3002; for (Entry&lt;K,V&gt; e = table[indexFor(hash, table.length)]; e != null; e = e.next) { Object k; if (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k))) return e.value; } return null;} &#x6CE8;&#x610F;&#x4E8B;&#x9879;1&#x3001;&#x5982;&#x679C;&#x53EF;&#x4EE5;&#x9884;&#x4F30;&#x6570;&#x636E;&#x91CF;&#xFF0C;&#x5728;&#x521B;&#x5EFA;HashMap&#x5B9E;&#x4F8B;&#x65F6;&#xFF0C;&#x8BBE;&#x7F6E;&#x5408;&#x9002;&#x7684;&#x521D;&#x59CB;&#x5BB9;&#x91CF;&#xFF0C;&#x53EF;&#x4EE5;&#x51CF;&#x5C11;&#x6269;&#x5BB9;&#x64CD;&#x4F5C;&#xFF0C;&#x63D0;&#x5347;&#x6027;&#x80FD;&#x3002;2&#x3001;&#x5C06;&#x5BB9;&#x91CF;&#x8BBE;&#x7F6E;&#x4E3A;2&#x7684;n&#x6B21;&#x65B9;&#x6027;&#x80FD;&#x6700;&#x597D;&#xFF0C;&#x5982;&#xFF1A;16&#xFF0C;32&#x3002;&#x539F;&#x56E0;&#xFF1A;&#x548C;HashMap&#x7684;indexFor&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x6709;&#x5173;&#x3002;3&#x3001;&#x7528;&#x4F5C;Key&#x7684;&#x5BF9;&#x8C61;&#x987B;&#x5B9E;&#x73B0;equals&#x548C;hashCode&#x65B9;&#x6CD5;&#x3002;&#x5982;&#x679C;&#x7528;String&#x5BF9;&#x8C61;&#x4F5C;Key&#xFF0C;&#x5C31;&#x4E0D;&#x7528;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;equals&#x548C;hashCode&#x65B9;&#x6CD5;&#xFF0C;&#x56E0;&#x4E3A;String&#x5BF9;&#x8C61;&#x5DF2;&#x7ECF;&#x5B9E;&#x73B0;&#x3002;4&#x3001;HashMap&#x662F;&#x975E;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684;&#xFF0C;&#x5728;&#x591A;&#x7EBF;&#x7A0B;&#x5E76;&#x53D1;&#x64CD;&#x4F5C;&#x65F6;&#x4F1A;&#x51FA;&#x73B0;&#x6B7B;&#x5FAA;&#x73AF;&#x3002;&#x539F;&#x56E0;&#xFF1A;&#x6267;&#x884C;&#x6269;&#x5BB9;&#x64CD;&#x4F5C;&#x65F6;&#xFF0C;&#x5C06;&#x65E7;&#x8868;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x63D2;&#x5165;&#x65B0;&#x8868;&#x65F6;&#x6709;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x5355;&#x5411;&#x94FE;&#x8868;&#x5F62;&#x6210;&#x95ED;&#x73AF;&#x3002;","categories":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"Java","slug":"编程/Java","permalink":"http://aofeng.github.io/categories/编程/Java/"}],"tags":[{"name":"java","slug":"java","permalink":"http://aofeng.github.io/tags/java/"},{"name":"hashmap","slug":"hashmap","permalink":"http://aofeng.github.io/tags/hashmap/"},{"name":"哈希表","slug":"哈希表","permalink":"http://aofeng.github.io/tags/哈希表/"}],"keywords":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"Java","slug":"编程/Java","permalink":"http://aofeng.github.io/categories/编程/Java/"}]},{"title":"使用Precision Helper制作CHM","slug":"使用Precision-Helper制作CHM","date":"2014-08-12T11:31:28.000Z","updated":"2016-11-07T12:57:52.000Z","comments":true,"path":"2014/08/12/使用Precision-Helper制作CHM/","link":"","permalink":"http://aofeng.github.io/2014/08/12/使用Precision-Helper制作CHM/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x4E00;&#x3001;&#x65B0;&#x5EFA;&#x9879;&#x76EE; &#x4E8C;&#x3001;&#x5BFC;&#x5165;&#x6587;&#x4EF6;&#x5217;&#x8868; &#x4E09;&#x3001;&#x751F;&#x6210;&#x83DC;&#x5355; &#x56DB;&#x3001;&#x751F;&#x6210;&#x7D22;&#x5F15; &#x4E94;&#x3001;&#x8BBE;&#x7F6E;&#x9879;&#x76EE;&#x4FE1;&#x606F; &#x516D;&#x3001;&#x751F;&#x6210;CHM &#x7528;&#x722C;&#x866B;&#x4ECE;&#x7F51;&#x4E0A;&#x6293;&#x53D6;&#x4E00;&#x5806;&#x7F51;&#x9875;&#x8D44;&#x6599;&#x540E;&#xFF0C;&#x65E2;&#x4E0D;&#x65B9;&#x4FBF;&#x67E5;&#x770B;&#x548C;&#x641C;&#x7D22;&#xFF0C;&#x4E5F;&#x4E0D;&#x65B9;&#x4FBF;&#x5B58;&#x50A8;&#x548C;&#x7BA1;&#x7406;&#x3002;&#x6700;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x6CD5;&#x5C06;&#x5B83;&#x4EEC;&#x5236;&#x4F5C;&#x6210;&#x4E00;&#x4E2A;CHM&#x6587;&#x4EF6;&#xFF0C;&#x7528;CHM&#x7684;&#x4E3B;&#x9898;&#x83DC;&#x5355;&#x6765;&#x89E3;&#x51B3;&#x67E5;&#x770B;&#x548C;&#x9009;&#x62E9;&#x7AE0;&#x8282;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x7528;CHM&#x7684;&#x7D22;&#x5F15;&#x6765;&#x89E3;&#x51B3;&#x641C;&#x7D22;&#x7684;&#x95EE;&#x9898;&#x3002;&#x901A;&#x8FC7;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#xFF0C;&#x53EF;&#x4EE5;&#x627E;&#x5230;&#x8BB8;&#x591A;&#x5236;&#x4F5C;CHM&#x7684;&#x8F6F;&#x4EF6;&#xFF0C;&#x4F46;&#x8FD9;&#x91CC;&#x63A8;&#x8350;&#x4E00;&#x6B3E;&#x514D;&#x8D39;&#x7684;&#x8F6F;&#x4EF6;&#xFF1A;Precision Helper&#x3002;&#x9009;&#x62E9;&#x5B83;&#x9664;&#x4E86;&#x514D;&#x8D39;&#x5916;&#xFF0C;&#x8FD8;&#x6709;&#x5C31;&#x662F;&#x4F7F;&#x7528;&#x7B80;&#x5355;&#x3002; &#x6CE8;&#xFF1A;Precision Helper&#x751F;&#x6210;CHM&#x6587;&#x4EF6;&#x9700;&#x8981;&#x7528;&#x5230;&#x5FAE;&#x8F6F;&#x7684;Microsoft HTML Help Workshop&#x3002; &#x4E00;&#x3001;&#x65B0;&#x5EFA;&#x9879;&#x76EE;1&#x3001;&#x51C6;&#x5907;&#x7528;&#x4E8E;&#x5236;&#x4F5C;CHM&#x7684;HTML&#x6587;&#x4EF6;&#x548C;&#x56FE;&#x7247;&#x5217;&#x8868;&#x3002;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; 2&#x3001;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x7A7A;&#x767D;&#x9879;&#x76EE;&#x3002;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; 3&#x3001;&#x5728;&#x5B58;&#x653E;HTML&#x7684;&#x76EE;&#x5F55;&#x4E0B;&#x4FDD;&#x5B58;Precision Helper&#x7684;&#x9879;&#x76EE;&#x6587;&#x4EF6;&#x3002;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x4E8C;&#x3001;&#x5BFC;&#x5165;&#x6587;&#x4EF6;&#x5217;&#x8868;1&#x3001;&#x70B9;&#x51FB;&#x5DE6;&#x4E0B;&#x89D2;&#x7684;&#x201D;Included files&#x201D;&#x83DC;&#x5355;&#x9879;&#xFF0C;&#x7136;&#x540E;&#x5728;Included files&#x9762;&#x677F;&#x4E0A;&#x70B9;&#x51FB;&#x201C;Add&#x201D;&#x4E0B;&#x62C9;&#x83DC;&#x5355;&#x9009;&#x62E9;&#x8981;&#x5236;&#x4F5C;CHM&#x7684;&#x6587;&#x4EF6;&#x5217;&#x8868;&#x3002;&#x5982;&#x4E0B;&#x56FE;&#xFF1A;&#x6CE8;&#xFF1A;&#x5982;&#x679C;&#x9009;&#x62E9;&#x201C;Add files&#x201D;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x6307;&#x5B9A;&#x7684;&#x591A;&#x4E2A;HTML&#x6587;&#x4EF6;&#xFF1B;&#x5982;&#x679C;&#x9009;&#x62E9;&#x201D;Add files from folder&#x201D; &#x4F1A;&#x6DFB;&#x52A0;&#x6307;&#x5B9A;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6240;&#x6709;HTML&#x6587;&#x4EF6;&#x3002; 2&#x3001;&#x70B9;&#x51FB;&#x201D;Add files&#x201D;&#x540E;&#xFF0C;&#x5F39;&#x51FA;&#x9009;&#x62E9;&#x6587;&#x4EF6;&#x7684;&#x7A97;&#x53E3;&#x3002;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; 3&#x3001;&#x5BFC;&#x5165;&#x9009;&#x62E9;&#x7684;&#x6587;&#x4EF6;&#x5217;&#x8868;&#x540E;&#xFF0C;&#x5728;Included files&#x754C;&#x9762;&#x7684;&#x5217;&#x8868;&#x4E2D;&#x663E;&#x793A;&#x5BFC;&#x5165;&#x7684;&#x6587;&#x4EF6;&#x4FE1;&#x606F;&#x3002;&#x5982;&#x4E0B;&#x56FE;&#xFF1A;&#x6CE8;&#xFF1A;&#x53EF;&#x4EE5;&#x591A;&#x6B21;&#x64CD;&#x4F5C;&#x52A0;&#x5165;&#x66F4;&#x591A;&#x7684;&#x6587;&#x4EF6;&#x3002; &#x4E09;&#x3001;&#x751F;&#x6210;&#x83DC;&#x5355;1&#x3001;&#x9009;&#x62E9;&#x201C;Tools&#x201D;&#x83DC;&#x5355;&#xFF0C;&#x70B9;&#x51FB;&#x201C;Auto add topics&#x201D;&#x5B50;&#x83DC;&#x5355;&#xFF0C;&#x5F39;&#x51FA;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#x7684;&#x7A97;&#x53E3;&#xFF0C;&#x9ED8;&#x8BA4;&#x9009;&#x62E9;&#x201C;Topics of project include files&#x201D;&#x3002; 2&#x3001;&#x70B9;&#x51FB;&#x201D;Next&#x201D;&#x6309;&#x94AE;&#x751F;&#x6210;&#x83DC;&#x5355;&#x3002;&#x5982;&#x4E0B;&#x56FE;&#xFF1A;&#x6CE8;&#xFF1A;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x201D;Table of contents&#x201D;&#x5217;&#x8868;&#x7684;&#x5411;&#x4E0A;&#xFF0C;&#x5411;&#x4E0B;&#x6309;&#x94AE;&#x8C03;&#x6574;&#x5404;&#x4E2A;&#x83DC;&#x5355;&#x9879;&#x7684;&#x987A;&#x5E8F;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x91CD;&#x547D;&#x540D;&#x83DC;&#x5355;&#x9879;&#x7684;&#x540D;&#x5B57;&#x3002; &#x56DB;&#x3001;&#x751F;&#x6210;&#x7D22;&#x5F15;1&#x3001;&#x9009;&#x62E9;&#x201C;Tools&#x201D;&#x83DC;&#x5355;&#xFF0C;&#x70B9;&#x51FB;&#x201C;Auto add keywords&#x201D;&#x5B50;&#x83DC;&#x5355;&#xFF0C;&#x5F39;&#x51FA;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#x7684;&#x7A97;&#x53E3;&#xFF0C;&#x9ED8;&#x8BA4;&#x9009;&#x62E9;&#x201C;Topics of current table of contents&#x201D;&#x3002; &#x70B9;&#x51FB;&#x201D;Next&#x201D;&#x6309;&#x94AE;&#x751F;&#x6210;&#x7D22;&#x5F15;&#x3002;&#x540C;&#x6837;&#xFF0C;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x7D22;&#x5F15;&#x7684;&#x5173;&#x952E;&#x5B57;&#x3002; &#x4E94;&#x3001;&#x8BBE;&#x7F6E;&#x9879;&#x76EE;&#x4FE1;&#x606F;1&#x3001;&#x5207;&#x6362;&#x5230;&#x201C;Project properties&#x201D;&#x9762;&#x677F;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;Contents file&#x548C;Index file&#x5DF2;&#x7ECF;&#x81EA;&#x52A8;&#x586B;&#x5165;&#x4E86;&#x5185;&#x5BB9;&#x3002;&#x70B9;&#x51FB;&#x201D;Default topic&#x201D;&#x540E;&#x9762;&#x7684;&#x6309;&#x94AE;&#x6765;&#x9009;&#x62E9;&#x4E3B;&#x9875;&#xFF0C;&#x70B9;&#x51FB;&#x201D;Compiled help file&#x201D;&#x540E;&#x9762;&#x7684;&#x6309;&#x94AE;&#x6765;&#x9009;&#x62E9;&#x4FDD;&#x5B58;CHM&#x7684;&#x4F4D;&#x7F6E;&#x548C;&#x6587;&#x4EF6;&#x540D;&#x3002;&#x6CE8;&#xFF1A;&#x8FD8;&#x53EF;&#x4EE5;&#x5728;Language and font&#x533A;&#x57DF;&#x8BBE;&#x7F6E;&#x8BED;&#x8A00;&#x548C;&#x5B57;&#x7B26;&#x96C6;&#x3002; 2&#x3001;&#x8BBE;&#x7F6E;CHM&#x6587;&#x4EF6;&#x7684;&#x6807;&#x9898;&#x3002;&#x5728;&#x754C;&#x9762;&#x7684;&#x6700;&#x53F3;&#x8FB9;&#x6709;&#x56DB;&#x4E2A;&#x83DC;&#x5355;&#x9879;&#xFF0C;&#x70B9;&#x51FB;&#x201D;Object Inspector&#x201D;&#xFF0C;&#x5728;Current project&#x540E;&#x9762;&#x7684;&#x8F93;&#x5165;&#x6846;&#x4E2D;&#x8F93;&#x5165;&#x6807;&#x9898;&#x3002;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x516D;&#x3001;&#x751F;&#x6210;CHM1&#x3001;&#x9009;&#x62E9;&#x201C;Publishing&#x201D;&#x83DC;&#x5355;&#xFF0C;&#x70B9;&#x51FB;&#x201C;Compile&#x201D;&#x5B50;&#x83DC;&#x5355;&#xFF0C;&#x751F;&#x6210;CHM&#x6587;&#x4EF6;&#x3002;&#x5982;&#x4E0B;&#x56FE;&#xFF1A;&#x6CE8;&#xFF1A;&#x70B9;&#x51FB;&#x201D;Run&#x201D;&#x5B50;&#x83DC;&#x5355;&#x5728;&#x751F;&#x6210;CHM&#x6587;&#x4EF6;&#x540E;&#x4F1A;&#x81EA;&#x52A8;&#x6253;&#x5F00;&#x751F;&#x6210;&#x7684;CHM&#x6587;&#x4EF6;&#x3002; 2&#x3001;&#x6253;&#x5F00;&#x751F;&#x6210;&#x7684;CHM&#xFF0C;&#x6548;&#x679C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A;","categories":[{"name":"大众软件","slug":"大众软件","permalink":"http://aofeng.github.io/categories/大众软件/"},{"name":"CHM","slug":"大众软件/CHM","permalink":"http://aofeng.github.io/categories/大众软件/CHM/"}],"tags":[{"name":"chm","slug":"chm","permalink":"http://aofeng.github.io/tags/chm/"},{"name":"precisionhelper","slug":"precisionhelper","permalink":"http://aofeng.github.io/tags/precisionhelper/"},{"name":"电子书","slug":"电子书","permalink":"http://aofeng.github.io/tags/电子书/"}],"keywords":[{"name":"大众软件","slug":"大众软件","permalink":"http://aofeng.github.io/categories/大众软件/"},{"name":"CHM","slug":"大众软件/CHM","permalink":"http://aofeng.github.io/categories/大众软件/CHM/"}]},{"title":"Apache Commons Pool2 源码分析","slug":"Apache-Commons-Pool2-源码分析","date":"2014-08-06T11:59:27.000Z","updated":"2016-11-07T13:19:09.000Z","comments":true,"path":"2014/08/06/Apache-Commons-Pool2-源码分析/","link":"","permalink":"http://aofeng.github.io/2014/08/06/Apache-Commons-Pool2-源码分析/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; PooledObject&#xFF08;&#x6C60;&#x5BF9;&#x8C61;&#xFF09; PooledObjectFactory&#xFF08;&#x6C60;&#x5BF9;&#x8C61;&#x5DE5;&#x5382;&#xFF09; Object Pool &#xFF08;&#x5BF9;&#x8C61;&#x6C60;&#xFF09; BorrowObject &#xFF08;&#x501F;&#x51FA;&#x5BF9;&#x8C61;&#xFF09; ReturnObject &#xFF08;&#x8FD4;&#x8FD8;&#x5BF9;&#x8C61;&#xFF09; &#x53C2;&#x8003;&#x8D44;&#x6599; Apache Commons Pool&#x5B9E;&#x73B0;&#x4E86;&#x5BF9;&#x8C61;&#x6C60;&#x7684;&#x529F;&#x80FD;&#x3002;&#x5B9A;&#x4E49;&#x4E86;&#x5BF9;&#x8C61;&#x7684;&#x751F;&#x6210;&#x3001;&#x9500;&#x6BC1;&#x3001;&#x6FC0;&#x6D3B;&#x3001;&#x949D;&#x5316;&#x7B49;&#x64CD;&#x4F5C;&#x53CA;&#x5176;&#x72B6;&#x6001;&#x8F6C;&#x6362;&#xFF0C;&#x5E76;&#x63D0;&#x4F9B;&#x51E0;&#x4E2A;&#x9ED8;&#x8BA4;&#x7684;&#x5BF9;&#x8C61;&#x6C60;&#x5B9E;&#x73B0;&#x3002;&#x5728;&#x8BB2;&#x8FF0;&#x5176;&#x5B9E;&#x73B0;&#x539F;&#x7406;&#x524D;&#xFF0C;&#x5148;&#x63D0;&#x4E00;&#x4E0B;&#x5176;&#x4E2D;&#x6709;&#x51E0;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x5BF9;&#x8C61;&#xFF1A; PooledObject&#xFF08;&#x6C60;&#x5BF9;&#x8C61;&#xFF09;&#x3002; PooledObjectFactory&#xFF08;&#x6C60;&#x5BF9;&#x8C61;&#x5DE5;&#x5382;&#xFF09;&#x3002; Object Pool&#xFF08;&#x5BF9;&#x8C61;&#x6C60;&#xFF09;&#x3002; &#x4E0B;&#x9762;&#x5206;&#x522B;&#x8BE6;&#x7EC6;&#x8BB2;&#x89E3;&#x5B83;&#x4EEC;&#x7684;&#x5B9E;&#x73B0;&#x3002; PooledObject&#xFF08;&#x6C60;&#x5BF9;&#x8C61;&#xFF09;&#x7528;&#x4E8E;&#x5C01;&#x88C5;&#x5BF9;&#x8C61;&#xFF08;&#x5982;&#xFF1A;&#x7EBF;&#x7A0B;&#x3001;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x3001;TCP&#x8FDE;&#x63A5;&#xFF09;&#xFF0C;&#x5C06;&#x5176;&#x5305;&#x88F9;&#x6210;&#x53EF;&#x88AB;&#x6C60;&#x7BA1;&#x7406;&#x7684;&#x5BF9;&#x8C61;&#x3002;&#x63D0;&#x4F9B;&#x4E86;&#x4E24;&#x4E2A;&#x9ED8;&#x8BA4;&#x7684;&#x6C60;&#x5BF9;&#x8C61;&#x5B9E;&#x73B0;&#xFF1A; DefaultPoolObject&#x3002;&#x7528;&#x4E8E;&#x975E;&#x8F6F;&#x5F15;&#x7528;&#x7684;&#x666E;&#x901A;&#x5BF9;&#x8C61;&#x3002; PooledSoftReference&#x3002;&#x7528;&#x4E8E;&#x8F6F;&#x5F15;&#x7528;&#x7684;&#x5BF9;&#x8C61;&#x3002; &#x5728;&#x5F00;&#x53D1;&#x8FDE;&#x63A5;&#x6C60;&#x3001;&#x7EBF;&#x7A0B;&#x6C60;&#x7B49;&#x7EC4;&#x4EF6;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x6839;&#x636E;&#x5B9E;&#x9645;&#x60C5;&#x51B5;&#x91CD;&#x8F7D;5&#x4E2A;&#x65B9;&#x6CD5;&#xFF1A;startEvictionTest&#x3001;endEvictionTest&#x3001;allocate&#x3001;deallocate&#x548C;invalidate&#xFF0C;&#x7528;&#x4E8E;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x573A;&#x666F;&#x4E0B;&#x4FEE;&#x6539;&#x88AB;&#x5305;&#x88F9;&#x5BF9;&#x8C61;&#x7684;&#x5185;&#x90E8;&#x72B6;&#x6001;&#x3002; PooledObject&#x6709;&#x591A;&#x79CD;&#x72B6;&#x6001;&#xFF0C;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x73AF;&#x8282;&#x6216;&#x7ECF;&#x8FC7;&#x5904;&#x7406;&#x540E;&#x72B6;&#x6001;&#x4F1A;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x3002; &#x72B6;&#x6001; &#x63CF;&#x8FF0; IDLE &#x4F4D;&#x4E8E;&#x961F;&#x5217;&#x4E2D;&#xFF0C;&#x672A;&#x4F7F;&#x7528; ALLOCATED &#x5728;&#x4F7F;&#x7528; EVICTION &#x4F4D;&#x4E8E;&#x961F;&#x5217;&#x4E2D;&#xFF0C;&#x5F53;&#x524D;&#x6B63;&#x5728;&#x6D4B;&#x8BD5;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x88AB;&#x56DE;&#x6536; EVICTION_RETURN_TO_HEAD &#x4E0D;&#x5728;&#x961F;&#x5217;&#x4E2D;&#xFF0C;&#x5F53;&#x524D;&#x6B63;&#x5728;&#x6D4B;&#x8BD5;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x88AB;&#x56DE;&#x6536;&#x3002;&#x4ECE;&#x6C60;&#x4E2D;&#x501F;&#x51FA;&#x5BF9;&#x8C61;&#x65F6;&#x9700;&#x8981;&#x4ECE;&#x961F;&#x5217;&#x51FA;&#x79FB;&#x9664;&#x5E76;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5; VALIDATION &#x4F4D;&#x4E8E;&#x961F;&#x5217;&#x4E2D;&#xFF0C;&#x5F53;&#x524D;&#x6B63;&#x5728;&#x9A8C;&#x8BC1; VALIDATION_PREALLOCATION &#x4E0D;&#x5728;&#x961F;&#x5217;&#x4E2D;&#xFF0C;&#x5F53;&#x524D;&#x6B63;&#x5728;&#x9A8C;&#x8BC1;&#x3002;&#x5F53;&#x5BF9;&#x8C61;&#x4ECE;&#x6C60;&#x4E2D;&#x88AB;&#x501F;&#x51FA;&#xFF0C;&#x5728;&#x914D;&#x7F6E;&#x4E86;testOnBorrow&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5BF9;&#x50CF;&#x4ECE;&#x961F;&#x5217;&#x79FB;&#x9664;&#x548C;&#x8FDB;&#x884C;&#x9884;&#x5206;&#x914D;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1; VALIDATION_RETURN_TO_HEAD &#x4E0D;&#x5728;&#x961F;&#x5217;&#x4E2D;&#xFF0C;&#x6B63;&#x5728;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;&#x3002;&#x4ECE;&#x6C60;&#x4E2D;&#x501F;&#x51FA;&#x5BF9;&#x8C61;&#x65F6;&#xFF0C;&#x4ECE;&#x961F;&#x5217;&#x79FB;&#x9664;&#x5BF9;&#x8C61;&#x65F6;&#x4F1A;&#x5148;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x3002;&#x8FD4;&#x56DE;&#x5230;&#x961F;&#x5217;&#x5934;&#x90E8;&#x7684;&#x65F6;&#x5019;&#x5E94;&#x8BE5;&#x505A;&#x4E00;&#x6B21;&#x5B8C;&#x6574;&#x7684;&#x9A8C;&#x8BC1; INVALID &#x56DE;&#x6536;&#x6216;&#x9A8C;&#x8BC1;&#x5931;&#x8D25;&#xFF0C;&#x5C06;&#x9500;&#x6BC1; ABANDONED &#x5373;&#x5C06;&#x65E0;&#x6548; RETURN &#x8FD4;&#x8FD8;&#x5230;&#x6C60;&#x4E2D; &#x6839;&#x636E;Apache Commons Pool2&#x7684;&#x9ED8;&#x8BA4;&#x5B9E;&#x73B0;&#xFF0C;&#x5176;&#x72B6;&#x6001;&#x53D8;&#x5316;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; PooledObjectFactory&#xFF08;&#x6C60;&#x5BF9;&#x8C61;&#x5DE5;&#x5382;&#xFF09;&#x5B9A;&#x4E49;&#x4E86;&#x64CD;&#x4F5C;PooledObject&#x5B9E;&#x4F8B;&#x751F;&#x547D;&#x5468;&#x671F;&#x7684;&#x4E00;&#x4E9B;&#x65B9;&#x6CD5;&#xFF0C;PooledObjectFactory&#x5FC5;&#x987B;&#x5B9E;&#x73B0;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x3002;&#x5DF2;&#x7ECF;&#x6709;&#x4E24;&#x4E2A;&#x62BD;&#x8C61;&#x5DE5;&#x5382;&#xFF1A; BasePooledObjectFactory&#x3002; BaseKeyedPooledObjectFactory&#x3002; &#x76F4;&#x63A5;&#x7EE7;&#x627F;&#x5B83;&#x4EEC;&#x5B9E;&#x73B0;&#x81EA;&#x5DF1;&#x7684;&#x6C60;&#x5BF9;&#x8C61;&#x5DE5;&#x5382;&#x3002; &#x65B9;&#x6CD5; &#x63CF;&#x8FF0; makeObject &#x7528;&#x4E8E;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x65B0;&#x7684;ObjectPool&#x5B9E;&#x4F8B; activateObject &#x6BCF;&#x4E00;&#x4E2A;&#x949D;&#x5316;&#xFF08;passivated&#xFF09;&#x7684;ObjectPool&#x5B9E;&#x4F8B;&#x4ECE;&#x6C60;&#x4E2D;&#x501F;&#x51FA;&#xFF08;borrowed&#xFF09;&#x524D;&#x8C03;&#x7528; validateObject &#x53EF;&#x80FD;&#x7528;&#x4E8E;&#x4ECE;&#x6C60;&#x4E2D;&#x501F;&#x51FA;&#x5BF9;&#x8C61;&#x65F6;&#xFF0C;&#x5BF9;&#x5904;&#x4E8E;&#x6FC0;&#x6D3B;&#xFF08;activated&#xFF09;&#x72B6;&#x6001;&#x7684;ObjectPool&#x5B9E;&#x4F8B;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x786E;&#x4FDD;&#x5B83;&#x662F;&#x6709;&#x6548;&#x7684;&#x3002;&#x4E5F;&#x6709;&#x53EF;&#x80FD;&#x5728;ObjectPool&#x5B9E;&#x4F8B;&#x8FD4;&#x8FD8;&#x6C60;&#x4E2D;&#x8FDB;&#x884C;&#x949D;&#x5316;&#x524D;&#x8C03;&#x7528;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x662F;&#x5426;&#x6709;&#x6548;&#x3002;&#x5B83;&#x53EA;&#x5BF9;&#x5904;&#x4E8E;&#x6FC0;&#x6D3B;&#x72B6;&#x6001;&#x7684;&#x5B9E;&#x4F8B;&#x8C03;&#x7528; passivateObject &#x5F53;ObjectPool&#x5B9E;&#x4F8B;&#x8FD4;&#x8FD8;&#x6C60;&#x4E2D;&#x7684;&#x65F6;&#x5019;&#x8C03;&#x7528; destroyObject &#x5F53;ObjectPool&#x5B9E;&#x4F8B;&#x4ECE;&#x6C60;&#x4E2D;&#x88AB;&#x6E05;&#x7406;&#x51FA;&#x53BB;&#x4E22;&#x5F03;&#x7684;&#x65F6;&#x5019;&#x8C03;&#x7528;&#xFF08;&#x662F;&#x5426;&#x6839;&#x636E;validateObject&#x7684;&#x6D4B;&#x8BD5;&#x7ED3;&#x679C;&#x7531;&#x5177;&#x4F53;&#x7684;&#x5B9E;&#x73B0;&#x5728;&#x800C;&#x5B9A;&#xFF09; Object Pool &#xFF08;&#x5BF9;&#x8C61;&#x6C60;&#xFF09;Object Pool&#x8D1F;&#x8D23;&#x7BA1;&#x7406;PooledObject&#xFF0C;&#x5982;&#xFF1A;&#x501F;&#x51FA;&#x5BF9;&#x8C61;&#xFF0C;&#x8FD4;&#x56DE;&#x5BF9;&#x8C61;&#xFF0C;&#x6821;&#x9A8C;&#x5BF9;&#x8C61;&#xFF0C;&#x6709;&#x591A;&#x5C11;&#x6FC0;&#x6D3B;&#x5BF9;&#x8C61;&#xFF0C;&#x6709;&#x591A;&#x5C11;&#x7A7A;&#x95F2;&#x5BF9;&#x8C61;&#x3002;&#x6709;&#x4E09;&#x4E2A;&#x9ED8;&#x8BA4;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;&#xFF1A; GenericObjectPool&#x3002; ProsiedObjectPool&#x3002; SoftReferenceObjectPool&#x3002; &#x65B9;&#x6CD5; &#x63CF;&#x8FF0; borrowObject &#x4ECE;&#x6C60;&#x4E2D;&#x501F;&#x51FA;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x3002;&#x8981;&#x4E48;&#x8C03;&#x7528;PooledObjectFactory.makeObject&#x65B9;&#x6CD5;&#x521B;&#x5EFA;&#xFF0C;&#x8981;&#x4E48;&#x5BF9;&#x4E00;&#x4E2A;&#x7A7A;&#x95F2;&#x5BF9;&#x8C61;&#x4F7F;&#x7528;PooledObjectFactory.activeObject&#x8FDB;&#x884C;&#x6FC0;&#x6D3B;&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528;PooledObjectFactory.validateObject&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;&#x540E;&#x518D;&#x8FD4;&#x56DE; returnObject &#x5C06;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x8FD4;&#x8FD8;&#x7ED9;&#x6C60;&#x3002;&#x6839;&#x636E;&#x7EA6;&#x5B9A;&#xFF1A;&#x5BF9;&#x8C61;&#x5FC5;&#x987B; &#x662F;&#x4F7F;&#x7528;borrowObject&#x65B9;&#x6CD5;&#x4ECE;&#x6C60;&#x4E2D;&#x501F;&#x51FA;&#x7684; invalidateObject &#x5E9F;&#x5F03;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x3002;&#x6839;&#x636E;&#x7EA6;&#x5B9A;&#xFF1A;&#x5BF9;&#x8C61;&#x5FC5;&#x987B; &#x662F;&#x4F7F;&#x7528;borrowObject&#x65B9;&#x6CD5;&#x4ECE;&#x6C60;&#x4E2D;&#x501F;&#x51FA;&#x7684;&#x3002;&#x901A;&#x5E38;&#x5728;&#x5BF9;&#x8C61;&#x53D1;&#x751F;&#x4E86;&#x5F02;&#x5E38;&#x6216;&#x5176;&#x4ED6;&#x95EE;&#x9898;&#x65F6;&#x4F7F;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x5E9F;&#x5F03;&#x5B83; addObject &#x4F7F;&#x7528;&#x5DE5;&#x5382;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x949D;&#x5316;&#x5E76;&#x4E14;&#x5C06;&#x5B83;&#x653E;&#x5165;&#x7A7A;&#x95F2;&#x5BF9;&#x8C61;&#x6C60; getNumberIdle &#x8FD4;&#x56DE;&#x6C60;&#x4E2D;&#x7A7A;&#x95F2;&#x7684;&#x5BF9;&#x8C61;&#x6570;&#x91CF;&#x3002;&#x6709;&#x53EF;&#x80FD;&#x662F;&#x6C60;&#x4E2D;&#x53EF;&#x4F9B;&#x501F;&#x51FA;&#x5BF9;&#x8C61;&#x7684;&#x8FD1;&#x4F3C;&#x503C;&#x3002;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x4FE1;&#x606F;&#x65E0;&#x6548;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x8D1F;&#x6570; getNumActive &#x8FD4;&#x56DE;&#x4ECE;&#x501F;&#x51FA;&#x7684;&#x5BF9;&#x8C61;&#x6570;&#x91CF;&#x3002;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x4FE1;&#x606F;&#x4E0D;&#x53EF;&#x7528;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x8D1F;&#x6570; clear &#x6E05;&#x9664;&#x6C60;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x7A7A;&#x95F2;&#x5BF9;&#x8C61;&#xFF0C;&#x91CA;&#x653E;&#x5176;&#x5173;&#x8054;&#x7684;&#x8D44;&#x6E90;&#xFF08;&#x53EF;&#x9009;&#xFF09;&#x3002;&#x6E05;&#x9664;&#x7A7A;&#x95F2;&#x5BF9;&#x8C61;&#x5FC5;&#x987B;&#x4F7F;&#x7528;PooledObjectFactory.destroyObject&#x65B9;&#x6CD5; close &#x5173;&#x95ED;&#x6C60;&#x5E76;&#x91CA;&#x653E;&#x5173;&#x8054;&#x7684;&#x8D44;&#x6E90; BorrowObject &#xFF08;&#x501F;&#x51FA;&#x5BF9;&#x8C61;&#xFF09;&#x4E0B;&#x9762;&#x662F;GenericObjectPool&#x4E2D;borrowObject&#x65B9;&#x6CD5;&#x7684;&#x903B;&#x8F91;&#x5B9E;&#x73B0;&#xFF0C;&#x6709;&#x963B;&#x585E;&#x5F0F;&#x548C;&#x975E;&#x963B;&#x585E;&#x5F0F;&#x4E24;&#x79CD;&#x83B7;&#x53D6;&#x5BF9;&#x8C61;&#x7684;&#x6A21;&#x5F0F;&#x3002; ReturnObject &#xFF08;&#x8FD4;&#x8FD8;&#x5BF9;&#x8C61;&#xFF09;&#x4E0B;&#x9762;&#x662F;GenericObjectPool&#x4E2D;returnObject&#x65B9;&#x6CD5;&#x7684;&#x903B;&#x8F91;&#x5B9E;&#x73B0;&#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#x5B9E;&#x73B0;&#x7684;FIFO&#xFF08;&#x5148;&#x8FDB;&#x5148;&#x51FA;&#xFF09;&#x548C;LIFO&#xFF08;&#x540E;&#x8FDB;&#x5148;&#x51FA;&#xFF09;&#x3002; &#x53C2;&#x8003;&#x8D44;&#x6599; Apache Commons Pool Overview Apache Commons Pool API","categories":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"Java","slug":"编程/Java","permalink":"http://aofeng.github.io/categories/编程/Java/"}],"tags":[{"name":"java","slug":"java","permalink":"http://aofeng.github.io/tags/java/"},{"name":"pool","slug":"pool","permalink":"http://aofeng.github.io/tags/pool/"},{"name":"对象池","slug":"对象池","permalink":"http://aofeng.github.io/tags/对象池/"},{"name":"apache","slug":"apache","permalink":"http://aofeng.github.io/tags/apache/"}],"keywords":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"Java","slug":"编程/Java","permalink":"http://aofeng.github.io/categories/编程/Java/"}]}]}