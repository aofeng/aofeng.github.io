{"meta":{"title":"聂勇的个人网站","subtitle":"0与1构筑世界，程序员创造时代","description":"l软件 架构 设计 编程 Java Python Nodejs","author":"聂勇","url":"http://aofeng.github.io"},"pages":[],"posts":[{"title":"MySQL5.5-将字符集从utf8升级为utf8mb4","slug":"MySQL5-5-将字符集从utf8升级为utf8mb4","date":"2016-01-04T12:08:44.000Z","updated":"2016-11-06T12:06:15.000Z","comments":true,"path":"2016/01/04/MySQL5-5-将字符集从utf8升级为utf8mb4/","link":"","permalink":"http://aofeng.github.io/2016/01/04/MySQL5-5-将字符集从utf8升级为utf8mb4/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x4E00;&#x3001;&#x5347;&#x7EA7;&#x524D; &#x4E8C;&#x3001;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6; &#x4E09;&#x3001;&#x5347;&#x7EA7;&#x540E; MySQL&#x9ED8;&#x8BA4;&#x7684;utf8&#x53EA;&#x652F;&#x6301;&#x4E09;&#x5B57;&#x8282;&#x5B57;&#x7B26;&#xFF0C;&#x4E0D;&#x652F;&#x6301;Emoji&#x8868;&#x60C5;&#x7B26;&#xFF08;&#x56DB;&#x5B57;&#x8282;&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x56DB;&#x5B57;&#x8282;&#x7684;&#x5B57;&#x7B26;&#x5199;&#x5165;&#x4F1A;&#x62A5;&#x9519;&#x3002;&#x4ECE;MySQL 5.5&#x5F00;&#x59CB;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;utf8mb4&#xFF0C;&#x652F;&#x6301;&#x56DB;&#x5B57;&#x8282;&#x7684;&#x5B57;&#x7B26;&#x3002;&#x8BB8;&#x591A;&#x4F7F;&#x7528;iphone&#x7684;&#x7528;&#x6237;&#x6765;&#x5728;&#x586B;&#x5199;&#x6635;&#x79F0;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x52A0;&#x5165;Emoji&#x8868;&#x60C5;&#x7B26;&#xFF0C;&#x5982;&#x679C;MySQL&#x6CA1;&#x6709;&#x4F7F;&#x7528;utf8mb4&#x5B57;&#x7B26;&#x96C6;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x6635;&#x79F0;&#x4FE1;&#x606F;&#x5C31;&#x65E0;&#x6CD5;&#x5199;&#x5165;&#x3002; &#x4E00;&#x3001;&#x5347;&#x7EA7;&#x524D;1mysql&gt; SHOW VARIABLES LIKE &apos;character_set%&apos;; Variable_name Value character_set_client utf8 character_set_connection utf8 character_set_database utf8 character_set_filesystem binary character_set_results utf8 character_set_server utf8 character_set_system utf8 character_sets_dir /home/sdkserver/local/mysql-5.5.43/share/charsets/ 8 rows in set (0.00 sec) 1mysql&gt; SHOW VARIABLES LIKE &apos;collation%&apos;; Variable_name Value collation_connection utf8_general_ci collation_database utf8_unicode_ci collation_server utf8_unicode_ci 3 rows in set (0.00 sec) &#x4E8C;&#x3001;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6253;&#x5F00;MySQL&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5C06;&#x5B57;&#x7B26;&#x96C6;&#x7684;&#x914D;&#x7F6E;&#x4FEE;&#x6539;&#x6210;&#x5982;&#x4E0B;&#xFF1A;1234567891011[client] default-character-set = utf8mb4[mysql] default-character-set = utf8mb4[mysqld] character-set-client-handshake = FALSEcharacter-set-server = utf8mb4collation-server = utf8mb4_general_ciinit_connect=&apos;SET NAMES utf8mb4&apos; &#x4E09;&#x3001;&#x5347;&#x7EA7;&#x540E;1mysql&gt; SHOW VARIABLES LIKE &apos;character_set%&apos;; Variable_name Value character_set_client utf8mb4 character_set_connection utf8mb4 character_set_database utf8mb4 character_set_filesystem binary character_set_results utf8mb4 character_set_server utf8mb4 character_set_system utf8 character_sets_dir /home/nieyong/local/mysql-5.5.43/share/charsets/ 8 rows in set (0.00 sec) 1mysql&gt; SHOW VARIABLES LIKE &apos;collation%&apos;; Variable_name Value collation_connection utf8mb4_general_ci collation_database utf8mb4_general_ci collation_server utf8mb4_general_ci 3 rows in set (0.00 sec)","categories":[{"name":"数据库","slug":"数据库","permalink":"http://aofeng.github.io/categories/数据库/"},{"name":"MySQL","slug":"数据库/MySQL","permalink":"http://aofeng.github.io/categories/数据库/MySQL/"}],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://aofeng.github.io/tags/mysql/"},{"name":"数据库","slug":"数据库","permalink":"http://aofeng.github.io/tags/数据库/"}],"keywords":[{"name":"数据库","slug":"数据库","permalink":"http://aofeng.github.io/categories/数据库/"},{"name":"MySQL","slug":"数据库/MySQL","permalink":"http://aofeng.github.io/categories/数据库/MySQL/"}]},{"title":"Gson-自定义反序列化","slug":"Gson-自定义反序列化","date":"2015-08-17T12:21:12.000Z","updated":"2016-11-06T12:06:07.000Z","comments":true,"path":"2015/08/17/Gson-自定义反序列化/","link":"","permalink":"http://aofeng.github.io/2015/08/17/Gson-自定义反序列化/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x4E00;&#x3001;&#x9700;&#x6C42; &#x4E8C;&#x3001;&#x5B9E;&#x73B0; 1&#x3001;&#x81EA;&#x5B9A;&#x4E49;&#x53CD;&#x5E8F;&#x5217;&#x5316; 2&#x3001;&#x6CE8;&#x518C;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x53CD;&#x5E8F;&#x5217;&#x5316; &#x4E09;&#x3001;&#x53C2;&#x8003;&#x8D44;&#x6599; &#x4E0A;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x300A;Gson&#x6559;&#x7A0B;-&#x81EA;&#x5B9A;&#x4E49;&#x5E8F;&#x5217;&#x5316;&#x300B;&#x4ECB;&#x7ECD;&#x4E86;&#x4F7F;&#x7528;Gson&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x5E8F;&#x5217;&#x5316;&#x6EE1;&#x8DB3;&#x4E00;&#x4E9B;&#x4E1A;&#x52A1;&#x573A;&#x666F;&#x4E0B;&#x7684;&#x9700;&#x6C42;&#x3002;&#x540C;&#x6837;&#x7684;&#xFF0C;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#xFF08;JSON&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x6362;&#x6210;Java&#x5BF9;&#x8C61;&#xFF09;&#x4E5F;&#x9700;&#x8981;&#x81EA;&#x5B9A;&#x4E49;&#xFF0C;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x4E0E;&#x5E8F;&#x5217;&#x5316;&#x4E00;&#x6837;&#xFF0C;&#x4E24;&#x6B65;&#x641E;&#x5B9A;&#xFF1A; &#x5B9E;&#x73B0;JsonDeserializer&#x63A5;&#x53E3;&#x3002; &#x6CE8;&#x518C;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x5B9E;&#x73B0;&#x3002; &#x4E00;&#x3001;&#x9700;&#x6C42;1&#x3001;&#x6709;&#x5982;&#x4E0B;JSON&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x9700;&#x8981;&#x8F6C;&#x6362;&#x6210;Person&#x5BF9;&#x8C61;&#x3002; {&#x201C;PersonName&#x201D;:&#x201D;aofeng&#x201D;,&#x201D;PersonAge&#x201D;:32} 2&#x3001;Person&#x6709;&#x4E24;&#x4E2A;&#x5C5E;&#x6027;&#xFF1A;name&#x548C;age&#xFF0C;&#x70B9;&#x51FB;&#x67E5;&#x770B;&#x6E90;&#x4EE3;&#x7801;&#x3002; &#x4E8C;&#x3001;&#x5B9E;&#x73B0;1&#x3001;&#x81EA;&#x5B9A;&#x4E49;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x5B9E;&#x73B0;JsonDeserializer&#x63A5;&#x53E3;&#x7684;deserialize&#x65B9;&#x6CD5;&#xFF1A;123456789101112131415public static class PersonDeserializer implements JsonDeserializer&lt;Person&gt; { @Override public Person deserialize(JsonElement jsonEle, Type type, JsonDeserializationContext context) throws JsonParseException { JsonObject jo = jsonEle.getAsJsonObject(); String name = jo.get(&quot;PersonName&quot;).getAsString(); int age = jo.get(&quot;PersonAge&quot;).getAsInt(); Person obj = new Person(name, age); return obj; } } 2&#x3001;&#x6CE8;&#x518C;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;GsonBuilder&#xFF0C;&#x4F7F;&#x7528;registerTypeAdapter&#x65B9;&#x6CD5;&#x6CE8;&#x518C;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x5E8F;&#x5217;&#x5316;&#x5B9E;&#x73B0;&#xFF0C;&#x7136;&#x540E;&#x751F;&#x6210;Gson&#x5BF9;&#x8C61;&#x6765;&#x8FDB;&#x884C;&#x5E8F;&#x5217;&#x5316;&#x3002;123456789public static void main(String[] args) { GsonBuilder builder = new GsonBuilder(); builder.registerTypeAdapter(Person.class, new PersonDeserializer()); Gson gson = builder.create(); String json = &quot;{\\&quot;PersonName\\&quot;:\\&quot;aofeng\\&quot;,\\&quot;PersonAge\\&quot;:32}&quot;; Person obj = gson.fromJson(json, Person.class); System.out.println(obj);} &#x8FD0;&#x884C;&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#xFF0C;&#x8F93;&#x51FA;&#x4FE1;&#x606F;&#x5982;&#x4E0B;: Person [name=aofeng, age=32] &#x9644;&#xFF1A;&#x5B8C;&#x6574;&#x7684;&#x6E90;&#x4EE3;&#x7801; &#x4E09;&#x3001;&#x53C2;&#x8003;&#x8D44;&#x6599; Gson Offical Site Gson User Guide","categories":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"Java","slug":"编程/Java","permalink":"http://aofeng.github.io/categories/编程/Java/"}],"tags":[{"name":"java","slug":"java","permalink":"http://aofeng.github.io/tags/java/"},{"name":"gson","slug":"gson","permalink":"http://aofeng.github.io/tags/gson/"},{"name":"json","slug":"json","permalink":"http://aofeng.github.io/tags/json/"},{"name":"serialize","slug":"serialize","permalink":"http://aofeng.github.io/tags/serialize/"},{"name":"序列化","slug":"序列化","permalink":"http://aofeng.github.io/tags/序列化/"}],"keywords":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"Java","slug":"编程/Java","permalink":"http://aofeng.github.io/categories/编程/Java/"}]},{"title":"Gson-自定义序列化","slug":"Gson-自定义序列化","date":"2015-08-14T12:13:56.000Z","updated":"2016-11-06T12:06:11.000Z","comments":true,"path":"2015/08/14/Gson-自定义序列化/","link":"","permalink":"http://aofeng.github.io/2015/08/14/Gson-自定义序列化/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x4E00;&#x3001;&#x9700;&#x6C42; &#x4E8C;&#x3001;&#x5B9E;&#x73B0; 1&#x3001;&#x81EA;&#x5B9A;&#x4E49;&#x5E8F;&#x5217;&#x5316; 2&#x3001;&#x6CE8;&#x518C;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x5E8F;&#x5217;&#x5316; &#x4E09;&#x3001;&#x53C2;&#x8003;&#x8D44;&#x6599; &#x4E0A;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x300A;Gson&#x6559;&#x7A0B;-&#x5E8F;&#x5217;&#x5316;&#x4E0E;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x57FA;&#x7840;&#x64CD;&#x4F5C;&#x300B;&#x4ECB;&#x7ECD;&#x4E86;Gson&#x7684;&#x7279;&#x6027;&#x548C;&#x57FA;&#x672C;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x3002;&#x5982;&#x679C;&#x78B0;&#x4E0A;&#x4E00;&#x4E9B;&#x7279;&#x6B8A;&#x7684;&#x4F7F;&#x7528;&#x573A;&#x666F;&#xFF1A; &#x51FA;&#x751F;&#x65E5;&#x671F;&#x5B58;&#x50A8;&#x7684;&#x662F;&#x6BEB;&#x79D2;&#x6570;&#xFF0C;&#x4F46;&#x8F93;&#x51FA;JSON&#x65F6;&#x9700;&#x8981;&#x662F;&#x5E74;&#x6708;&#x65E5;&#x7684;&#x683C;&#x5F0F;&#xFF1B; &#x6709;&#x4E9B;&#x5B57;&#x6BB5;&#x4E0D;&#x60F3;&#x8F93;&#x51FA;&#xFF1B; &#x8F93;&#x51FA;&#x7684;&#x5B57;&#x6BB5;&#x540D;&#x4E0E;&#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x5B57;&#x6BB5;&#x540D;&#x4E0D;&#x76F8;&#x540C;&#x3002; &#x600E;&#x4E48;&#x529E;&#x5462;&#xFF1F;Gson&#x63D0;&#x4F9B;&#x4E86;&#x81EA;&#x5B9A;&#x4E49;&#x5E8F;&#x5217;&#x5316;&#x548C;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#xFF0C;&#x5E76;&#x4E14;&#x5B9E;&#x73B0;&#x4E5F;&#x975E;&#x5E38;&#x7B80;&#x5355;&#xFF0C;&#x4E24;&#x6B65;&#x641E;&#x5B9A;&#xFF1A; &#x5B9E;&#x73B0;JsonSerializer&#x63A5;&#x53E3;&#x3002; &#x6CE8;&#x518C;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x5E8F;&#x5217;&#x5316;&#x5B9E;&#x73B0;&#x3002; &#x4E00;&#x3001;&#x9700;&#x6C42;1&#x3001;&#x4E00;&#x4E2A;POJO&#x7C7B;&#xFF1A;Person&#xFF0C;&#x6709;&#x4E24;&#x4E2A;&#x5C5E;&#x6027;&#xFF1A;name&#x548C;age&#x3002;&#x6E90;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#x3002;2&#x3001;&#x5E8F;&#x5217;&#x5316;&#x6210;JSON&#x5B57;&#x7B26;&#x4E32;&#x65F6;&#xFF0C;name&#x5B57;&#x6BB5;&#x540D;&#x8F93;&#x51FA;&#x4E3A;PersonName&#xFF0C;age&#x5B57;&#x6BB5;&#x540D;&#x8F93;&#x51FA;&#x4E3A;PersonAge&#x3002;123456789101112131415161718192021222324252627282930313233343536373839404142/** ** * &#x7B80;&#x5355;&#x7684;Java&#x5BF9;&#x8C61;&#x3002; * * @author &lt;a href=&quot;mailto:aofengblog@163.com&quot;&gt;&#x8042;&#x52C7;&lt;/a&gt; */public class Person { private String name; private int age; public Person() { // nothing } public Person(String name, int age) { this.name = name; this.age = age; } public String getName() { return name; } public void setName(String name) { this.name = name; } public int getAge() { return age; } public void setAge(int age) { this.age = age; } @Override public String toString() { return &quot;Person [name=&quot; + name + &quot;, age=&quot; + age + &quot;]&quot;; }} &#x4E8C;&#x3001;&#x5B9E;&#x73B0;1&#x3001;&#x81EA;&#x5B9A;&#x4E49;&#x5E8F;&#x5217;&#x5316;&#x5B9E;&#x73B0;JsonSerializer&#x63A5;&#x53E3;&#x7684;serialize&#x65B9;&#x6CD5;&#xFF0C;&#x60F3;&#x600E;&#x4E48;&#x5F04;&#x90FD;&#x53EF;&#x4EE5;&#x968F;&#x5FC3;&#x6240;&#x6B32; :)12345678910111213public class PersonSerializer implements JsonSerializer&lt;Person&gt; { @Override public JsonElement serialize(Person obj, Type type, JsonSerializationContext context) { JsonObject jo = new JsonObject(); jo.addProperty(&quot;PersonName&quot;, obj.getName()); jo.addProperty(&quot;PersonAge&quot;, obj.getAge()); return jo; }} 2&#x3001;&#x6CE8;&#x518C;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x5E8F;&#x5217;&#x5316;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;GsonBuilder&#xFF0C;&#x4F7F;&#x7528;registerTypeAdapter&#x65B9;&#x6CD5;&#x6CE8;&#x518C;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x5E8F;&#x5217;&#x5316;&#x5B9E;&#x73B0;&#xFF0C;&#x7136;&#x540E;&#x751F;&#x6210;Gson&#x5BF9;&#x8C61;&#x6765;&#x8FDB;&#x884C;&#x5E8F;&#x5217;&#x5316;&#x3002;12345678public static void main(String[] args) { GsonBuilder builder = new GsonBuilder(); builder.registerTypeAdapter(Person.class, new PersonSerializer()); Gson gson = builder.create(); Person obj = new Person(&quot;aofeng&quot;, 32); System.out.println( gson.toJson(obj) );} &#x8FD0;&#x884C;&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#xFF0C;&#x8F93;&#x51FA;&#x4FE1;&#x606F;&#x5982;&#x4E0B;: {&#x201C;PersonName&#x201D;:&#x201D;aofeng&#x201D;,&#x201D;PersonAge&#x201D;:32} &#x9644;&#xFF1A;&#x5B8C;&#x6574;&#x7684;&#x6E90;&#x4EE3;&#x7801; &#x4E09;&#x3001;&#x53C2;&#x8003;&#x8D44;&#x6599; Gson Offical Site Gson User Guide","categories":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"Java","slug":"编程/Java","permalink":"http://aofeng.github.io/categories/编程/Java/"}],"tags":[{"name":"java","slug":"java","permalink":"http://aofeng.github.io/tags/java/"},{"name":"gson","slug":"gson","permalink":"http://aofeng.github.io/tags/gson/"},{"name":"json","slug":"json","permalink":"http://aofeng.github.io/tags/json/"},{"name":"serialize","slug":"serialize","permalink":"http://aofeng.github.io/tags/serialize/"},{"name":"序列化","slug":"序列化","permalink":"http://aofeng.github.io/tags/序列化/"}],"keywords":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"Java","slug":"编程/Java","permalink":"http://aofeng.github.io/categories/编程/Java/"}]},{"title":"Gson-序列化与反序列化基础操作","slug":"Gson-序列化与反序列化基础操作","date":"2015-08-12T11:57:18.000Z","updated":"2016-11-06T12:06:02.000Z","comments":true,"path":"2015/08/12/Gson-序列化与反序列化基础操作/","link":"","permalink":"http://aofeng.github.io/2015/08/12/Gson-序列化与反序列化基础操作/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x4E00;&#x3001;&#x666E;&#x901A;&#x5BF9;&#x8C61;&#xFF08;POJO&#xFF09; &#x4E8C;&#x3001;&#x6570;&#x7EC4; 1&#x3001;&#x5E8F;&#x5217;&#x5316; 2&#x3001;&#x53CD;&#x5E8F;&#x5217;&#x5316; &#x4E09;&#x3001;&#x96C6;&#x5408;&#x7C7B; 1&#x3001;&#x5E8F;&#x5217;&#x5316; 2&#x3001;&#x53CD;&#x5E8F;&#x5217;&#x5316; &#x56DB;&#x3001;&#x53C2;&#x8003;&#x8D44;&#x6599; Gson&#x662F;&#x4F17;&#x591A;&#x5F00;&#x6E90;JSON&#x7C7B;&#x5E93;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#xFF0C;&#x4F7F;&#x7528;&#x975E;&#x5E38;&#x7B80;&#x5355;&#xFF0C;&#x4F7F;&#x7528;toJson&#x548C;fromJson&#x65B9;&#x6CD5;&#x53EF;&#x5C06;JSON&#x5B57;&#x7B26;&#x4E32;&#x548C;Java&#x5BF9;&#x8C61;&#x76F8;&#x4E92;&#x8F6C;&#x6362;&#xFF0C;&#x4E3B;&#x8981;&#x7684;&#x7279;&#x6027;&#x6709;&#xFF1A; &#x5168;&#x9762;&#x652F;&#x6301;&#x6CDB;&#x578B;&#x3002; Java&#x5BF9;&#x8C61;&#x4E0D;&#x9700;&#x8981;&#x5728;&#x6E90;&#x4EE3;&#x7801;&#x4E2D;&#x589E;&#x52A0;&#x6CE8;&#x89E3;&#x5C31;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x8F6C;&#x6362;&#x3002; &#x8F6C;&#x6362;&#x65F6;&#x4F7F;&#x7528;Java&#x5BF9;&#x8C61;&#x7684;&#x5B57;&#x6BB5;&#xFF0C;&#x800C;&#x975E;setter&#x548C;getter&#x65B9;&#x6CD5;&#x3002; &#x53EF;&#x81EA;&#x5B9A;&#x4E49;&#x5E8F;&#x5217;&#x5316;&#x548C;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x6EE1;&#x8DB3;&#x4E2A;&#x6027;&#x5316;&#x9700;&#x6C42;&#xFF0C;&#x751A;&#x81F3;&#x7F16;&#x5199;&#x81EA;&#x5DF1;&#x7684;TypeAdapter&#x6539;&#x53D8;&#x5E95;&#x5C42;&#x7684;&#x89E3;&#x6790;&#x3002; &#x4E0B;&#x9762;&#xFF0C;&#x901A;&#x8FC7;&#x51E0;&#x6BB5;&#x4EE3;&#x7801;&#x5C55;&#x793A;Gson&#x5982;&#x4F55;&#x5C06;Java&#x4E2D;&#x5E38;&#x7528;&#x7684;POJO&#x3001;&#x6570;&#x7EC4;&#x548C;&#x96C6;&#x5408;&#x5E8F;&#x5217;&#x5316;&#x6210;JSON&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5E76;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x3002; &#x4E00;&#x3001;&#x666E;&#x901A;&#x5BF9;&#x8C61;&#xFF08;POJO&#xFF09;1&#x3001;&#x4E00;&#x4E2A;POJO&#x7C7B;&#xFF1A;Person&#xFF0C;&#x6709;&#x4E24;&#x4E2A;&#x5C5E;&#x6027;&#xFF1A;name&#x548C;age&#x3002;&#x6E90;&#x4EE3;&#x7801;&#x6587;&#x4EF6;123456789101112131415161718192021222324252627282930313233343536373839404142/** ** * &#x7B80;&#x5355;&#x7684;Java&#x5BF9;&#x8C61;&#x3002; * * @author &lt;a href=&quot;mailto:aofengblog@163.com&quot;&gt;&#x8042;&#x52C7;&lt;/a&gt; */public class Person { private String name; private int age; public Person() { // nothing } public Person(String name, int age) { this.name = name; this.age = age; } public String getName() { return name; } public void setName(String name) { this.name = name; } public int getAge() { return age; } public void setAge(int age) { this.age = age; } @Override public String toString() { return &quot;Person [name=&quot; + name + &quot;, age=&quot; + age + &quot;]&quot;; }} 2&#x3001;&#x5BF9;Person&#x8FDB;&#x884C;&#x5E8F;&#x5217;&#x5316;&#x4E0E;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x3002;&#x6E90;&#x4EE3;&#x7801;&#x6587;&#x4EF6;1234567891011121314151617181920212223242526272829303132333435/** * Java&#x7B80;&#x5355;&#x5BF9;&#x8C61;&#x7684;&#x5E8F;&#x5217;&#x5316;&#x4E0E;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x3002; * * @author &lt;a href=&quot;mailto:aofengblog@163.com&quot;&gt;&#x8042;&#x52C7;&lt;/a&gt; */public class SimpleObjectSerialize { /** * &#x5E8F;&#x5217;&#x5316;&#xFF1A;&#x5C06;Java&#x5BF9;&#x8C61;&#x8F6C;&#x6362;&#x6210;JSON&#x5B57;&#x7B26;&#x4E32;&#x3002; */ public void serialize(Person person) { Gson gson = new Gson(); System.out.println( gson.toJson(person) ); } /** * &#x53CD;&#x5E8F;&#x5217;&#x5316;&#xFF1A;&#x5C06;JSON&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x6362;&#x6210;Java&#x5BF9;&#x8C61;&#x3002; */ public void deserialize(String json) { Gson gson = new Gson(); Person person = gson.fromJson(json, Person.class); System.out.println( person ); } public static void main(String[] args) { SimpleObjectSerialize ss = new SimpleObjectSerialize(); Person person = new Person(&quot;NieYong&quot;, 33); ss.serialize(person); String json = &quot; {\\&quot;name\\&quot;:\\&quot;AoFeng\\&quot;,\\&quot;age\\&quot;:32}&quot;; ss.deserialize(json); }} &#x8FD0;&#x884C;SimpleObjectSerialize&#xFF0C;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;&#x5982;&#x4E0B;&#x4FE1;&#x606F;&#xFF1A; {&#x201C;name&#x201D;:&#x201D;NieYong&#x201D;,&#x201D;age&#x201D;:33}Person [name=AoFeng, age=32] &#x4E8C;&#x3001;&#x6570;&#x7EC4;1&#x3001;&#x5E8F;&#x5217;&#x5316;&#x5C06;&#x6574;&#x578B;&#x5BF9;&#x8C61;&#x6570;&#x7EC4;&#x3001;&#x5B57;&#x7B26;&#x4E32;&#x6570;&#x7EC4;&#x548C;&#x5BF9;&#x8C61;&#x6570;&#x7EC4;&#x5E8F;&#x5217;&#x5316;&#x6210;JSON&#x5B57;&#x7B26;&#x4E32;&#x3002;&#x6E90;&#x4EE3;&#x7801;&#x6587;&#x4EF6;12345678910111213141516171819202122232425262728293031323334353637/** * &#x6570;&#x7EC4;&#x7684;&#x5E8F;&#x5217;&#x5316;&#x4E0E;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x3002; * * @author &lt;a href=&quot;mailto:aofengblog@163.com&quot;&gt;&#x8042;&#x52C7;&lt;/a&gt; */public class ArraySerialize { public void serialize(Object[] arr) { Gson gson = new Gson(); System.out.println( gson.toJson(arr) ); } public static void main(String[] args) { ArraySerialize as = new ArraySerialize(); // &#x6574;&#x578B;&#x5BF9;&#x8C61;&#x6570;&#x7EC4; Integer[] intArr = new Integer[3]; intArr[0] = 9; intArr[1] = 7; intArr[2] = 5; as.serialize(intArr); // &#x5B57;&#x7B26;&#x4E32;&#x6570;&#x7EC4; String[] names = new String[3]; names[0] = &quot;&#x5F20;&#x4E09;&quot;; names[1] = &quot;&#x674E;&#x56DB;&quot;; names[2] = &quot;&#x738B;&#x4E94;&quot;; as.serialize(names); // &#x5BF9;&#x8C61;&#x6570;&#x7EC4; Person[] persons = new Person[2]; persons[0] = new Person(&quot;&#x5C0F;&#x660E;&quot;, 10); persons[1] = new Person(&quot;&#x9A6C;&#x4E3D;&quot;, 9); as.serialize(persons); }} &#x8FD0;&#x884C;ArraySerialize&#xFF0C;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;&#x5982;&#x4E0B;&#x4FE1;&#x606F;&#xFF1A; [9,7,5][&#x201C;&#x5F20;&#x4E09;&#x201D;,&#x201D;&#x674E;&#x56DB;&#x201D;,&#x201D;&#x738B;&#x4E94;&#x201D;][{&#x201C;name&#x201D;:&#x201D;&#x5C0F;&#x660E;&#x201D;,&#x201D;age&#x201D;:10},{&#x201C;name&#x201D;:&#x201D;&#x9A6C;&#x4E3D;&#x201D;,&#x201D;age&#x201D;:9}] 2&#x3001;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x5C06;JSON&#x5B57;&#x7B26;&#x4E32;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x6210;&#x6574;&#x578B;&#x5BF9;&#x8C61;&#x6570;&#x7EC4;&#x3001;&#x5B57;&#x7B26;&#x4E32;&#x6570;&#x7EC4;&#x548C;&#x5BF9;&#x8C61;&#x6570;&#x7EC4;&#x3002;&#x6E90;&#x4EE3;&#x7801;&#x6587;&#x4EF6;1234567891011121314151617181920212223242526272829303132333435363738394041/** * &#x6570;&#x7EC4;&#x7684;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x3002; * * @author &lt;a href=&quot;mailto:aofengblog@163.com&quot;&gt;&#x8042;&#x52C7;&lt;/a&gt; */public class ArrayDeserialize { public &lt;T&gt; T deserialize(String json, Class&lt;T&gt; claz) { Gson gson = new Gson(); return gson.fromJson(json, claz); } public static void main(String[] args) { ArrayDeserialize ad = new ArrayDeserialize(); // &#x6574;&#x578B;&#x6570;&#x7EC4; String intArrJson = &quot;[9,7,5]&quot;; int[] intArr = ad.deserialize(intArrJson, int[].class); System.out.println(&quot;---------- &#x6574;&#x578B;&#x6570;&#x7EC4; ----------&quot;); for (int i : intArr) { System.out.println(i); } // &#x5B57;&#x7B26;&#x4E32;&#x6570;&#x7EC4; String strArrJson = &quot;[\\&quot;&#x5F20;&#x4E09;\\&quot;,\\&quot;&#x674E;&#x56DB;\\&quot;,\\&quot;&#x738B;&#x4E94;\\&quot;]&quot;; String[] strArr = ad.deserialize(strArrJson, String[].class); System.out.println(&quot;---------- &#x5B57;&#x7B26;&#x4E32;&#x6570;&#x7EC4; ----------&quot;); for (String str : strArr) { System.out.println(str); } // &#x5BF9;&#x8C61;&#x6570;&#x7EC4; String objArrJson = &quot;[{\\&quot;name\\&quot;:\\&quot;&#x5C0F;&#x660E;\\&quot;,\\&quot;age\\&quot;:10},{\\&quot;name\\&quot;:\\&quot;&#x9A6C;&#x4E3D;\\&quot;,\\&quot;age\\&quot;:9}]&quot;; Person[] objArr = ad.deserialize(objArrJson, Person[].class); System.out.println(&quot;---------- &#x5BF9;&#x8C61;&#x6570;&#x7EC4; ----------&quot;); for (Person person : objArr) { System.out.println(person); } }} &#x8FD0;&#x884C;ArrayDeserialize&#xFF0C;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;&#x5982;&#x4E0B;&#x4FE1;&#x606F;&#xFF1A; &#x2014;&#x2014;&#x2014;- &#x6574;&#x578B;&#x6570;&#x7EC4; &#x2014;&#x2014;&#x2014;-975&#x2014;&#x2014;&#x2014;- &#x5B57;&#x7B26;&#x4E32;&#x6570;&#x7EC4; &#x2014;&#x2014;&#x2014;-&#x5F20;&#x4E09;&#x674E;&#x56DB;&#x738B;&#x4E94;&#x2014;&#x2014;&#x2014;- &#x5BF9;&#x8C61;&#x6570;&#x7EC4; &#x2014;&#x2014;&#x2014;-Person [name=&#x5C0F;&#x660E;, age=10]Person [name=&#x9A6C;&#x4E3D;, age=9] &#x4E09;&#x3001;&#x96C6;&#x5408;&#x7C7B;1&#x3001;&#x5E8F;&#x5217;&#x5316;&#x5C06;List&#x3001;Set&#x548C;Map&#x5E8F;&#x5217;&#x5316;&#x6210;JSON&#x5B57;&#x7B26;&#x4E32;&#x3002;&#x6E90;&#x4EE3;&#x7801;&#x6587;&#x4EF6;123456789101112131415161718192021222324252627282930313233343536373839404142/** * &#x96C6;&#x5408;&#x7684;&#x5E8F;&#x5217;&#x5316;&#x3002; * * @author &lt;a href=&quot;mailto:aofengblog@163.com&quot;&gt;&#x8042;&#x52C7;&lt;/a&gt; */public class CollectionsSerialize { public void serialize(Collection&lt;?&gt; c) { Gson gson = new Gson(); System.out.println( gson.toJson(c) ); } public void serialize(Map&lt;?, ?&gt; map) { Gson gson = new Gson(); System.out.println( gson.toJson(map) ); } public static void main(String[] args) { CollectionsSerialize cs = new CollectionsSerialize(); // &#x6574;&#x578B;List List&lt;Integer&gt; intList = new ArrayList&lt;Integer&gt;(); intList.add(9); intList.add(8); intList.add(0); cs.serialize(intList); // &#x5B57;&#x7B26;&#x4E32;Set Set&lt;String&gt; strSet = new HashSet&lt;String&gt;(); strSet.add(&quot;Hello&quot;); strSet.add(&quot;World&quot;); strSet.add(&quot;Best&quot;); cs.serialize(strSet); // Map Map&lt;String, Person&gt; objMap = new HashMap&lt;String, Person&gt;(); objMap.put(&quot;marry&quot;, new Person(&quot;&#x9A6C;&#x4E3D;&quot;, 20)); objMap.put(&quot;xiaomin&quot;, new Person(&quot;&#x5C0F;&#x660E;&quot;, 21)); cs.serialize(objMap); }} &#x8FD0;&#x884C;CollectionsSerialize&#xFF0C;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;&#x5982;&#x4E0B;&#x4FE1;&#x606F;&#xFF1A; [9,8,0][&#x201C;Best&#x201D;,&#x201D;World&#x201D;,&#x201D;Hello&#x201D;]{&#x201C;xiaomin&#x201D;:{&#x201C;name&#x201D;:&#x201D;&#x5C0F;&#x660E;&#x201D;,&#x201D;age&#x201D;:21},&#x201D;marry&#x201D;:{&#x201C;name&#x201D;:&#x201D;&#x9A6C;&#x4E3D;&#x201D;,&#x201D;age&#x201D;:20}} 2&#x3001;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x5C06;JSON&#x5B57;&#x7B26;&#x4E32;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x6210;List&#x3001;Set&#x548C;Map&#x5BF9;&#x8C61;&#x3002;&#x6E90;&#x4EE3;&#x7801;&#x6587;&#x4EF6;1234567891011121314151617181920212223242526272829303132333435363738394041424344/** * &#x96C6;&#x5408;&#x7684;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x3002; * * @author &lt;a href=&quot;mailto:aofengblog@163.com&quot;&gt;&#x8042;&#x52C7;&lt;/a&gt; */public class CollectionDeserialize { public &lt;T&gt; T deserialize(String json, Type type) { Gson gson = new Gson(); return gson.fromJson(json, type); } public static void main(String[] args) { CollectionDeserialize cd = new CollectionDeserialize(); //&#x6574;&#x578B;List String intListJson = &quot;[9,8,0]&quot;; List&lt;Integer&gt; intList = cd.deserialize( intListJson, new TypeToken&lt;List&lt;Integer&gt;&gt;(){}.getType() ); System.out.println(&quot;---------- &#x6574;&#x578B;List ----------&quot;); for (Integer obj : intList) { System.out.println(obj); } // &#x5B57;&#x7B26;&#x4E32;Set String strSetJson = &quot;[\\&quot;Best\\&quot;,\\&quot;World\\&quot;,\\&quot;Hello\\&quot;]&quot;; Set&lt;String&gt; strSet = cd.deserialize( strSetJson, new TypeToken&lt;Set&lt;String&gt;&gt;(){}.getType() ); System.out.println(&quot;---------- &#x5B57;&#x7B26;&#x4E32;Set ----------&quot;); for (String str : strSet) { System.out.println(str); } // Map String objMapJson = &quot;{\\&quot;xiaomin\\&quot;:{\\&quot;name\\&quot;:\\&quot;&#x5C0F;&#x660E;\\&quot;,\\&quot;age\\&quot;:21},\\&quot;marry\\&quot;:{\\&quot;name\\&quot;:\\&quot;&#x9A6C;&#x4E3D;\\&quot;,\\&quot;age\\&quot;:20}}&quot;; Map&lt;String, Person&gt; objMap = cd.deserialize( objMapJson, new TypeToken&lt;Map&lt;String, Person&gt;&gt;(){}.getType() ); System.out.println(&quot;---------- Map ----------&quot;); for (Entry&lt;String, Person&gt; entry : objMap.entrySet()) { System.out.println(entry); } }} &#x8FD0;&#x884C;CollectionDeserialize&#xFF0C;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;&#x5982;&#x4E0B;&#x4FE1;&#x606F;&#xFF1A; &#x2014;&#x2014;&#x2014;- &#x6574;&#x578B;List &#x2014;&#x2014;&#x2014;-980&#x2014;&#x2014;&#x2014;- &#x5B57;&#x7B26;&#x4E32;Set &#x2014;&#x2014;&#x2014;-BestWorldHello&#x2014;&#x2014;&#x2014;- Map &#x2014;&#x2014;&#x2014;-xiaomin=Person [name=&#x5C0F;&#x660E;, age=21]marry=Person [name=&#x9A6C;&#x4E3D;, age=20] &#x56DB;&#x3001;&#x53C2;&#x8003;&#x8D44;&#x6599; Gson Offical Site Gson User Guide","categories":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"Java","slug":"编程/Java","permalink":"http://aofeng.github.io/categories/编程/Java/"}],"tags":[{"name":"java","slug":"java","permalink":"http://aofeng.github.io/tags/java/"},{"name":"gson","slug":"gson","permalink":"http://aofeng.github.io/tags/gson/"},{"name":"json","slug":"json","permalink":"http://aofeng.github.io/tags/json/"},{"name":"serialize","slug":"serialize","permalink":"http://aofeng.github.io/tags/serialize/"},{"name":"序列化","slug":"序列化","permalink":"http://aofeng.github.io/tags/序列化/"}],"keywords":[{"name":"编程","slug":"编程","permalink":"http://aofeng.github.io/categories/编程/"},{"name":"Java","slug":"编程/Java","permalink":"http://aofeng.github.io/categories/编程/Java/"}]},{"title":"将项目从HG迁移至Git","slug":"将项目从HG迁移至Git","date":"2015-07-21T12:38:18.000Z","updated":"2016-11-06T12:05:35.000Z","comments":true,"path":"2015/07/21/将项目从HG迁移至Git/","link":"","permalink":"http://aofeng.github.io/2015/07/21/将项目从HG迁移至Git/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x4E00;&#x3001;&#x9884;&#x5907; &#x4E8C;&#x3001;&#x8FC1;&#x79FB;&#x8FC7;&#x7A0B; GIT&#x5BF9;&#x591A;&#x5206;&#x652F;&#x6709;&#x7740;&#x975E;&#x5E38;&#x597D;&#x7684;&#x652F;&#x6301;&#xFF0C;&#x56E2;&#x961F;&#x7684;&#x9879;&#x76EE;&#x9010;&#x6E10;&#x4ECE;HG&#x8FC1;&#x79FB;&#x81F3;GIT&#x3002;&#x8FC1;&#x79FB;&#x540E;&#xFF0C;&#x5982;&#x4F55;&#x80FD;&#x4FDD;&#x7559;&#x539F;&#x6765;HG&#x9879;&#x76EE;&#x4E2D;&#x7684;&#x63D0;&#x4EA4;&#x5386;&#x53F2;&#x548C;tag&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x5FC5;&#x987B;&#x8981;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#xFF0C;fast-export&#x6B63;&#x662F;&#x56E0;&#x6B64;&#x800C;&#x4EA7;&#x751F;&#x3002; &#x4E00;&#x3001;&#x9884;&#x5907; &#x9700;&#x8981;&#x8FC1;&#x79FB;&#x7684;HG&#x9879;&#x76EE;&#x672C;&#x5730;&#x8DEF;&#x5F84;&#xFF1A;/devdata/projects/game/threadpool-jws-merge &#x8FC1;&#x79FB;&#x7684;&#x76EE;&#x7684;GIT&#x4ED3;&#x5E93;&#xFF1A;git@git.aofeng.local:jws-module/threadpool.git &#x4E8C;&#x3001;&#x8FC1;&#x79FB;&#x8FC7;&#x7A0B;1&#x3001;&#x83B7;&#x53D6;fast-export&#x5DE5;&#x5177;&#x3002;12cd $OPEN_SOURCE_DIRgit clone git://repo.or.cz/fast-export.git &#x8BF4;&#x660E;&#xFF1A; $OPEN_SOURCE_DIR&#x4E3A;&#x5B58;&#x653E;&#x5F00;&#x6E90;&#x9879;&#x76EE;&#x7684;&#x76EE;&#x5F55; &#xFF0C;&#x5982;&#xFF1A;/devdata/projects/open_source/ 2&#x3001;&#x65B0;&#x5EFA;GIT&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x5E76;&#x521D;&#x59CB;&#x5316;&#x3002;12345cd $GIT_REPO_ROOTmkdir threadpool-jwscd threadpool-jwsgit init &#x8BF4;&#x660E;&#xFF1A; $GIT_REPO_ROOT&#x4E3A;&#x5B58;&#x653E;GIT&#x9879;&#x76EE;&#x7684;&#x76EE;&#x5F55; &#xFF0C;&#x5982;&#xFF1A;/devdata/projects/git/ 3&#x3001;&#x4F7F;&#x7528;fast-export&#x5C06;HG&#x9879;&#x76EE;&#x8F6C;&#x6362;&#x6210;GIT&#x9879;&#x76EE;&#x3002;1$OPEN_SOURCE_DIR/fast-export/hg-fast-export.sh -r &lt;HG&#x9879;&#x76EE;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x8DEF;&#x5F84;&gt; &#x8BF4;&#x660E;&#xFF1A; &#x6267;&#x884C;&#x4E0A;&#x8FF0;&#x8F6C;&#x6362;&#x547D;&#x4EE4;&#x540E;&#xFF0C;&#x5728;$GIT_REPO_ROOT/threadpool-jws&#x4E0B;&#x9762;&#x751F;&#x6210;&#x4E86;&#x4E00;&#x4E2A;.git&#x76EE;&#x5F55;&#xFF0C;&#x5B58;&#x653E;&#x7684;&#x662F;&#x4ECE;HG&#x9879;&#x76EE;&#x8F6C;&#x6362;&#x540E;&#x7684;GIT&#x7248;&#x672C;&#x4FE1;&#x606F;&#xFF0C;&#x539F;&#x6765;&#x7684;HG&#x9879;&#x76EE;&#x4E0D;&#x53D7;&#x5F71;&#x54CD;&#x3002; &#x5F53;&#x524D;&#x4F8B;&#x5B50;&#x4E2D;&lt;HG&#x9879;&#x76EE;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x8DEF;&#x5F84;&gt;&#x4E3A;/devdata/projects/game/threadpool-jws-merge&#x3002; 4&#x3001;&#x5C06;&#x672C;&#x5730;GIT&#x4ED3;&#x5E93;&#x4E0E;&#x8FDC;&#x7A0B;GIT&#x4ED3;&#x5E93;&#x5EFA;&#x7ACB;&#x5173;&#x8054;&#x5E76;&#x63A8;&#x9001;&#x4EE3;&#x7801;&#x3002;123git checkout HEADgit remote add origin &lt;&#x8FC1;&#x79FB;&#x7684;&#x76EE;&#x7684;GIT&#x4ED3;&#x5E93;&gt;git push origin master &#x8BF4;&#x660E;&#xFF1B; &#x5F53;&#x524D;&#x4F8B;&#x5B50;&#x4E2D;&lt;&#x8FC1;&#x79FB;&#x7684;&#x76EE;&#x7684;GIT&#x4ED3;&#x5E93;&gt;&#x4E3A; git@git.aofeng.local:jws-module/threadpool.git 5&#x3001;&#x5C06;&#x6807;&#x7B7E;&#xFF08;tag&#xFF09;&#x63A8;&#x9001;&#x81F3;&#x8FDC;&#x7A0B;GIT&#x4ED3;&#x5E93;&#x3002;1git push origin --tags","categories":[{"name":"版本控制","slug":"版本控制","permalink":"http://aofeng.github.io/categories/版本控制/"},{"name":"Git","slug":"版本控制/Git","permalink":"http://aofeng.github.io/categories/版本控制/Git/"}],"tags":[{"name":"hg","slug":"hg","permalink":"http://aofeng.github.io/tags/hg/"},{"name":"git","slug":"git","permalink":"http://aofeng.github.io/tags/git/"},{"name":"版本控制","slug":"版本控制","permalink":"http://aofeng.github.io/tags/版本控制/"}],"keywords":[{"name":"版本控制","slug":"版本控制","permalink":"http://aofeng.github.io/categories/版本控制/"},{"name":"Git","slug":"版本控制/Git","permalink":"http://aofeng.github.io/categories/版本控制/Git/"}]},{"title":"Nginx-编译安装_启动_停止","slug":"Nginx-编译安装-启动-停止","date":"2015-06-30T12:49:04.000Z","updated":"2016-11-06T12:13:13.000Z","comments":true,"path":"2015/06/30/Nginx-编译安装-启动-停止/","link":"","permalink":"http://aofeng.github.io/2015/06/30/Nginx-编译安装-启动-停止/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x4E00;&#x3001;&#x9884;&#x5907; | Prerequisites &#x4E8C;&#x3001;&#x914D;&#x7F6E;&#x4F9D;&#x8D56;&#x7EC4;&#x4EF6; | Setup Dependents &#x4E09;&#x3001;&#x5B89;&#x88C5;Nginx | Install Nginx &#x56DB;&#x3001;Nginx&#x542F;&#x52A8;&#x548C;&#x505C;&#x6B62; | How to start and stop nginx &#x4E94;&#x3001;&#x53C2;&#x8003;&#x8D44;&#x6599; | References &#x4E00;&#x3001;&#x9884;&#x5907; | Prerequisites CentOS5 / RedHat5 /CentOS6 / RedHat6 GCC-4.1.2 Nginx-1.9.2 pcre-8.21 zlib-1.2.5 openssl-1.0.2c &#x4E8C;&#x3001;&#x914D;&#x7F6E;&#x4F9D;&#x8D56;&#x7EC4;&#x4EF6; | Setup Dependents1234567891011121314# &#x8FDB;&#x5165;&#x5B58;&#x653E;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;cd ~/download# PCRE&#x6E90;&#x7801;&#x4E0B;&#x8F7D;&#x548C;&#x89E3;&#x538B;wget http://sourceforge.net/projects/pcre/files/pcre/8.21/pcre-8.21.tar.gz/downloadtar -zxvf pcre-8.21.tar.gz -C ../build/# zlib&#x6E90;&#x7801;&#x4E0B;&#x8F7D;&#x548C;&#x89E3;&#x538B;wget http://sourceforge.net/projects/libpng/files/zlib/1.2.5/zlib-1.2.5.tar.gz/download?use_mirror=nchc&amp;download=tar -zxvf zlib-1.2.5.tar.gz -C ../build/# OpenSSL&#x6E90;&#x7801;&#x4E0B;&#x8F7D;&#x548C;&#x89E3;&#x538B;wget --no-check-certificate https://www.openssl.org/source/openssl-1.0.2c.tar.gztar -zxvf openssl-1.0.2c.tar.gz -C ../build/ &#x4E09;&#x3001;&#x5B89;&#x88C5;Nginx | Install Nginx1&#x3001;&#x4E0B;&#x8F7D;Nginx&#x6E90;&#x7801;&#x5E76;&#x89E3;&#x538B;&#x3002;123456# &#x8FDB;&#x5165;&#x5B58;&#x653E;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;cd ~/download# &#x4E0B;&#x8F7D;&#x6E90;&#x7801;&#x5E76;&#x89E3;&#x538B;wget http://nginx.org/download/nginx-1.9.2.tar.gztar -zxvf nginx-1.9.2.tar.gz -C ../build/ 2&#x3001;&#x7F16;&#x8BD1;&#x4E09;&#x6B65;&#x66F2;&#x3002;1&#xFF09;&#x7F16;&#x8BD1;&#x914D;&#x7F6E;&#x3002;123456789./configure --prefix=/home/sdkserver/local/nginx-1.9.2 \\ --with-pcre=/home/sdkserver/build/pcre-8.21 --with-pcre-jit \\ --with-zlib=/home/sdkserver/build/zlib-1.2.5 \\ --with-openssl=/home/sdkserver/build/openssl-1.0.2c --with-http_ssl_module \\ --http-client-body-temp-path=/home/sdkserver/local/nginx-1.9.2/temp/body \\ --http-fastcgi-temp-path=/home/sdkserver/local/nginx-1.9.2/temp/fastcgi \\ --http-proxy-temp-path=/home/sdkserver/local/nginx-1.9.2/temp/proxy \\ --http-scgi-temp-path=/home/sdkserver/local/nginx-1.9.2/temp/scgi \\ --http-uwsgi-temp-path=/home/sdkserver/local/nginx-1.9.2/temp/uwsgi &#x914D;&#x7F6E;&#x6210;&#x529F;&#xFF0C;&#x7CFB;&#x7EDF;&#x8F93;&#x51FA;&#x7C7B;&#x4F3C;&#x5982;&#x4E0B;&#x4FE1;&#x606F;&#xFF1A; Configuration summary + using PCRE library: /home/sdkserver/build/pcre-8.21 + using OpenSSL library: /home/sdkserver/build/openssl-1.0.2c + md5: using OpenSSL library + sha1: using OpenSSL library + using zlib library: /home/sdkserver/build/zlib-1.2.5 nginx path prefix: &quot;/home/sdkserver/local/nginx-1.9.2&quot; nginx binary file: &quot;/home/sdkserver/local/nginx-1.9.2/sbin/nginx&quot; nginx configuration prefix: &quot;/home/sdkserver/local/nginx-1.9.2/conf&quot; nginx configuration file: &quot;/home/sdkserver/local/nginx-1.9.2/conf/nginx.conf&quot; nginx pid file: &quot;/home/sdkserver/local/nginx-1.9.2/logs/nginx.pid&quot; nginx error log file: &quot;/home/sdkserver/local/nginx-1.9.2/logs/error.log&quot; nginx http access log file: &quot;/home/sdkserver/local/nginx-1.9.2/logs/access.log&quot; nginx http client request body temporary files: &quot;/home/sdkserver/local/nginx-1.9.2/temp/body&quot; nginx http proxy temporary files: &quot;/home/sdkserver/local/nginx-1.9.2/temp/proxy&quot; nginx http fastcgi temporary files: &quot;/home/sdkserver/local/nginx-1.9.2/temp/fastcgi&quot; nginx http uwsgi temporary files: &quot;/home/sdkserver/local/nginx-1.9.2/temp/uwsgi&quot; nginx http scgi temporary files: &quot;/home/sdkserver/local/nginx-1.9.2/temp/scgi&quot; 2)&#x7F16;&#x8BD1;&#x5B89;&#x88C5;&#x3002;12makemake install &#x56DB;&#x3001;Nginx&#x542F;&#x52A8;&#x548C;&#x505C;&#x6B62; | How to start and stop nginx1&#x3001;&#x542F;&#x52A8;Nginx&#x3002;1./sbin/nginx -c ./conf/nginx.conf 2&#x3001;&#x505C;&#x6B62;Nginx&#x3002;1&#xFF09;&#x5B89;&#x5168;&#x505C;&#x6B62;&#x3002;1kill -QUIT [Nginx&#x4E3B;&#x8FDB;&#x7A0B;&#x53F7;] &#x6216;1./sbin/nginx -s quit 2&#xFF09;&#x5FEB;&#x901F;&#x505C;&#x6B62;&#x3002;1kill -TERM [Nginx&#x4E3B;&#x8FDB;&#x7A0B;&#x53F7;] &#x6216;1kill -INT [Nginx&#x4E3B;&#x8FDB;&#x7A0B;&#x53F7;] &#x6216;1./sbin/nginx -s stop 3&#x3001;&#x91CD;&#x542F;Nginx&#x3002;1kill -HUP [Nginx&#x4E3B;&#x8FDB;&#x7A0B;&#x53F7;] &#x6216;1./sbin/nginx -s reload 4&#x3001;&#x68C0;&#x67E5;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x8BED;&#x6CD5;&#x662F;&#x5426;&#x6B63;&#x786E;&#x3002;1./sbin/nginx -t -c ./conf/nginx.conf &#x4E94;&#x3001;&#x53C2;&#x8003;&#x8D44;&#x6599; | References Building nginx from Sources Installation and compile-time options Building nginx from source","categories":[{"name":"开源组件","slug":"开源组件","permalink":"http://aofeng.github.io/categories/开源组件/"},{"name":"Nginx","slug":"开源组件/Nginx","permalink":"http://aofeng.github.io/categories/开源组件/Nginx/"}],"tags":[{"name":"nginx","slug":"nginx","permalink":"http://aofeng.github.io/tags/nginx/"}],"keywords":[{"name":"开源组件","slug":"开源组件","permalink":"http://aofeng.github.io/categories/开源组件/"},{"name":"Nginx","slug":"开源组件/Nginx","permalink":"http://aofeng.github.io/categories/开源组件/Nginx/"}]},{"title":"CentOS6 在VirtualBox中实现全屏和根据窗口大小自动调整分辨率","slug":"CentOS6-在VirtualBox中实现全屏和根据窗口大小自动调整分辨率","date":"2015-06-10T13:05:42.000Z","updated":"2016-11-06T12:45:53.000Z","comments":true,"path":"2015/06/10/CentOS6-在VirtualBox中实现全屏和根据窗口大小自动调整分辨率/","link":"","permalink":"http://aofeng.github.io/2015/06/10/CentOS6-在VirtualBox中实现全屏和根据窗口大小自动调整分辨率/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x73AF;&#x5883; | Enviroment &#x5B89;&#x88C5; | Setup &#x9644;&#x52A0;&#x8BF4;&#x660E; | Additions &#x524D;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x300A;CentOS6 Minimal &#x5B89;&#x88C5;&#x684C;&#x9762;(GNOME)&#x300B;&#x5199;&#x4E86;&#x5982;&#x4F55;&#x7ED9;CentOS&#x5B89;&#x88C5;&#x56FE;&#x5F62;&#x684C;&#x9762;&#x7CFB;&#x7EDF;&#xFF0C;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x8BF4;&#x660E;&#x901A;&#x8FC7;&#x5B89;&#x88C5;&#x589E;&#x5F3A;&#x5305;&#x6765;&#x5B9E;&#x73B0;VirtualBox&#x4E2D;&#x7684;CentOS6.x&#x5B9E;&#x73B0;&#x5168;&#x5C4F;&#x548C;&#x5206;&#x8FA8;&#x7387;&#x81EA;&#x52A8;&#x8C03;&#x6574;&#x3002; &#x73AF;&#x5883; | Enviroment CentOS 6.6 VirtualBox 4.3.28 &#x5B89;&#x88C5; | Setup&#x6574;&#x4E2A;&#x8FC7;&#x7A0B;&#x5206;&#x4E3A;4&#x4E2A;&#x6B65;&#x805A;&#xFF0C;&#x8BB8;&#x591A;&#x4EBA;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x5B89;&#x88C5;&#x663E;&#x5361;&#x9A71;&#x52A8;&#x5BFC;&#x81F4;&#x5B89;&#x88C5;&#x4E86;&#x589E;&#x5F3A;&#x5305;&#x540E;&#x65E0;&#x6CD5;&#x5B9E;&#x73B0;&#x5206;&#x8FA8;&#x7387;&#x81EA;&#x52A8;&#x8C03;&#x6574;&#x3002;&#x6CE8;&#xFF1A;&#x6240;&#x6709;&#x7684;&#x5B89;&#x88C5;&#x5FC5;&#x987B;&#x62E5;&#x6709;root&#x6743;&#x9650;&#x3002; 1&#x3001;&#x5B89;&#x88C5;&#x7F16;&#x8BD1;&#x6240;&#x9700;&#x7684;&#x4F9D;&#x8D56;&#x5305;1yum groupinstall &quot;Development Tools&quot; 2&#x3001;&#x5B89;&#x88C5;&#x5185;&#x6838;&#x5F00;&#x53D1;&#x5305;12yum install kernel-develyum install kernel-headers 3&#x3001;&#x5B89;&#x88C5;ATI/AMD&#x663E;&#x5361;&#x9A71;&#x52A8; 1&#xFF09;&#x589E;&#x52A0;&#x65B0;&#x7684;&#x516C;&#x94A5;&#x3002;1rpm --import http://elrepo.org/RPM-GPG-KEY-elrepo.org 2&#xFF09;&#x5B89;&#x88C5;yum-plugin-fastestmirror&#x3002;12rpm -Uvh http://www.elrepo.org/elrepo-release-6-6.el6.elrepo.noarch.rpmyum -y install yum-plugin-fastestmirror 3&#xFF09;&#x5B89;&#x88C5;&#x663E;&#x5361;&#x9A71;&#x52A8;&#x3002;1yum -y install kmod-fglrx 4&#x3001;&#x5B89;&#x88C5;VirtualBox&#x589E;&#x5F3A;&#x5305;12cd /media/VBOXADDITIONS_4.3.28_100309/./VBoxLinuxAdditions.run &#x7CFB;&#x7EDF;&#x8F93;&#x51FA;&#x5982;&#x4E0B;&#x4FE1;&#x606F;&#xFF1A; Verifying archive integrity&#x2026; All good.Uncompressing VirtualBox 4.3.28 Guest Additions for Linux&#x2026;&#x2026;&#x2026;&#x2026;VirtualBox Guest Additions installerRemoving installed version 4.3.28 of VirtualBox Guest Additions&#x2026;Copying additional installer modules &#x2026;Installing additional modules &#x2026;Removing existing VirtualBox non-DKMS kernel modules [&#x786E;&#x5B9A;]Building the VirtualBox Guest Additions kernel modulesBuilding the main Guest Additions module [&#x786E;&#x5B9A;]Building the shared folder support module [&#x786E;&#x5B9A;]Building the OpenGL support module [&#x786E;&#x5B9A;]Doing non-kernel setup of the Guest Additions [&#x786E;&#x5B9A;]You should restart your guest to make sure the new modules are actually used Installing the Window System driversInstalling X.Org Server 1.15 modules [&#x786E;&#x5B9A;]Setting up the Window System to use the Guest Additions [&#x786E;&#x5B9A;]You may need to restart the the Window System (or just restart the guest system)to enable the Guest Additions. Installing graphics libraries and desktop services componen[&#x786E;&#x5B9A;] &#x91CD;&#x542F;&#x7CFB;&#x7EDF;&#xFF0C;CentOS&#x5C31;&#x53EF;&#x6839;&#x636E;&#x7A97;&#x53E3;&#x5927;&#x5C0F;&#x81EA;&#x52A8;&#x8C03;&#x6574;&#x5206;&#x8FA8;&#x7387;&#x4E86;&#xFF1A; &#x9644;&#x52A0;&#x8BF4;&#x660E; | Additions&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5B89;&#x88C5;&#x663E;&#x5361;&#x9A71;&#x52A8;&#xFF0C;&#x5B89;&#x88C5;&#x4E86;&#x589E;&#x5F3A;&#x5305;&#x540E;&#x865A;&#x62DF;&#x673A;&#x4E2D;&#x7684;CentOS&#x4E0D;&#x80FD;&#x81EA;&#x52A8;&#x6839;&#x636E;&#x7A97;&#x53E3;&#x5927;&#x5C0F;&#x7684;&#x6539;&#x53D8;&#x800C;&#x81EA;&#x52A8;&#x8C03;&#x6574;&#x5206;&#x8FA8;&#x7387;&#xFF0C;&#x53EA;&#x663E;&#x793A;&#x4E86;&#x4E24;&#x4E2A;&#x5206;&#x8FA8;&#x7387;&#xFF1A; 1024*768 60Hz 800*600 60Hz","categories":[{"name":"操作系统","slug":"操作系统","permalink":"http://aofeng.github.io/categories/操作系统/"},{"name":"Linux","slug":"操作系统/Linux","permalink":"http://aofeng.github.io/categories/操作系统/Linux/"}],"tags":[{"name":"linux","slug":"linux","permalink":"http://aofeng.github.io/tags/linux/"},{"name":"centos","slug":"centos","permalink":"http://aofeng.github.io/tags/centos/"},{"name":"virtualbox","slug":"virtualbox","permalink":"http://aofeng.github.io/tags/virtualbox/"}],"keywords":[{"name":"操作系统","slug":"操作系统","permalink":"http://aofeng.github.io/categories/操作系统/"},{"name":"Linux","slug":"操作系统/Linux","permalink":"http://aofeng.github.io/categories/操作系统/Linux/"}]},{"title":"CentOS6 Minimal 安装桌面GNOME","slug":"CentOS6-Minimal-安装桌面GNOME","date":"2015-06-05T13:35:40.000Z","updated":"2016-11-06T12:37:58.000Z","comments":true,"path":"2015/06/05/CentOS6-Minimal-安装桌面GNOME/","link":"","permalink":"http://aofeng.github.io/2015/06/05/CentOS6-Minimal-安装桌面GNOME/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x4F7F;&#x7528;CentOS Minimal ISO&#x5B89;&#x88C5;&#x597D;&#x7CFB;&#x7EDF;&#x540E;&#xFF0C;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x5B89;&#x88C5;&#x684C;&#x9762;&#x7CFB;&#x7EDF;&#x65E0;&#x6CD5;&#x8FD0;&#x884C;GUI&#x5E94;&#x7528;&#x3002;&#x5148;&#x53C2;&#x8003;&#x6211;&#x5199;&#x7684;&#x524D;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x300A;CentOS6 Minimal &#x6587;&#x672C;&#x6A21;&#x5F0F;&#x4E0B;&#x914D;&#x7F6E;&#x7F51;&#x7EDC;&#x300B;&#x914D;&#x7F6E;&#x597D;&#x7F51;&#x7EDC;&#xFF0C;&#x7136;&#x540E;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;1yum groupinstall basic-desktop desktop-platform x11 fonts &#x5927;&#x7EA6;&#x8981;&#x4E0B;&#x8F7D;350MB&#x5DE6;&#x53F3;&#x7684;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x5B89;&#x88C5;&#xFF0C;&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;1startx &#x542F;&#x52A8;&#x684C;&#x9762;&#x540E;&#x7684;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x5982;&#x679C;&#x8981;&#x60F3;&#x6BCF;&#x6B21;&#x542F;&#x52A8;&#x540E;&#x81EA;&#x52A8;&#x8FDB;&#x5165;&#x684C;&#x9762;&#x7CFB;&#x7EDF;&#xFF0C;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#xFF1A;1vi /etc/inittab &#x627E;&#x5230;&#x5982;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A;12345678910# Default runlevel. The runlevels used are:# 0 - halt (Do NOT set initdefault to this)# 1 - Single user mode# 2 - Multiuser, without NFS (The same as 3, if you do not have networking)# 3 - Full multiuser mode# 4 - unused# 5 - X11# 6 - reboot (Do NOT set initdefault to this)#id:3:initdefault: &#x5C06;id:3:initdefault:&#x6539;&#x6210;id:5:initdefault:&#x3002;","categories":[{"name":"操作系统","slug":"操作系统","permalink":"http://aofeng.github.io/categories/操作系统/"},{"name":"Linux","slug":"操作系统/Linux","permalink":"http://aofeng.github.io/categories/操作系统/Linux/"}],"tags":[{"name":"linux","slug":"linux","permalink":"http://aofeng.github.io/tags/linux/"},{"name":"centos","slug":"centos","permalink":"http://aofeng.github.io/tags/centos/"},{"name":"桌面","slug":"桌面","permalink":"http://aofeng.github.io/tags/桌面/"},{"name":"gnome","slug":"gnome","permalink":"http://aofeng.github.io/tags/gnome/"}],"keywords":[{"name":"操作系统","slug":"操作系统","permalink":"http://aofeng.github.io/categories/操作系统/"},{"name":"Linux","slug":"操作系统/Linux","permalink":"http://aofeng.github.io/categories/操作系统/Linux/"}]},{"title":"CentOS6 Minimal 文本模式下配置网络","slug":"CentOS6-Minimal-文本模式下配置网络","date":"2015-06-05T13:00:08.000Z","updated":"2016-11-06T12:30:07.000Z","comments":true,"path":"2015/06/05/CentOS6-Minimal-文本模式下配置网络/","link":"","permalink":"http://aofeng.github.io/2015/06/05/CentOS6-Minimal-文本模式下配置网络/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x4E00;&#x3001;&#x8BBE;&#x7F6E;&#x7F51;&#x5361;1&#xFF08;DHCP&#xFF09; &#x4E8C;&#x3001;&#x8BBE;&#x7F6E;&#x7F51;&#x5361;2&#xFF08;Static&#xFF09; &#x4E09;&#x3001;&#x91CD;&#x542F;&#x7F51;&#x5361; &#x56DB;&#x3001;&#x67E5;&#x770B;&#x7F51;&#x5361;&#x4FE1;&#x606F; &#x4E94;&#x3001;&#x9A8C;&#x8BC1; &#x968F;&#x7740;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x670D;&#x52A1;&#x5668;&#x786C;&#x4EF6;&#x7684;&#x5347;&#x7EA7;&#xFF0C;&#x5176;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4ECE;RedHat5.x&#x6539;&#x7528;RedHat6.x&#xFF0C;&#x4E2A;&#x4EBA;&#x7684;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x4E5F;&#x8981;&#x4ECE;CentOS5.x&#x6539;&#x7528;CentOS6.x&#xFF0C;&#x907F;&#x514D;&#x56E0;&#x4F9D;&#x8D56;&#x5E93;&#x7248;&#x672C;&#x4E0D;&#x540C;&#x5BFC;&#x81F4;&#x517C;&#x5BB9;&#x95EE;&#x9898;&#x3002;CentOS6.6&#x5B89;&#x88C5;&#x5728;VirtualBox&#x4E2D;&#xFF0C;&#x914D;&#x7F6E;&#x6709;&#x4E24;&#x5757;&#x7F51;&#x5361;&#xFF0C;&#x65B0;&#x88C5;&#x540E;&#x7684;&#x7CFB;&#x7EDF;&#x9ED8;&#x8BA4;&#x662F;&#x4E0D;&#x80FD;&#x8FDE;&#x63A5;&#x7F51;&#x7EDC;&#x7684;&#xFF0C;&#x9700;&#x8981;&#x624B;&#x5DE5;&#x8BBE;&#x7F6E;&#xFF1A; &#x7F51;&#x5361;1&#xFF0C;&#x4F7F;&#x7528;NAT&#xFF0C;&#x7528;&#x4E8E;&#x8FDE;&#x63A5;&#x516C;&#x7F51;&#x3002; &#x7F51;&#x5361;2&#xFF0C;&#x4F7F;&#x7528;Host-Only&#xFF0C;&#x7528;&#x4E8E;&#x4E0E;&#x4E3B;&#x673A;&#x901A;&#x4FE1;&#x3002; &#x7531;&#x4E8E;&#x540C;&#x65F6;&#x5F00;&#x542F;&#x591A;&#x4E2A;&#x865A;&#x62DF;&#x673A;&#xFF0C;&#x4E0D;&#x5E0C;&#x671B;&#x5B83;&#x4EEC;&#x7684;IP&#x5730;&#x5740;&#x56E0;&#x542F;&#x52A8;&#x987A;&#x5E8F;&#x4E0D;&#x540C;&#x800C;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x5BF9;&#x7F51;&#x5361;2&#x7684;IP&#x5730;&#x5740;&#x8FDB;&#x884C;&#x9759;&#x6001;&#x8BBE;&#x7F6E;&#xFF0C;&#x7F51;&#x5361;1&#x7684;IP&#x5730;&#x5740;&#x4F7F;&#x7528;DHCP&#x52A8;&#x6001;&#x5206;&#x914D;&#x3002; &#x6CE8;&#xFF1A;&#x4EE5;&#x4E0B;&#x7684;&#x64CD;&#x4F5C;&#x5FC5;&#x987B;&#x5177;&#x6709;root&#x6743;&#x9650;&#x3002; &#x4E00;&#x3001;&#x8BBE;&#x7F6E;&#x7F51;&#x5361;1&#xFF08;DHCP&#xFF09;1&#x3001;&#x8FDB;&#x5165;/etc/sysconfig/network-scripts&#x76EE;&#x5F55;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x7F51;&#x5361;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF1A;12cd /etc/sysconfig/network-scriptsls 2&#x3001;&#x7F16;&#x8F91;&#x7F51;&#x5361;1&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;ifcfg-eth0&#xFF1A;1vi ifcfg-eth0 &#x5C06;ONBOOT&#x7684;&#x503C;&#x6539;&#x6210;yes&#xFF0C;&#x6700;&#x7EC8;&#x7684;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A;1234567DEVICE=eth0HWADDR=08:00:27:CD:C3:2ETYPE=EthernetUUID=b40ddfdd-504a-4711-aa89-d554463cd393ONBOOT=yesNM_CONTROLLED=yesBOOTPROTO=dhcp &#x4E8C;&#x3001;&#x8BBE;&#x7F6E;&#x7F51;&#x5361;2&#xFF08;Static&#xFF09;&#x7F16;&#x8F91;&#x7F51;&#x5361;2&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;ifcfg-eth1&#xFF1A;1vi ifcfg-eth1 &#x5C06;ONBOOT&#x7684;&#x503C;&#x6539;&#x6210;yes&#xFF0C;BOOTPROTO&#x7684;&#x503C;&#x6539;&#x6210;static&#xFF0C;&#x5E76;&#x589E;&#x52A0;IPADDR&#x548C;NETMASK&#x4E24;&#x884C;&#xFF0C;&#x6700;&#x7EC8;&#x7684;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A;123456789DEVICE=eth1HWADDR=08:00:27:20:93:41TYPE=EthernetUUID=b67f7e1c-31b8-4c33-ac52-a38d935b871cONBOOT=yesNM_CONTROLLED=yesBOOTPROTO=staticIPADDR=192.168.56.103NETMASK=255.255.255.0 &#x4E09;&#x3001;&#x91CD;&#x542F;&#x7F51;&#x5361;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x91CD;&#x542F;&#x7F51;&#x5361;&#xFF1A;1service network restart &#x56DB;&#x3001;&#x67E5;&#x770B;&#x7F51;&#x5361;&#x4FE1;&#x606F;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x663E;&#x793A;&#x7F51;&#x5361;&#x4FE1;&#x606F;&#xFF1A;1ip a &#x7CFB;&#x7EDF;&#x663E;&#x793A;&#x5982;&#x4E0B;&#x4FE1;&#x606F;&#xFF1A; 1: lo: mtu 65536 qdisc noqueue state UNKNOWN link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo inet6 ::1/128 scope host valid_lft forever preferred_lft forever2: eth0: mtu 1500 qdisc pfifo_fast state UP qlen 1000 link/ether 08:00:27:cd:c3:2e brd ff:ff:ff:ff:ff:ff inet 10.0.2.15/24 brd 10.0.2.255 scope global eth0 inet6 fe80::a00:27ff:fecd:c32e/64 scope link valid_lft forever preferred_lft forever3: eth1: mtu 1500 qdisc pfifo_fast state UP qlen 1000 link/ether 08:00:27:20:93:41 brd ff:ff:ff:ff:ff:ff inet 192.168.56.103/24 brd 192.168.56.255 scope global eth1 inet6 fe80::a00:27ff:fe20:9341/64 scope link valid_lft forever preferred_lft forever &#x4E94;&#x3001;&#x9A8C;&#x8BC1;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x9A8C;&#x8BC1;&#x662F;&#x5426;&#x53EF;&#x6B63;&#x5E38;&#x5730;&#x8FDE;&#x63A5;&#x5230;&#x516C;&#x7F51;&#xFF1A;1ping -c 4 www.google.com &#x7CFB;&#x7EDF;&#x663E;&#x793A;&#x5982;&#x4E0B;&#x4FE1;&#x606F;&#xFF0C;&#x8BF4;&#x660E;&#x5DF2;&#x7ECF;&#x6210;&#x529F;&#x5730;&#x8FDE;&#x63A5;&#x5230;&#x516C;&#x7F51;&#xFF1A; PING www.google.com (216.58.221.100) 56(84) bytes of data.64 bytes from hkg07s01-in-f4.1e100.net (216.58.221.100): icmp_seq=1 ttl=50 time=7.08 ms64 bytes from hkg07s01-in-f4.1e100.net (216.58.221.100): icmp_seq=2 ttl=50 time=7.79 ms64 bytes from hkg07s01-in-f4.1e100.net (216.58.221.100): icmp_seq=3 ttl=50 time=7.23 ms64 bytes from hkg07s01-in-f4.1e100.net (216.58.221.100): icmp_seq=4 ttl=50 time=6.88 ms &#x2014; www.google.com ping statistics &#x2014;4 packets transmitted, 4 received, 0% packet loss, time 3018msrtt min/avg/max/mdev = 6.889/7.248/7.793/0.342 ms","categories":[{"name":"操作系统","slug":"操作系统","permalink":"http://aofeng.github.io/categories/操作系统/"},{"name":"Linux","slug":"操作系统/Linux","permalink":"http://aofeng.github.io/categories/操作系统/Linux/"}],"tags":[{"name":"linux","slug":"linux","permalink":"http://aofeng.github.io/tags/linux/"},{"name":"centos","slug":"centos","permalink":"http://aofeng.github.io/tags/centos/"},{"name":"网络","slug":"网络","permalink":"http://aofeng.github.io/tags/网络/"}],"keywords":[{"name":"操作系统","slug":"操作系统","permalink":"http://aofeng.github.io/categories/操作系统/"},{"name":"Linux","slug":"操作系统/Linux","permalink":"http://aofeng.github.io/categories/操作系统/Linux/"}]},{"title":"MySQL5.5-主从复制配置","slug":"MySQL5-5-主从复制配置","date":"2015-06-02T08:11:42.000Z","updated":"2016-11-06T13:04:27.000Z","comments":true,"path":"2015/06/02/MySQL5-5-主从复制配置/","link":"","permalink":"http://aofeng.github.io/2015/06/02/MySQL5-5-主从复制配置/","excerpt":"","text":"&#x4F5C;&#x8005;&#xFF1A;&#x8042;&#x52C7; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x8BF7;&#x4FDD;&#x7559;&#x4F5C;&#x8005;&#x4FE1;&#x606F;&#x5E76;&#x8BF4;&#x660E;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#xFF01; &#x4E00;&#x3001;&#x73AF;&#x5883; &#x4E8C;&#x3001;&#x914D;&#x7F6E;&#x670D;&#x52A1;&#x5668;ID&#x548C;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7; 1&#x3001;&#x914D;&#x7F6E;Master 2&#x3001;&#x914D;&#x7F6E;Slave &#x4E09;&#x3001;&#x6388;&#x6743;&#x548C;&#x590D;&#x5236;&#x914D;&#x7F6E; 1&#x3001;&#x914D;&#x7F6E;Master 2&#x3001;&#x914D;&#x7F6E;Slave &#x56DB;&#x3001;&#x9A8C;&#x8BC1; 1&#x3001;&#x67E5;&#x770B;Master&#x7684;&#x8FDB;&#x7A0B; 2&#x3001;&#x67E5;&#x770B;Slave&#x7684;&#x8FDB;&#x7A0B; 3&#x3001;&#x4E3B;&#x4ECE;&#x6570;&#x636E;&#x590D;&#x5236;&#x6821;&#x9A8C; &#x4E94;&#x3001;&#x53C2;&#x8003;&#x8D44;&#x6599; &#x5728;&#x5927;&#x578B;&#x7684;&#x4E92;&#x8054;&#x7F51;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x8BFB;&#x7684;&#x8BF7;&#x6C42;&#x975E;&#x5E38;&#x9891;&#x7E41;&#xFF0C;&#x5355;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x8282;&#x70B9;&#x4E0D;&#x80FD;&#x6EE1;&#x8DB3;&#x8BFB;&#x7684;&#x8981;&#x6C42;&#xFF0C;&#x5E38;&#x89C1;&#x7684;&#x505A;&#x6CD5;&#x662F;&#xFF1A;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#xFF0C;&#x5C06;&#x8BFB;&#x64CD;&#x4F5C;&#x5206;&#x5E03;&#x81F3;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x4ECE;&#x8282;&#x70B9;&#x3002;&#x9664;&#x4E86;&#x9AD8;&#x6027;&#x80FD;&#x5916;&#xFF0C;&#x9AD8;&#x53EF;&#x7528;&#x548C;&#x5BB9;&#x707E;&#x4E5F;&#x662F;&#x4E0D;&#x5BB9;&#x5FFD;&#x89C6;&#x7684;&#x8981;&#x6C42;&#xFF0C;&#x8BB8;&#x591A;&#x7CFB;&#x7EDF;&#x4F1A;&#x505A;&#x6570;&#x636E;&#x5907;&#x4EFD;&#xFF0C;&#x901A;&#x8FC7;&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x5C06;&#x6570;&#x636E;&#x5907;&#x4EFD;&#x81F3;&#x53E6;&#x4E00;&#x53F0;&#x7269;&#x7406;&#x670D;&#x52A1;&#x5668;&#x6216;&#x8005;&#x5F02;&#x5730;&#x673A;&#x623F;&#x3002;MySQL&#x652F;&#x6301;&#x591A;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#x590D;&#x5236;&#xFF1A; &#x57FA;&#x4E8E;&#x8BED;&#x53E5;&#x7684;&#x590D;&#x5236;&#xFF1A;&#x6280;&#x672F;&#x6210;&#x719F;&#x3001;&#x590D;&#x5236;&#x6570;&#x636E;&#x9AD8;&#x6548;&#xFF0C;&#x4F46;&#x5728;&#x4E00;&#x4E9B;&#x7279;&#x6B8A;&#x573A;&#x666F;&#xFF08;&#x5982;&#xFF1A;&#x8BED;&#x53E5;&#x4E2D;&#x542B;&#x6709;now()&#x7B49;&#x8868;&#x793A;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#x7684;&#x51FD;&#x6570;&#xFF09;&#x4E2D;&#x4F1A;&#x5BFC;&#x81F4;&#x6570;&#x636E;&#x4E0D;&#x4E00;&#x81F4;&#x3002; &#x57FA;&#x4E8E;&#x884C;&#x7684;&#x590D;&#x5236;&#xFF1A;&#x57FA;&#x4E8E;&#x8868;&#x7684;&#x53D8;&#x5316;&#x8BB0;&#x5F55;&#x884C;&#x4FE1;&#x606F;&#xFF0C;&#x662F;&#x6700;&#x5B89;&#x5168;&#x7684;&#x590D;&#x5236;&#x65B9;&#x5F0F;&#xFF0C;&#x5982;&#x679C;&#x8BED;&#x53E5;&#x66F4;&#x65B0;&#x4E86;&#x5927;&#x91CF;&#x7684;&#x884C;&#xFF0C;&#x4F1A;&#x751F;&#x6210;&#x5F88;&#x5927;&#x7684;&#x65E5;&#x5FD7;&#xFF0C;&#x6548;&#x7387;&#x53D7;&#x5F71;&#x54CD;&#x3002; &#x6DF7;&#x5408;&#x6A21;&#x5F0F;&#xFF1A;&#x517C;&#x987E;&#x57FA;&#x4E8E;&#x8BED;&#x53E5;&#x548C;&#x57FA;&#x4E8E;&#x884C;&#x7684;&#x4F18;&#x70B9;&#xFF0C;&#x6B63;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#x7528;&#x57FA;&#x4E8E;&#x8BED;&#x53E5;&#x6765;&#x590D;&#x5236;&#x6570;&#x636E;&#xFF0C;&#x5BF9;&#x4E8E;&#x4E0D;&#x5B89;&#x5168;&#x7684;&#x8BED;&#x53E5;&#x91C7;&#x7528;&#x57FA;&#x4E8E;&#x884C;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x590D;&#x5236;&#x6570;&#x636E;&#x3002; MySQL&#x7684;&#x590D;&#x5236;&#x8FC7;&#x7A0B;&#xFF1A;Master&#x8F93;&#x51FA;bin log&#xFF08;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#xFF09;&#xFF0C;Slave&#x62C9;&#x53D6;bin log&#x5199;&#x5165;&#x672C;&#x5730;&#x7684;relay log&#xFF08;&#x4E2D;&#x7EE7;&#x65E5;&#x5FD7;&#xFF09;&#xFF0C;&#x7136;&#x540E;&#x89E3;&#x6790;&#x91CD;&#x653E;&#x64CD;&#x4F5C;&#x3002;&#x8BE6;&#x7EC6;&#x6B65;&#x805A;&#x5982;&#x4E0B;&#xFF1A; Master&#x63D0;&#x4EA4;&#x4E8B;&#x52A1;&#x4E4B;&#x524D;&#xFF0C;&#x5C06;&#x6539;&#x53D8;&#x7684;&#x5185;&#x5BB9;&#x4E32;&#x884C;&#x5730;&#x5199;&#x5165;bin log&#x3002; Slave&#x901A;&#x8FC7;I/O&#x7EBF;&#x7A0B;&#x8FDE;&#x63A5;&#x5230;Master&#xFF0C;&#x8BF7;&#x6C42;&#x4ECE;&#x6307;&#x5B9A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7684;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#x5F00;&#x59CB;&#x62C9;&#x53D6;&#x5185;&#x5BB9;&#x3002; Master&#x6536;&#x5230;&#x8BF7;&#x6C42;&#x540E;&#xFF0C;&#x901A;&#x8FC7;&#x81EA;&#x8EAB;&#x7684;I/O&#x7EBF;&#x7A0B;&#x8BFB;&#x53D6;&#x6307;&#x5B9A;&#x6587;&#x4EF6;&#x7684;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#x540E;&#x9762;&#x7684;&#x5185;&#x5BB9;&#x5E76;&#x8FD4;&#x56DE;&#x7ED9;Slave&#x3002; Slave&#x6536;&#x5230;&#x54CD;&#x5E94;&#x540E;&#xFF0C;&#x5C06;&#x65E5;&#x5FD7;&#x5185;&#x5BB9;&#x5199;&#x5165;&#x672C;&#x5730;&#x7684;relay log&#x3002; Slave&#x7684;SQL&#x7EBF;&#x7A0B;&#x89E3;&#x6790;relay log&#xFF0C;&#x8FD8;&#x539F;&#x64CD;&#x4F5C;&#xFF08;&#x5728;Slave&#x7AEF;&#x91CD;&#x653E;Master&#x7684;&#x64CD;&#x4F5C;&#xFF09;&#xFF0C;&#x4FDD;&#x6301;&#x6570;&#x636E;&#x4E00;&#x81F4;&#x3002; &#x4E00;&#x3001;&#x73AF;&#x5883; RedHat 5.x / CentOS 5.x GCC 4.1.2 MySQL Master 5.5.43&#xFF0C;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x6570;&#x636E;&#xFF0C;IP&#x5730;&#x5740;&#x4E3A;192.168.56.102&#xFF0C;&#x76D1;&#x542C;&#x7AEF;&#x53E3;&#x4E3A;19826 MySQL Slave 5.5.43&#xFF0C;&#x65B0;&#x5EFA;&#x7684;&#x5B9E;&#x4F8B;&#xFF08;&#x65E0;&#x6570;&#x636E;&#xFF09;&#xFF0C;IP&#x5730;&#x5740;&#x4E3A;192.168.56.102&#xFF0C;&#x76D1;&#x542C;&#x7AEF;&#x53E3;&#x4E3A;19836&#x3002; &#x4E8C;&#x3001;&#x914D;&#x7F6E;&#x670D;&#x52A1;&#x5668;ID&#x548C;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x8BF4;&#x660E;&#xFF1A; Master&#x548C;Slave&#x5FC5;&#x987B;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x670D;&#x52A1;&#x5668;ID&#xFF0C;&#x5982;&#x679C;&#x6709;&#x591A;&#x4E2A;Slave&#xFF0C;&#x6BCF;&#x4E2A;Slave&#x7684;&#x670D;&#x52A1;&#x5668;ID&#x4E5F;&#x5FC5;&#x987B;&#x552F;&#x4E00;&#x3002; Master&#x5FC5;&#x987B;&#x8F93;&#x51FA;bing log&#x3002; 1&#x3001;&#x914D;&#x7F6E;Master&#x6253;&#x5F00;Master&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;my.cnf&#xFF1A;1vi /home/nieyong/local/mysql-5543/data/data19826/my.cnf &#x4FEE;&#x6539;&#x5185;&#x5BB9;&#xFF1A;1234[mysqld]server-id = 26 #[&#x5FC5;&#x987B;]&#x670D;&#x52A1;&#x5668;ID&#xFF0C;&#x5728;&#x96C6;&#x7FA4;&#x4E2D;&#x5FC5;&#x987B;&#x552F;&#x4E00;log-bin = /home/nieyong/local/mysql-5543/data/data19826/data/mysql-bin #[&#x5FC5;&#x987B;]&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;binlog_format = mixed #[&#x53EF;&#x9009;]&#x914D;&#x7F6E;&#x4E3A;&#x6DF7;&#x5408;&#x6A21;&#x5F0F; 2&#x3001;&#x914D;&#x7F6E;Slave&#x6253;&#x5F00;Slave&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;my.cnf&#xFF1A;1vi /home/nieyong/local/mysql-5543/data/data19836/my.cnf &#x4FEE;&#x6539;&#x5185;&#x5BB9;&#xFF1A;1234[mysqld]server-id = 36 #[&#x5FC5;&#x987B;]&#x670D;&#x52A1;&#x5668;ID&#xFF0C;&#x5728;&#x96C6;&#x7FA4;&#x4E2D;&#x5FC5;&#x987B;&#x552F;&#x4E00;log-bin = /home/nieyong/local/mysql-5543/data/data19836/data/mysql-bin #[&#x5FC5;&#x987B;]&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;binlog_format = mixed #[&#x53EF;&#x9009;]&#x914D;&#x7F6E;&#x4E3A;&#x6DF7;&#x5408;&#x6A21;&#x5F0F; &#x6CE8;&#xFF1A;&#x914D;&#x7F6E;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x91CD;&#x542F;master&#x548C;slave&#x3002; &#x4E09;&#x3001;&#x6388;&#x6743;&#x548C;&#x590D;&#x5236;&#x914D;&#x7F6E;1&#x3001;&#x914D;&#x7F6E;Master1&#xFF09;&#x767B;&#x9646;Master&#x3002;1mysql -S /home/nieyong/local/mysql-5543/data/data19826/tmp/mysql.sock -u root -pmaster123456 2&#xFF09;&#x5728;Master&#x5EFA;&#x7ACB;&#x7528;&#x4E8E;&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x7684;&#x8D26;&#x53F7;&#x5E76;&#x6388;&#x6743;&#x3002;12CREATE USER &apos;repl_user&apos;@&apos;%&apos; IDENTIFIED BY &apos;repl_123456&apos;;GRANT REPLICATION SLAVE ON *.* TO &apos;repl_user&apos;@&apos;%&apos;; &#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A; 3&#xFF09;&#x5BFC;&#x51FA;Master&#x7684;&#x6570;&#x636E;&#x5E93;&#x3002;&#x5728;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x547D;&#x4EE4;&#x884C;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;1mysqldump -S /home/nieyong/local/mysql-5543/data/data19826/tmp/mysql.sock -u root -pmaster123456 --master-data=2 --all-databases &gt; /home/nieyong/db19826.sql &#x8BF4;&#x660E;&#xFF1A; &#x2013;master-data=2 &#x8868;&#x793A;&#x8F93;&#x51FA;change master to &#x8BED;&#x53E5;&#x5E76;&#x5728;&#x524D;&#x9762;&#x52A0;&#x4E0A;&#x6CE8;&#x91CA;&#x7B26;(#)&#xFF0C;&#x5728;Slave&#x4E0A;&#x6267;&#x884C;change master to &#x65F6;&#x4F1A;&#x7528;&#x5230;&#x3002; 4&#xFF09;&#x67E5;&#x770B;Master&#x72B6;&#x6001;&#x3002;1show master status; &#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A; 2&#x3001;&#x914D;&#x7F6E;Slave1&#xFF09;&#x767B;&#x9646;Slave&#x3002;&#x5728;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x547D;&#x4EE4;&#x884C;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;1mysql -S /home/nieyong/local/mysql-5543/data/data19836/tmp/mysql.sock -u root -pslave123456 2&#xFF09;&#x5BFC;&#x5165;&#x6570;&#x636E;&#x5E93;&#x3002;&#x5728;mysql&#x547D;&#x4EE4;&#x884C;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;1source /home/nieyong/db19826.sql 3&#xFF09;&#x67E5;&#x770B;Slave&#x72B6;&#x6001;&#x3002;&#x5728;mysql&#x547D;&#x4EE4;&#x884C;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;1show slave status; 4&#xFF09;&#x914D;&#x7F6E;&#x590D;&#x5236;&#x3002;&#x5728;mysql&#x547D;&#x4EE4;&#x884C;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;1234567change master to master_host=&apos;192.168.56.102&apos;, master_port=19826, master_user=&apos;repl_user&apos;, master_password=&apos;repl_123456&apos;, master_log_file=&apos;mysql-bin.000008&apos;, master_log_pos=107; &#x8BF4;&#x660E;&#xFF1A;db19826.sql&#x4E2D;&#x6709;&#x4E00;&#x884C;&#x5185;&#x5BB9;&#x8BB0;&#x5F55;&#x5BFC;&#x51FA;&#x6570;&#x636E;&#x65F6;bin log&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x53CA;&#x5176;&#x4F4D;&#x7F6E;&#x3002; 5&#xFF09;&#x542F;&#x52A8;Slave&#x7EBF;&#x7A0B;&#x3002;&#x5728;mysql&#x547D;&#x4EE4;&#x884C;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;1start slave; 6&#xFF09;&#x67E5;&#x770B;Slave&#x72B6;&#x6001;&#x3002;&#x5728;mysql&#x547D;&#x4EE4;&#x884C;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;1show slave status\\G mysql&#x8F93;&#x51FA;&#x5982;&#x4E0B;&#x4FE1;&#x606F;&#xFF1A; *************************** 1. row *************************** Slave_IO_State: Waiting for master to send event Master_Host: 192.168.56.102 Master_User: repl_user Master_Port: 19826 Connect_Retry: 60 Master_Log_File: mysql-bin.000008 Read_Master_Log_Pos: 107 Relay_Log_File: relay-bin.000002 Relay_Log_Pos: 253 Relay_Master_Log_File: mysql-bin.000008 Slave_IO_Running: Yes Slave_SQL_Running: Yes Replicate_Do_DB: Replicate_Ignore_DB: Replicate_Do_Table: Replicate_Ignore_Table: Replicate_Wild_Do_Table: Replicate_Wild_Ignore_Table: Last_Errno: 0 Last_Error: Skip_Counter: 0 Exec_Master_Log_Pos: 107 Relay_Log_Space: 403 Until_Condition: None Until_Log_File: Until_Log_Pos: 0 Master_SSL_Allowed: No Master_SSL_CA_File: Master_SSL_CA_Path: Master_SSL_Cert: Master_SSL_Cipher: Master_SSL_Key: Seconds_Behind_Master: 0 Master_SSL_Verify_Server_Cert: No Last_IO_Errno: 0 Last_IO_Error: Last_SQL_Errno: 0 Last_SQL_Error: Replicate_Ignore_Server_Ids: Master_Server_Id: 26 1 row in set (0.00 sec) &#x6CE8;&#xFF1A;Slave_IO_Running&#x548C;Slave_SQL_Running&#x5FC5;&#x987B;&#x90FD;&#x662F;Yes&#xFF0C;&#x5426;&#x5219;&#x5C31;&#x8BF4;&#x660E;&#x5B58;&#x5728;&#x9519;&#x8BEF;&#xFF0C;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#x6CA1;&#x6709;&#x914D;&#x7F6E;&#x6210;&#x529F;&#x3002; &#x56DB;&#x3001;&#x9A8C;&#x8BC1;1&#x3001;&#x67E5;&#x770B;Master&#x7684;&#x8FDB;&#x7A0B;&#x5728;Master&#x7684;mysql&#x547D;&#x4EE4;&#x884C;&#x8F93;&#x5165;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;1show full processlist\\G 2&#x3001;&#x67E5;&#x770B;Slave&#x7684;&#x8FDB;&#x7A0B;&#x5728;Slave&#x7684;mysql&#x547D;&#x4EE4;&#x884C;&#x8F93;&#x5165;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;1show full processlist\\G 3&#x3001;&#x4E3B;&#x4ECE;&#x6570;&#x636E;&#x590D;&#x5236;&#x6821;&#x9A8C;1&#x3001;&#x5728;Master&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x8868;&#xFF0C;SQL&#x8BED;&#x53E5;&#x5982;&#x4E0B;&#xFF1A;12345678910CREATE TABLE account_cp( cp_id int PRIMARY KEY NOT NULL, cp_name varchar(50) NOT NULL, cp_status tinyint DEFAULT 0 NOT NULL, ctime bigint NOT NULL, creator varchar(20) NOT NULL, mtime bigint, modifier varchar(20)); &#x7136;&#x540E;&#x518D;&#x63D2;&#x5165;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF1A;1insert into account_cp(cp_id, cp_name, cp_status, ctime, creator) values(1, &apos;&#x50B2;&#x98CE;&#x7684;&#x535A;&#x5BA2;&apos;, 0, 0, &apos;nieyong&apos;); 2&#x3001;&#x8FDB;&#x5165;Slave&#x67E5;&#x770B;&#xFF0C;&#x540C;&#x6837;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x65B0;&#x589E;&#x4E86;&#x4E00;&#x4E2A;&#x8868;account_cp&#xFF0C;&#x5E76;&#x4E14;&#x5B58;&#x5728;&#x4E00;&#x6761;&#x4E00;&#x6837;&#x7684;&#x8BB0;&#x5F55;&#x3002; &#x4E94;&#x3001;&#x53C2;&#x8003;&#x8D44;&#x6599; MySQL5.5&#x7F16;&#x8BD1;&#x5B89;&#x88C5;&#x548C;&#x591A;&#x5B9E;&#x4F8B;&#x914D;&#x7F6E; How to Set Up Replication","categories":[{"name":"数据库","slug":"数据库","permalink":"http://aofeng.github.io/categories/数据库/"},{"name":"MySQL","slug":"数据库/MySQL","permalink":"http://aofeng.github.io/categories/数据库/MySQL/"}],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://aofeng.github.io/tags/mysql/"},{"name":"数据库","slug":"数据库","permalink":"http://aofeng.github.io/tags/数据库/"},{"name":"主从复制","slug":"主从复制","permalink":"http://aofeng.github.io/tags/主从复制/"}],"keywords":[{"name":"数据库","slug":"数据库","permalink":"http://aofeng.github.io/categories/数据库/"},{"name":"MySQL","slug":"数据库/MySQL","permalink":"http://aofeng.github.io/categories/数据库/MySQL/"}]}]}